{"version":3,"sources":["hooks/datahook.tsx","images/logos/TypeChat.svg","pages/Home.tsx","pages/loader.tsx","images/logos/TS.svg","pages/RouterForm.tsx","cookies.tsx","pages/Login.tsx","hooks/usescreensize.tsx","playsound.ts","pages/Navbar.tsx","reportWebVitals.ts","hooks/useapi.tsx","pages/Signup.tsx","pages/error.tsx","hooks/useLocalStorage.tsx","emojis.ts","notifier.tsx","pages/Chat.tsx","pages/404.tsx","pages/profilePage.tsx","pages/usersettings.tsx","snooze.ts","pages/contacts.tsx","pages/addpeople.tsx","notification.tsx","pages/switch.tsx","pages/settings.tsx","index.tsx"],"names":["data","createContext","undefined","useData","useContext","Home","loggedin","to","src","TypeChat","alt","style","width","maxWidth","display","margin","textAlign","color","Loader","marginTop","justifyContent","className","RouterForm","action","beforecallback","callback","children","appendtoformdata","fd","onerror","e","console","error","onSubmit","a","preventDefault","FormData","index","target","length","element","type","file","files","append","name","value","checked","newformdata","fetch","method","body","json","result","Cookies","Login","rechecklogged","useState","seterror","history","useHistory","loading","setloading","push","logo","borderRadius","fontSize","fontFamily","icon","faSignInAlt","email","test","String","toLowerCase","resp","cookies","set","token","path","expires","Date","now","err","placeholder","background","borderTop","borderRight","borderBottom","borderLeft","borderImage","marginBottom","paddingBottom","padding","border","boxShadow","useWindowSize","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","hasshownmuted","url","localallowed","localStorage","getItem","JSON","parse","localvol","vol","hasplayed","audio","Howl","volume","on","play","setTimeout","pause","store","addNotification","title","onRemoval","message","insert","animationIn","animationOut","container","dismiss","duration","pauseOnHover","onScreen","playSound","PageNav","Navbarref","useRef","navbarsize","useComponentSize","user","setnavbarsize","chattingto","location","useLocation","Navbar","ref","bg","variant","fixed","top","isElectron","Brand","onPointerDown","onPointerUp","as","Link","bigLogo","smallLogo","Nav","pathname","faComment","faUserFriends","faPlus","faCog","Dropdown","Toggle","backgroundColor","profilePic","Menu","alignRight","Item","onClick","remove","removeItem","faSignOutAlt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useApi","setData","setLoading","request","setrequest","setError","laststamp","time","getTime","current","reload","Signup","profile","setprofile","faAddressCard","imageWidth","onCrop","dataURL","fetched","blob","labelStyle","onClose","exportMimeType","exportSize","exportQuality","exportAsSquare","autoComplete","LoadError","errordataurl","position","left","transform","faExclamationTriangle","useLocalStorage","key","initialValue","readValue","item","warn","storedValue","setStoredValue","handleStorageChange","newValue","setItem","stringify","dispatchEvent","Event","emoji","onclick","URLSearchParams","text","notify","random","seed","x","Math","sin","floor","numToSSColumn","num","t","s","fromCharCode","MessageMaker","messages","typingdata","scrollref","toscroll","canloadmore","loadingmore","loadmore","output","useMemo","lastmessagegrouptime","tempmessages","i","split","map","componentDecorator","decoratedHref","decoratedText","href","trim","open","cursor","faFile","id","mine","toLocaleString","timeEnd","useParams","faketext","specialchars","join","onscroll","document","documentElement","scrollHeight","scrollTop","clientHeight","overflow","typing","opacity","textShadow","ChatNotFound","faSadCry","faCommentSlash","ChatPage","bypassChars","chats","setchats","isFocussed","useWindowFocus","setchattingto","notifications","toString","oldmetypingdata","setoldmetypingdata","metypingdata","setmetypingdata","host","socketUrl","size","settypingdata","isonline","setisonline","metypinglengthref","metypingref","typingTimer","inputref","scrollerref","bottomref","loadingchatmessages","setloadingchatmessages","setcanloadmore","setloadingmore","isLoadMore","personaltyping","Recipienttyping","SendSound","ReceiveSound","localchats","setlocalchats","oldmessagsize","setoldmessagesize","messagesize","scrolltobottom","StartMessagesLength","ceil","doneTyping","useWebSocket","shouldReconnect","reconnectInterval","exists","sendJsonMessage","lastJsonMessage","readyState","scrollingElement","scrollY","offsetHeight","fileref","submitref","formref","shiftkey","c","concat","slice","max","username","input","limit","substring","_","mobile","navigator","userAgent","online","lastheight","focus","onload","ReadyState","OPEN","UNINSTANTIATED","zIndex","faDesktop","faMobileAlt","faEyeSlash","handleKeys","onKeyEvent","start","bottom","onInput","formdata","removeNotification","marginRight","click","includes","clearTimeout","onKeyDown","keyCode","shiftKey","autoFocus","resize","maxRows","marginLeft","faPaperPlane","Chat","Error404","faFileCode","ProfilePage","r","g","b","backgroundcolour","setbackgroundcolour","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","maxHeight","onLoad","colorThief","ColorThief","getColor","WebkitTextStroke","fontWeight","tag","aboutme","Changebutton","clickable","Modal","setAppElement","UserSettings","backgroundinputref","uploading","setuploading","setbackgroundImage","UsernameModelIsOpen","setUsernameModelIsOpen","ProfileModelIsOpen","setProfileModelIsOpen","faPen","isOpen","onRequestClose","onAfterOpen","overlay","content","right","contentLabel","float","onChange","URL","createObjectURL","accept","trimStart","defaultValue","snooze","milliseconds","Promise","resolve","Contact","holdref","UserModelIsOpen","setUserModelIsOpen","clearInterval","textOverflow","whiteSpace","minHeight","Contacts","localcontacts","setlocalcontacts","contacts","contact","UserListing","friends","faUserPlus","AddPeople","search","setsearch","q","onKeyUp","NotificationComponent","sound","ToggleSwitch","defaultChecked","Setting","Settings","soundEffects","setSoundEffects","setpersonaltyping","setRecipienttyping","setSendSound","setReceiveSound","setVolume","paddingTop","min","App","getuserdataonupdate","setgetuserdataonupdate","userdata","setuserdata","catchedcontacts","setcachedcontacts","response","reconnect","overflowWrap","Provider","exact","render","props","match","params","ReactDOM","StrictMode","getElementById"],"mappings":"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lEuD,OAAOQ,aAAayH,QAAQT,EAAK9G,KAAKwH,UAAUF,IAGhDF,EAAeE,GAGfhI,OAAOmI,cAAc,IAAIC,MAAM,kBAC/B,MAAOzM,GACPD,QAAQkM,KAAR,+CAAgDJ,EAAhD,WAAyD7L,OC+sDhD0M,GAjwDD,CACZ,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BAC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","file":"static/js/main.e6658896.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\r\n\r\nconst data = createContext<any>(undefined);\r\nconst useData = () => useContext(data);\r\nexport { data, useData };\r\n","export default __webpack_public_path__ + \"static/media/TypeChat.b8ec676e.svg\";","import { Link, Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport TypeChat from \"../images/logos/TypeChat.svg\";\r\n\r\nfunction Home() {\r\n  const { loggedin } = useData();\r\n  if (!loggedin) {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <img\r\n            src={TypeChat}\r\n            alt=\"TypeChat\"\r\n            style={{\r\n              width: \"100%\",\r\n              maxWidth: \"250px\",\r\n              display: \"block\",\r\n              margin: \"1rem auto 0\",\r\n            }}\r\n          ></img>\r\n        </div>\r\n        <p style={{ textAlign: \"center\" }}>\r\n          Type to your friends. Powered by TypeScript.\r\n        </p>\r\n        <p style={{ textAlign: \"center\" }}>\r\n          <span>\r\n            <Link to=\"/login\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n              login\r\n            </Link>\r\n          </span>{\" \"}\r\n          or{\" \"}\r\n          <span>\r\n            <Link\r\n              to=\"/signup\"\r\n              style={{ color: \"var(--secondary-text-colour)\" }}\r\n            >\r\n              create an account\r\n            </Link>\r\n          </span>\r\n          !\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n  return <Redirect to=\"/contacts\"></Redirect>;\r\n}\r\n\r\nexport default Home;\r\n","import \"./css/loader.css\";\r\nimport \"./css/center.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        marginTop: \"5rem\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","export default __webpack_public_path__ + \"static/media/TS.6e2a4395.svg\";","import react from \"react\"\r\n\r\nexport function RouterForm({\r\n  action,\r\n  beforecallback,\r\n  callback,\r\n  children,\r\n  style,\r\n  appendtoformdata = (fd: FormData) => {\r\n    return fd;\r\n  },\r\n  onerror = (e: any) => {\r\n    console.error(e);\r\n  },\r\n}: {\r\n  action: string;\r\n  beforecallback: (e: any) => boolean | undefined;\r\n  callback(responce: any): void;\r\n  children: any; style?: react.CSSProperties;\r\n  appendtoformdata?(fd: FormData): FormData; onerror?(e: any): void\r\n}): JSX.Element {\r\n  return (\r\n    <form\r\n      style={style}\r\n      onSubmit={async (e: any) => {\r\n        e.preventDefault();\r\n        if (beforecallback(e)) {\r\n          const fd = new FormData();\r\n          for (let index = 0; index < e.target.length; index++) {\r\n            const element = e.target[index];\r\n            if (element.type !== \"submit\") {\r\n              if (element.type === \"file\") {\r\n                for (let file = 0; file < element.files.length; file++) {\r\n                  fd.append(element.name, element.files[file]);\r\n                }\r\n              } else if (\r\n                element.type !== \"radio\" &&\r\n                element.type !== \"checkbox\"\r\n              ) {\r\n                fd.append(element.name, element.value);\r\n              } else if (element.checked) {\r\n                fd.append(element.name, element.checked);\r\n              }\r\n            }\r\n          }\r\n          const newformdata = appendtoformdata(fd);\r\n          try {\r\n            const result = await (\r\n              await fetch(action, {\r\n                method: \"POST\",\r\n                body: newformdata,\r\n              })\r\n            ).json();\r\n            callback(result);\r\n          } catch (e) {\r\n            onerror(e);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {children}\r\n    </form>\r\n  );\r\n}\r\n","import Cookies from 'universal-cookie';\r\n\r\n\r\nexport default new Cookies();","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Login() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  if (loggedin) {\r\n    history.push(\"/\");\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n          alt=\"logo\"\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faSignInAlt}></FontAwesomeIcon> Login\r\n        </h1>\r\n        <RouterForm\r\n          action={\"/login\"}\r\n          beforecallback={(e: any) => {\r\n            if (e.target[0].value !== \"\" && e.target[1].value !== \"\") {\r\n              if (validateEmail(e.target[0].value)) {\r\n                setloading(true);\r\n                return true;\r\n              } else {\r\n                seterror(\"input a valid email!\");\r\n              }\r\n            } else {\r\n              seterror(\"input an email and password!\");\r\n            }\r\n          }}\r\n          style={{\r\n            width: \"fit-content\",\r\n            margin: \"auto\",\r\n            maxWidth: \"300px\",\r\n          }}\r\n          callback={(resp: any) => {\r\n            if (resp.resp) {\r\n              cookies.set(\"token\", resp.token, {\r\n                path: \"/\",\r\n                expires: new Date(Date.now() + 3.154e12),\r\n              });\r\n              rechecklogged();\r\n            } else {\r\n              setloading(false);\r\n              seterror(resp.err);\r\n            }\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Email\r\n          </p>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Password\r\n          </p>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"pass\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Login\"\r\n            style={{\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            }}\r\n          />\r\n          <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n            dont already have an account?{\" \"}\r\n            <span>\r\n              <Link\r\n                to=\"/signup\"\r\n                style={{ color: \"var(--secondary-text-colour)\" }}\r\n              >\r\n                Make one\r\n              </Link>\r\n            </span>\r\n          </p>\r\n        </RouterForm>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState, useEffect } from \"react\";\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\nexport default useWindowSize;\r\n","import { Howl } from \"howler\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nlet hasshownmuted = false;\r\nasync function playSound(url: string) {\r\n  const localallowed = localStorage.getItem(\"sound effects\");\r\n  const canPlay = localallowed ? JSON.parse(localallowed) : true;\r\n  if (canPlay) {\r\n    const localvol = localStorage.getItem(\"volume\");\r\n    const vol = (localvol != undefined ? JSON.parse(localvol) : 75) / 20;\r\n    let hasplayed = false;\r\n    const audio = new Howl({\r\n      src: url,\r\n      volume: vol,\r\n    });\r\n    audio.on(\"play\", () => {\r\n      hasplayed = true;\r\n    });\r\n    audio.play();\r\n    setTimeout(() => {\r\n      if (!hasplayed) {\r\n        audio.pause();\r\n        if (!hasshownmuted) {\r\n          store.addNotification({\r\n            title: \"sound\",\r\n            type: \"danger\",\r\n            onRemoval: () => {\r\n              hasshownmuted = false;\r\n            },\r\n            message:\r\n              \"you need to interact with the site for sound effects to play!\",\r\n            insert: \"top\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            container: \"top-right\",\r\n            dismiss: { duration: 10000, pauseOnHover: true, onScreen: true },\r\n          });\r\n          hasshownmuted = true;\r\n        }\r\n      }\r\n    }, 5000);\r\n  }\r\n}\r\nexport default playSound;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { Nav, Navbar, Dropdown } from \"react-bootstrap\";\r\nimport bigLogo from \"../images/logos/TypeChat.svg\";\r\nimport smallLogo from \"../images/logos/TS.svg\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./css/nav.css\";\r\nimport cookies from \"../cookies\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faComment,\r\n  faUserFriends,\r\n  faPlus,\r\n  faSignOutAlt,\r\n  faCog,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport useComponentSize from \"@rehooks/component-size\";\r\nimport playSound from \"../playsound\";\r\nimport isElectron from \"is-electron\";\r\nconst PageNav = () => {\r\n  const { width } = useWindowSize();\r\n  const Navbarref = useRef(null);\r\n  const navbarsize = useComponentSize(Navbarref);\r\n  const { loggedin, user, rechecklogged, setnavbarsize, chattingto } =\r\n    useData();\r\n  useEffect(() => {\r\n    setnavbarsize(navbarsize);\r\n  }, [navbarsize, setnavbarsize]);\r\n  const location = useLocation();\r\n  return (\r\n    <>\r\n      <Navbar\r\n        ref={Navbarref}\r\n        bg=\"darkpurple\"\r\n        variant=\"dark\"\r\n        fixed=\"top\"\r\n        style={{ top: isElectron() ? \"30px\" : undefined }}\r\n      >\r\n        <Navbar.Brand\r\n          onPointerDown={() => {\r\n            playSound(\"/sounds/click2.mp3\");\r\n          }}\r\n          onPointerUp={() => {\r\n            playSound(\"/sounds/click1.mp3\");\r\n          }}\r\n          as={Link}\r\n          to={loggedin ? \"/contacts\" : \"/\"}\r\n        >\r\n          <img\r\n            alt=\"TypeChat\"\r\n            src={width > 700 ? bigLogo : smallLogo}\r\n            style={{\r\n              height: \"40px\",\r\n            }}\r\n          />\r\n        </Navbar.Brand>\r\n\r\n        <Nav className=\"mc-auto\">\r\n          {loggedin ? (\r\n            <>\r\n              {chattingto ? (\r\n                <Nav.Link\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                  as={Link}\r\n                  to={`/chat/${chattingto}`}\r\n                  style={{\r\n                    color:\r\n                      location.pathname === `/chat/${chattingto}`\r\n                        ? \"white\"\r\n                        : \"\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faComment} />\r\n                </Nav.Link>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/contacts\"\r\n                style={{\r\n                  color: location.pathname === \"/contacts\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faUserFriends} />\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/add\"\r\n                style={{ color: location.pathname === \"/add\" ? \"white\" : \"\" }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </Nav.Link>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </Nav>\r\n        <Nav>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            as={Link}\r\n            to=\"/settings\"\r\n            style={{ color: location.pathname === \"/settings\" ? \"white\" : \"\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faCog} />\r\n          </Nav.Link>\r\n          {loggedin ? (\r\n            <>\r\n              <Dropdown>\r\n                <Dropdown.Toggle\r\n                  style={{\r\n                    backgroundColor: \"transparent\",\r\n                    border: \"none\",\r\n                    margin: \"0\",\r\n                    padding: \"0\",\r\n                  }}\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"Profile\"\r\n                    src={\"/files/\" + user.profilePic}\r\n                    style={{ height: \"40px\", borderRadius: \"50%\" }}\r\n                  />\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu alignRight className={\"db-darkpurple\"}>\r\n                  <Dropdown.Item\r\n                    as={Link}\r\n                    to=\"/user/settings\"\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    User Settings\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    onClick={async () => {\r\n                      await fetch(\"/api/logout\");\r\n                      cookies.remove(\"token\");\r\n                      rechecklogged();\r\n                      localStorage.removeItem(\"chats\");\r\n                      localStorage.removeItem(\"contacts\");\r\n                      localStorage.removeItem(\"chattingto\");\r\n                    }}\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    Logout <FontAwesomeIcon icon={faSignOutAlt} />\r\n                  </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/login\"\r\n                style={{ color: location.pathname === \"/login\" ? \"white\" : \"\" }}\r\n              >\r\n                Login\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/signup\"\r\n                style={{\r\n                  color: location.pathname === \"/signup\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                Sign Up\r\n              </Nav.Link>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar>\r\n      <div\r\n        style={{ height: navbarsize.height + (isElectron() ? 30 : 0) }}\r\n      ></div>\r\n    </>\r\n  );\r\n};\r\nexport default PageNav;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface userApiInterface {\r\n  loading: boolean;\r\n  data: any;\r\n  setData: Function;\r\n  error: boolean | unknown;\r\n  reload: Function;\r\n}\r\n\r\nconst useApi = (url: string | null): userApiInterface => {\r\n  const [data, setData] = useState<JSON | unknown>(undefined);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [request, setrequest] = useState<number>(0);\r\n  const [error, setError] = useState<boolean | unknown>(undefined);\r\n  const laststamp = useRef<number | null>(null);\r\n  function reload() {\r\n    setrequest(request + 1);\r\n    setLoading(true);\r\n    setError(undefined);\r\n    setData(undefined);\r\n  }\r\n  useEffect(() => {\r\n    if (url) {\r\n      (async () => {\r\n        try {\r\n          const time = new Date().getTime();\r\n          const result = await (await fetch(url)).json();\r\n          if (!laststamp.current || time - laststamp.current > 0) {\r\n            laststamp.current = time;\r\n            setData(result);\r\n          }\r\n        } catch (e) {\r\n          setError(e);\r\n        }\r\n        setLoading(false);\r\n      })();\r\n    }\r\n  }, [url, request]);\r\n\r\n  return { loading, data, setData, error, reload };\r\n};\r\n\r\nexport default useApi;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAddressCard } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"react-avatar-edit\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Signup() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  if (loggedin) {\r\n    history.push(\"/\");\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img src={logo} alt=\"logo\" style={{ width: \"150px\", borderRadius: \"10px\" }}></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faAddressCard}></FontAwesomeIcon> Sign Up\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/signup\"}\r\n            beforecallback={(e: any) => {\r\n              if (\r\n                e.target[0].value !== \"\" &&\r\n                e.target[1].value !== \"\" &&\r\n                e.target[2].value !== \"\" &&\r\n                profile\r\n              ) {\r\n                if (validateEmail(e.target[0].value)) {\r\n                  setloading(true);\r\n                  return true;\r\n                } else {\r\n                  seterror(\"input a valid email!\");\r\n                }\r\n              } else {\r\n                seterror(\"input a profile, username, email and password!\");\r\n              }\r\n            }}\r\n            appendtoformdata={(fd: FormData) => {\r\n              fd.append(\"profile\", profile ? profile : \"\");\r\n              return fd;\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={(resp: any) => {\r\n              if (resp.resp) {\r\n                cookies.set(\"token\", resp.token, {\r\n                  path: \"/\",\r\n                  expires: new Date(Date.now() + 3.154e12),\r\n                });\r\n                rechecklogged();\r\n              } else {\r\n                setloading(false);\r\n                seterror(resp.err);\r\n              }\r\n            }}\r\n          >\r\n            {\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              profile\r\n            </p>\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              labelStyle={{color: \"white\"}}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Email\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Username\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              name=\"uname\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Sign up\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n              already have an account?{\" \"}\r\n              <span>\r\n                <Link\r\n                  to=\"/login\"\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  Login\r\n                </Link>\r\n              </span>\r\n            </p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport playSound from \"../playsound\";\r\nimport errordataurl from \"../errordataurl.json\";\r\n\r\nfunction LoadError({ error }: { error: String }) {\r\n  useEffect(() => {\r\n    playSound(errordataurl);\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"red\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faExclamationTriangle} />\r\n      </div>\r\n      <h1>ERROR</h1>\r\n      <p>{error}</p>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadError;\r\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\nfunction useLocalStorage<T>(\r\n  key: string,\r\n  initialValue: T | (() => T)\r\n): [T, Dispatch<SetStateAction<T>>] {\r\n  // Get from local storage then\r\n  // parse stored json or return initialValue\r\n  const readValue = () => {\r\n    // Prevent build error \"window is undefined\" but keep keep working\r\n    if (typeof window === \"undefined\") {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key ${key}:`, error);\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(readValue);\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue: Dispatch<SetStateAction<T>> = (value) => {\r\n    // Prevent build error \"window is undefined\" but keeps working\r\n    if (typeof window == \"undefined\") {\r\n      console.warn(\r\n        `Tried setting localStorage key ${key} even though environment is not a client`\r\n      );\r\n    }\r\n\r\n    try {\r\n      // Allow value to be a function so we have the same API as useState\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n\r\n      // Save state\r\n      setStoredValue(newValue);\r\n\r\n      // We dispatch a custom event so every useLocalStorage hook are notified\r\n      window.dispatchEvent(new Event(\"local-storage\"));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key ${key}:`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    // this only works for other documents, not the current one\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n\r\n    // this is a custom event, triggered in writeValueToLocalStorage\r\n    window.addEventListener(\"local-storage\", handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"local-storage\", handleStorageChange);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","const emoji = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"#\",\r\n  \"*\",\r\n  \"0\",\r\n  \"1\",\r\n  \"2\",\r\n  \"3\",\r\n  \"4\",\r\n  \"5\",\r\n  \"6\",\r\n  \"7\",\r\n  \"8\",\r\n  \"9\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nexport default emoji;\r\n","async function notify(title: string, message: string, onclick: () => void) {\r\n  const resp = await (\r\n    await fetch(`notify://app/?${new URLSearchParams({ title, message })}`)\r\n  ).text();\r\n  if (resp === \"click\") {\r\n    onclick();\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import {\r\n  faCommentSlash,\r\n  faDesktop,\r\n  faEyeSlash,\r\n  faFile,\r\n  faMobileAlt,\r\n  faPaperPlane,\r\n  faPlus,\r\n  faSadCry,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport \"./css/message.css\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport LoadError from \"./error\";\r\nimport Loader from \"./loader\";\r\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport emoji from \"../emojis\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport isElectron from \"is-electron\";\r\nimport notify from \"../notifier\";\r\nimport Linkify from \"react-linkify\";\r\n\r\nconst truncate = (input: string, limit: number) =>\r\n  input.length > limit ? `${input.substring(0, limit)}...` : input;\r\n\r\nfunction random(seed: number) {\r\n  var x = Math.sin(seed) * 10000;\r\n  return x - Math.floor(x);\r\n}\r\nfunction numToSSColumn(num: number) {\r\n  let s = \"\",\r\n    t;\r\n\r\n  while (num > 0) {\r\n    t = (num - 1) % 26;\r\n    s = String.fromCharCode(66 + t) + s;\r\n    num = ((num - t) / 26) | 0;\r\n  }\r\n  return s || undefined;\r\n}\r\n\r\ninterface messageTypes {\r\n  id?: string;\r\n  time: number;\r\n  mine: boolean;\r\n}\r\n\r\ninterface messageWithText extends messageTypes {\r\n  message: string;\r\n  file: undefined;\r\n}\r\ninterface messageWithFile extends messageTypes {\r\n  file: string;\r\n  message: undefined;\r\n}\r\n\r\nfunction MessageMaker({\r\n  messages,\r\n  typingdata,\r\n  scrollref,\r\n  toscroll,\r\n  canloadmore,\r\n  loadingmore,\r\n  loadmore,\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile>;\r\n  typingdata: {\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  };\r\n  scrollref: React.RefObject<any>;\r\n  toscroll: any;\r\n  canloadmore: boolean;\r\n  loadingmore: boolean;\r\n  loadmore: Function;\r\n}) {\r\n  const output = useMemo(() => {\r\n    console.time(\"chatrender\");\r\n    const output = [];\r\n    if (canloadmore && loadingmore) {\r\n      output.push(<Loader key={\"loader\"}></Loader>);\r\n    }\r\n    let tempmessages: Array<any> = [];\r\n    let lastmessagegrouptime;\r\n    for (let i = 0; i < messages.length; i++) {\r\n      const message = messages[i].message;\r\n      const file = messages[i].file;\r\n      tempmessages.push(\r\n        <div className=\"message\" key={messages[i].id}>\r\n          {message ? (\r\n            message.split(\"```\").map((value, index) =>\r\n              index % 2 === 0 ? (\r\n                <div key={index}>\r\n                  <Linkify\r\n                    componentDecorator={(decoratedHref, decoratedText, key) => (\r\n                      <a\r\n                        target=\"blank\"\r\n                        style={{ color: \"var(--secondary-text-colour)\" }}\r\n                        href={decoratedHref}\r\n                        key={key}\r\n                      >\r\n                        {decoratedText}\r\n                      </a>\r\n                    )}\r\n                  >\r\n                    {value.trim()}\r\n                  </Linkify>\r\n                </div>\r\n              ) : (\r\n                <SyntaxHighlighter key={index}>\r\n                  {value.trim()}\r\n                </SyntaxHighlighter>\r\n              )\r\n            )\r\n          ) : (\r\n            <div>\r\n              <div\r\n                onClick={() => {\r\n                  window.open(`/files/${file}`, file, \"width=600,height=400\");\r\n                }}\r\n                style={{\r\n                  color: \"var(--secondary-text-colour)\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n      if (!messages[i + 1] || messages[i + 1].mine !== messages[i].mine) {\r\n        output.push(\r\n          <div className=\"messagegroup\" key={messages[i].id}>\r\n            {lastmessagegrouptime &&\r\n            messages[i].time - lastmessagegrouptime > 300000 ? (\r\n              <p\r\n                style={{\r\n                  margin: \"0\",\r\n                  color: `lightgray`,\r\n                  fontSize: \"10px\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                {new Date(lastmessagegrouptime).toLocaleString()}\r\n              </p>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <div\r\n              className={`${messages[i].mine ? \"mine\" : \"yours\"} messages`}\r\n              key={i}\r\n            >\r\n              {tempmessages}\r\n            </div>\r\n            {!messages[i + 1] ? (\r\n              <p\r\n                style={{\r\n                  margin: \"0\",\r\n                  color: `lightgray`,\r\n                  fontSize: \"10px\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                {new Date(messages[i].time).toLocaleString()}\r\n              </p>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </div>\r\n        );\r\n        lastmessagegrouptime = messages[i].time;\r\n        tempmessages = [];\r\n      }\r\n    }\r\n    console.timeEnd(\"chatrender\");\r\n    return output;\r\n  }, [messages, canloadmore, loadingmore]);\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const location = useLocation();\r\n  const faketext = useMemo(() => {\r\n    let output = [];\r\n    for (let i = 0; i <= typingdata.length; i++) {\r\n      output.push(\r\n        typingdata.specialchars && i - 1 in typingdata.specialchars\r\n          ? typingdata.specialchars[i - 1]\r\n          : numToSSColumn(random(i) * 26)\r\n      );\r\n    }\r\n    return output.join(\"\").toLowerCase();\r\n  }, [typingdata]);\r\n  // const [isMessageMenuOpen, setIsMessageMenuOpen] = useState(false);\r\n  window.onscroll = () => {\r\n    if (location.pathname === `/chat/${chattingto}`) {\r\n      toscroll.current =\r\n        document.documentElement.scrollHeight -\r\n          document.documentElement.scrollTop -\r\n          document.documentElement.clientHeight <=\r\n        200;\r\n      if (canloadmore) {\r\n        if (document.documentElement.scrollTop < 10) {\r\n          loadmore(messages);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: `100%`,\r\n        overflow: \"overlay\",\r\n      }}\r\n      ref={scrollref}\r\n    >\r\n      <div\r\n        className=\"chat\"\r\n        style={{\r\n          margin: `90px auto 3rem auto`,\r\n          maxWidth: \"900px\",\r\n        }}\r\n      >\r\n        {messages.length > 0 ? (\r\n          output\r\n        ) : (\r\n          <p style={{ color: \"gray\", textAlign: \"center\" }}>\r\n            this chat is empty... say hi!\r\n          </p>\r\n        )}\r\n        {typingdata.typing ? (\r\n          <div className={`yours messages`}>\r\n            <div\r\n              className=\"message\"\r\n              style={{\r\n                opacity: 0.5,\r\n                textShadow: \"0 0 7px black\",\r\n                color: \"transparent\",\r\n              }}\r\n            >\r\n              {faketext}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatNotFound() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faSadCry} />\r\n        <FontAwesomeIcon icon={faCommentSlash} />\r\n      </div>\r\n      <h1>No Chat Found!</h1>\r\n      <p>\r\n        go to{\" \"}\r\n        <span>\r\n          <Link\r\n            to=\"/contacts\"\r\n            style={{ color: \"var(--secondary-text-colour)\" }}\r\n          >\r\n            contacts\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatPage() {\r\n  const bypassChars: string[] = [\r\n    ...emoji,\r\n    \" \",\r\n    \"?\",\r\n    \"!\",\r\n    \"#\",\r\n    \"$\",\r\n    \"\",\r\n    \"*\",\r\n    '\"',\r\n    \"'\",\r\n    \"(\",\r\n    \")\",\r\n    \":\",\r\n    \";\",\r\n    \"[\",\r\n    \"]\",\r\n    \"{\",\r\n    \"}\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n  ];\r\n  const [chats, setchats] = useState<Array<messageWithText | messageWithFile>>(\r\n    []\r\n  );\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const { setchattingto, notifications } = useData();\r\n  const { error, loading, data } = useApi(\r\n    `/api/friendsuserdatafromid?${new URLSearchParams({\r\n      id: chattingto,\r\n    }).toString()}`\r\n  );\r\n  const [oldmetypingdata, setoldmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [metypingdata, setmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [socketUrl] = useState(\r\n    `ws://${\r\n      !process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n        ? window.location.hostname + \":5000\"\r\n        : window.location.host\r\n    }/chat`\r\n  );\r\n  const size = useWindowSize();\r\n  const [typingdata, settypingdata] = useState<{\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  }>({ typing: false, length: 0, specialchars: {} });\r\n  const [isonline, setisonline] = useState(\"0\");\r\n  const metypinglengthref = useRef<number>(0);\r\n  const metypingref = useRef<any>(false);\r\n  const typingTimer = useRef<any>(null);\r\n  const inputref = useRef<any>(null);\r\n  const scrollerref = useRef<any>(null);\r\n  const bottomref = useRef<any>(null);\r\n  const toscroll = useRef(true);\r\n  const [loadingchatmessages, setloadingchatmessages] = useState(true);\r\n  const [canloadmore, setcanloadmore] = useState(true);\r\n  const [loadingmore, setloadingmore] = useState(false);\r\n  const isLoadMore = useRef<boolean>(false);\r\n\r\n  const [personaltyping] = useLocalStorage(\"Keyboard Typing Sound\", true);\r\n  const [Recipienttyping] = useLocalStorage(\"Recipient Typing Sound\", true);\r\n  const [SendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound] = useLocalStorage(\"Receive Sound\", true);\r\n  const [localchats, setlocalchats] = useLocalStorage<{\r\n    [key: string]: Array<messageWithText | messageWithFile>;\r\n  }>(\"chats\", {});\r\n  useEffect(() => {\r\n    setchattingto(chattingto);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const [oldmessagsize, setoldmessagesize] = useState(chats.length > 0);\r\n  const messagesize = chats.length > 0;\r\n  useEffect(() => {\r\n    if (messagesize !== oldmessagsize) {\r\n      scrolltobottom();\r\n      setoldmessagesize(messagesize);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messagesize]);\r\n  const doneTypingInterval = 5000;\r\n  const StartMessagesLength = Math.ceil(size.height / 40 + 5);\r\n  function doneTyping() {\r\n    if (metypingref.current) {\r\n      metypingref.current = false;\r\n      setmetypingdata({\r\n        type: \"typing\",\r\n        typing: false,\r\n        length: 0,\r\n        specialchars: {},\r\n      });\r\n    }\r\n  }\r\n  const { sendJsonMessage, lastJsonMessage, readyState } = useWebSocket(\r\n    socketUrl,\r\n    {\r\n      shouldReconnect: () => true,\r\n      reconnectInterval: 1,\r\n    },\r\n    data ? data.exists : false\r\n  );\r\n  const scrolltobottom = () => {\r\n    const scrollingElement = document.scrollingElement || document.body;\r\n    if (window.innerHeight + window.scrollY < document.body.offsetHeight) {\r\n      scrollingElement.scrollTop = scrollingElement.scrollHeight;\r\n    }\r\n  };\r\n  const fileref = useRef<any>(null);\r\n  const submitref = useRef<any>(null);\r\n  const formref = useRef<any>(null);\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"message\") {\r\n        if (!lastJsonMessage.message.mine && ReceiveSound) {\r\n          playSound(\"/sounds/newmessage.mp3\");\r\n        }\r\n        setchats((c) => c.concat(lastJsonMessage.message));\r\n\r\n        settypingdata({\r\n          typing: false,\r\n          length: 0,\r\n          specialchars: {},\r\n        });\r\n        if (toscroll.current) {\r\n          setchats((c) => c.slice(Math.max(c.length - StartMessagesLength, 0)));\r\n          setcanloadmore(true);\r\n          setTimeout(scrolltobottom, 0);\r\n          if (isFocussed && isElectron()) {\r\n            notify(`${data.username}`, lastJsonMessage.message.message, () => {\r\n              history.push(`/chat/${chattingto}`);\r\n              scrolltobottom();\r\n            });\r\n          }\r\n        } else {\r\n          if (isElectron()) {\r\n            notify(`${data.username}`, lastJsonMessage.message.message, () => {\r\n              history.push(`/chat/${chattingto}`);\r\n              scrolltobottom();\r\n            });\r\n          } else {\r\n            notifications.addNotification({\r\n              title: `${data.username}`,\r\n              message: truncate(lastJsonMessage.message.message, 25),\r\n              type: \"default\",\r\n              onRemoval: (_: number, type: string) => {\r\n                if (type === \"click\") {\r\n                  history.push(`/chat/${chattingto}`);\r\n                  scrolltobottom();\r\n                }\r\n              },\r\n              insert: \"top\",\r\n              container: \"top-right\",\r\n              animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n              animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n              dismiss: {\r\n                pauseOnHover: true,\r\n                duration: 5000,\r\n                onScreen: true,\r\n              },\r\n            });\r\n          }\r\n        }\r\n      } else if (lastJsonMessage.type === \"start\") {\r\n        setcanloadmore(true);\r\n        isLoadMore.current = false;\r\n        sendJsonMessage({\r\n          type: \"start\",\r\n          to: chattingto,\r\n          limit: StartMessagesLength,\r\n          mobile:\r\n            /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n              navigator.userAgent\r\n            ),\r\n        });\r\n      } else if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else if (lastJsonMessage.type === \"online\") {\r\n        if (!lastJsonMessage.online && (isonline === \"M\" || isonline === \"1\")) {\r\n          playSound(\"/sounds/leave.mp3\");\r\n        } else if (lastJsonMessage.online && isonline === \"0\") {\r\n          playSound(\"/sounds/join.mp3\");\r\n        }\r\n        setisonline(\r\n          lastJsonMessage.online ? (lastJsonMessage.mobile ? \"M\" : \"1\") : \"0\"\r\n        );\r\n      } else if (lastJsonMessage.type === \"typing\") {\r\n        if (Recipienttyping) {\r\n          if (lastJsonMessage.length > typingdata.length) {\r\n            playSound(`/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`);\r\n          } else if (lastJsonMessage.length < typingdata.length) {\r\n            playSound(`/sounds/click3.mp3`);\r\n          }\r\n        }\r\n        if (toscroll.current) {\r\n          setTimeout(scrolltobottom, 0);\r\n        }\r\n        settypingdata({\r\n          typing: lastJsonMessage.typing,\r\n          length: lastJsonMessage.length,\r\n          specialchars: lastJsonMessage.specialchars,\r\n        });\r\n      } else if (lastJsonMessage.type === \"setmessages\") {\r\n        setchats(lastJsonMessage.messages);\r\n        if (lastJsonMessage.messages < 25) {\r\n          setcanloadmore(false);\r\n        }\r\n        setloadingchatmessages(false);\r\n      } else if (lastJsonMessage.type === \"prependmessages\") {\r\n        setchats([...lastJsonMessage.messages, ...chats]);\r\n        if (lastJsonMessage.messages.length > 0) {\r\n          const lastheight = document.documentElement.offsetHeight;\r\n          setTimeout(() => {\r\n            document.documentElement.scrollTop =\r\n              document.documentElement.scrollHeight - lastheight;\r\n            isLoadMore.current = false;\r\n\r\n            setloadingmore(false);\r\n          }, 0);\r\n        }\r\n        setcanloadmore(lastJsonMessage.messages.length > 0);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  useEffect(() => {\r\n    if (\r\n      /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n    ) {\r\n      sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (JSON.stringify(oldmetypingdata) !== JSON.stringify(metypingdata)) {\r\n      sendJsonMessage(metypingdata);\r\n      setoldmetypingdata(metypingdata);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [metypingdata]);\r\n  window.onload = () => setTimeout(scrolltobottom, 0);\r\n  useEffect(() => {\r\n    setTimeout(scrolltobottom, 0);\r\n  }, [loading, data, readyState]);\r\n  useEffect(() => {\r\n    if (toscroll.current) {\r\n      setTimeout(scrolltobottom, 0);\r\n    }\r\n    if (!loadingchatmessages) {\r\n      localchats[chattingto] = chats.slice(\r\n        Math.max(chats.length - StartMessagesLength, 0)\r\n      );\r\n      setlocalchats(localchats);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chats]);\r\n  useEffect(() => {\r\n    if (data && !data.exists) {\r\n      setloadingchatmessages(false);\r\n    }\r\n  }, [data]);\r\n  const loadmore = () => {\r\n    if (!isLoadMore.current) {\r\n      isLoadMore.current = true;\r\n      setloadingmore(true);\r\n      sendJsonMessage({\r\n        type: \"getmessages\",\r\n        start: chats.length,\r\n        max: 10,\r\n      });\r\n    }\r\n  };\r\n  if (\r\n    (error ||\r\n      loading ||\r\n      (readyState !== ReadyState.OPEN &&\r\n        readyState !== ReadyState.UNINSTANTIATED) ||\r\n      loadingchatmessages) &&\r\n    !localchats[chattingto]\r\n  ) {\r\n    return error ? <LoadError error={String(error)} /> : <Loader />;\r\n  } else if (!localchats[chattingto] || (data && !data.exists)) {\r\n    return <ChatNotFound></ChatNotFound>;\r\n  }\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            width: \"100%\",\r\n            height: \"90px\",\r\n            padding: \"10px\",\r\n            zIndex: 10,\r\n            background: \"linear-gradient(0deg, transparent, var(--dark-mode))\",\r\n          }}\r\n        >\r\n          {data && readyState === ReadyState.OPEN ? (\r\n            <>\r\n              {\" \"}\r\n              <img\r\n                src={\"/files/\" + String(data.profilePic)}\r\n                style={{\r\n                  display: \"block\",\r\n                  height: \"65%\",\r\n                  margin: \"auto\",\r\n                  borderRadius: \"100%\",\r\n                }}\r\n                alt={data.username}\r\n              />\r\n              <p style={{ textAlign: \"center\" }}>\r\n                {data.username}{\" \"}\r\n                <FontAwesomeIcon\r\n                  style={{ color: isonline === \"0\" ? \"#5c5c5c\" : \"lightgreen\" }}\r\n                  icon={\r\n                    isonline === \"1\"\r\n                      ? faDesktop\r\n                      : isonline === \"M\"\r\n                      ? faMobileAlt\r\n                      : faEyeSlash\r\n                  }\r\n                ></FontAwesomeIcon>\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <p style={{ margin: \"1rem\", textAlign: \"center\" }}>\r\n              {ReadyState[readyState]}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <KeyboardEventHandler\r\n          handleKeys={[\"alphanumeric\", \"space\", \"shift\", \"cap\"]}\r\n          onKeyEvent={() => {\r\n            inputref.current.focus();\r\n          }}\r\n        />\r\n        <MessageMaker\r\n          scrollref={scrollerref}\r\n          messages={loadingchatmessages ? localchats[chattingto] : chats}\r\n          typingdata={typingdata}\r\n          toscroll={toscroll}\r\n          canloadmore={canloadmore && readyState === ReadyState.OPEN}\r\n          loadingmore={loadingmore}\r\n          loadmore={loadmore}\r\n        />\r\n        <div ref={bottomref}></div>\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            padding: \"1rem\",\r\n            width: \"100%\",\r\n            bottom: \"0px\",\r\n            background:\r\n              \"linear-gradient(180deg, transparent, var(--dark-mode))\",\r\n            display: \"flex\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              margin: \"auto\",\r\n              width: \"100%\",\r\n              maxWidth: \"800px\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <input\r\n              type=\"file\"\r\n              style={{ display: \"none\" }}\r\n              ref={fileref}\r\n              onInput={async (e: any) => {\r\n                if (e.target.files) {\r\n                  const file = e.target.files[0];\r\n                  if (file.size <= 10000000) {\r\n                    const id = Math.random();\r\n                    notifications.addNotification({\r\n                      title: \"File\",\r\n                      message: \"Uploading...\",\r\n                      type: \"warning\",\r\n                      insert: \"top\",\r\n                      id,\r\n                      container: \"top-right\",\r\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                    });\r\n                    try {\r\n                      const formdata = new FormData();\r\n                      formdata.append(\"file\", file);\r\n                      const resp = await (\r\n                        await fetch(\"/api/uploadfile\", {\r\n                          method: \"POST\",\r\n                          body: formdata,\r\n                        })\r\n                      ).json();\r\n                      if (resp.resp) {\r\n                        notifications.removeNotification(id);\r\n                        const time = new Date().getTime();\r\n                        sendJsonMessage({\r\n                          type: \"file\",\r\n                          file: resp.id,\r\n                        });\r\n                        setchats(\r\n                          chats.concat({\r\n                            mine: true,\r\n                            message: undefined,\r\n                            file: resp.id,\r\n                            time,\r\n                          })\r\n                        );\r\n                        notifications.removeNotification(id);\r\n                      } else {\r\n                        notifications.removeNotification(id);\r\n                        notifications.addNotification({\r\n                          title: \"Upload Error\",\r\n                          message: resp.err,\r\n                          type: \"danger\",\r\n                          insert: \"top\",\r\n                          container: \"top-right\",\r\n                          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                          animationOut: [\r\n                            \"animate__animated\",\r\n                            \"animate__fadeOut\",\r\n                          ],\r\n                        });\r\n                      }\r\n                    } catch (e) {\r\n                      notifications.removeNotification(id);\r\n                      notifications.addNotification({\r\n                        title: \"Upload Error\",\r\n                        message: String(e),\r\n                        type: \"danger\",\r\n                        insert: \"top\",\r\n                        container: \"top-right\",\r\n                        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                      });\r\n                    }\r\n                  } else {\r\n                    notifications.addNotification({\r\n                      title: \"File too big!\",\r\n                      message: \"file needs to be less the 10MB!\",\r\n                      type: \"danger\",\r\n                      insert: \"top\",\r\n                      container: \"top-right\",\r\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                    });\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n\r\n            <button\r\n              style={{\r\n                width: \"37px\",\r\n                marginRight: \"5px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"5px\",\r\n                borderRadius: \"20px\",\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                color: \"white\",\r\n                textAlign: \"center\",\r\n              }}\r\n              onClick={() => {\r\n                fileref.current.click();\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faPlus} />\r\n            </button>\r\n            <form\r\n              onSubmit={(e: any) => {\r\n                e.preventDefault();\r\n                const message = e.target[0].value.trim();\r\n                if (message !== \"\") {\r\n                  e.target[0].value = \"\";\r\n                  const time = new Date().getTime();\r\n                  if (SendSound) {\r\n                    playSound(\"/sounds/send.mp3\");\r\n                  }\r\n                  sendJsonMessage({\r\n                    type: \"message\",\r\n                    message,\r\n                  });\r\n                  setcanloadmore(true);\r\n                  setchats(\r\n                    chats\r\n                      .slice(Math.max(chats.length - StartMessagesLength, 0))\r\n                      .concat({ mine: true, file: undefined, message, time })\r\n                  );\r\n                  setTimeout(scrolltobottom, 0);\r\n                  metypingref.current = false;\r\n                  setmetypingdata({\r\n                    type: \"typing\",\r\n                    typing: metypingref.current,\r\n                    length: 0,\r\n                    specialchars: {},\r\n                  });\r\n                }\r\n              }}\r\n              ref={formref}\r\n              style={{\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <TextareaAutosize\r\n                ref={inputref}\r\n                onInput={(e: any) => {\r\n                  if (key.current === 13 && !shiftkey.current) {\r\n                    submitref.current.click();\r\n                    inputref.current.value = \"\";\r\n                  }\r\n                  const message = e.target.value.trim();\r\n                  if (\r\n                    message.length <= 2000 &&\r\n                    !(key.current === 13 && !shiftkey.current) &&\r\n                    personaltyping\r\n                  ) {\r\n                    playSound(\r\n                      `/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`\r\n                    );\r\n                    metypinglengthref.current = message.length;\r\n                    if (metypinglengthref.current > 0) {\r\n                      metypingref.current = true;\r\n                      const specialchars: { [key: string]: any } = {};\r\n                      for (let i = 0; i < message.length; i++) {\r\n                        if (bypassChars.includes(message[i])) {\r\n                          specialchars[i.toString()] = message[i];\r\n                        }\r\n                      }\r\n                      setmetypingdata({\r\n                        type: \"typing\",\r\n                        typing: metypingref.current,\r\n                        length: metypinglengthref.current,\r\n                        specialchars,\r\n                      });\r\n                      clearTimeout(typingTimer.current);\r\n                      typingTimer.current = setTimeout(\r\n                        doneTyping,\r\n                        doneTypingInterval\r\n                      );\r\n                    } else {\r\n                      metypingref.current = false;\r\n                      setmetypingdata({\r\n                        type: \"typing\",\r\n                        typing: false,\r\n                        length: 0,\r\n                        specialchars: {},\r\n                      });\r\n                    }\r\n                  } else {\r\n                    e.target.value = e.target.value.substring(0, 2000);\r\n                  }\r\n                }}\r\n                onKeyDown={(e: any) => {\r\n                  key.current = e.keyCode;\r\n                  shiftkey.current = e.shiftKey;\r\n                  clearTimeout(typingTimer.current);\r\n                }}\r\n                autoFocus\r\n                style={{\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  width: \"calc(100% - 65px)\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  resize: \"none\",\r\n                }}\r\n                maxRows={10}\r\n                placeholder=\"Type Something...\"\r\n              />\r\n              <button\r\n                ref={submitref}\r\n                style={{\r\n                  width: \"60px\",\r\n                  marginLeft: \"5px\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                type=\"submit\"\r\n                onClick={(e: any) => {\r\n                  inputref.current.focus();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faPaperPlane} />\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Chat() {\r\n  const { loggedin, user } = useData();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  } else if (chattingto && chattingto !== user.id) {\r\n    return <ChatPage />;\r\n  }\r\n  return <ChatNotFound></ChatNotFound>;\r\n}\r\n\r\nexport default Chat;\r\n","import { faFileCode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Error404() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faFileCode} />\r\n      </div>\r\n      <h1>Page Not Found!</h1>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error404;\r\n","import { SecureLink } from \"react-secure-link\";\r\nimport Linkify from \"react-linkify\";\r\nimport { useState } from \"react\";\r\nimport ColorThief from \"colorthief\";\r\n\r\nfunction ProfilePage({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        margin: \"1rem\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"75px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={async (e: any) => {\r\n            const colorThief = new ColorThief();\r\n            const resp = await colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <h4>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {user.username}\r\n            <span\r\n              style={{\r\n                color: \"lightgray\",\r\n                fontWeight: \"normal\",\r\n              }}\r\n            >\r\n              #{user.tag}\r\n            </span>\r\n          </span>\r\n        </h4>\r\n      </div>\r\n      {user.aboutme ? (\r\n        <div\r\n          style={{\r\n            padding: \"1rem\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n          }}\r\n        >\r\n          <b>About Me</b>\r\n          <div>\r\n            <Linkify\r\n              componentDecorator={(\r\n                decoratedHref: string,\r\n                decoratedText: string,\r\n                key: any\r\n              ) => (\r\n                <SecureLink\r\n                  href={decoratedHref}\r\n                  key={key}\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  {decoratedText}\r\n                </SecureLink>\r\n              )}\r\n            >\r\n              {user.aboutme}\r\n            </Linkify>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import { Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./css/usersettings.css\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport { useState, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport Avatar from \"react-avatar-edit\";\r\n\r\nfunction Changebutton({\r\n  name,\r\n  children,\r\n  onClick = () => {},\r\n  clickable,\r\n}: {\r\n  name: string;\r\n  children: any;\r\n  onClick?: (e: any) => void;\r\n  clickable: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"1rem\",\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <p style={{ margin: \"0\", color: \"lightgray\" }}>{name}</p>\r\n      {clickable ? (\r\n        <div\r\n          onClick={onClick}\r\n          className={\"changebutton\"}\r\n          style={{ color: \"white\" }}\r\n        >\r\n          {children}\r\n        </div>\r\n      ) : (\r\n        <div>{children}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nModal.setAppElement(\"#app\");\r\nfunction UserSettings() {\r\n  const { loggedin, user, rechecklogged } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const backgroundinputref = useRef<any>(null);\r\n  const [uploading, setuploading] = useState(false);\r\n  const [backgroundImage, setbackgroundImage] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const [UsernameModelIsOpen, setUsernameModelIsOpen] = useState(false);\r\n  const [ProfileModelIsOpen, setProfileModelIsOpen] = useState(false);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>User Settings</h1>\r\n        <ProfilePage user={user} />\r\n        <div style={{ textAlign: \"center\" }}>EDIT</div>\r\n        <button\r\n          style={{\r\n            color: \"white\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            border: \"solid 2px var(--light-bg-colour)\",\r\n            borderRadius: \"5px\",\r\n            margin: \"0 1rem\",\r\n          }}\r\n          onClick={() => {\r\n            rechecklogged();\r\n          }}\r\n        >\r\n          update\r\n        </button>\r\n        <Changebutton\r\n          name=\"Profile Picture\"\r\n          onClick={() => {\r\n            setProfileModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <img\r\n            alt=\"profile\"\r\n            src={\"/files/\" + user.profilePic}\r\n            style={{\r\n              height: \"75px\",\r\n              margin: \"0 1rem 0 0\",\r\n              borderRadius: \"50%\",\r\n            }}\r\n          />\r\n          <FontAwesomeIcon icon={faPen} />\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={ProfileModelIsOpen}\r\n          onRequestClose={() => {\r\n            setProfileModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (profile) {\r\n                const fd = new FormData();\r\n                fd.append(\"profilepic\", profile);\r\n                const resp = await (\r\n                  await fetch(\"/api/setprofilepic\", {\r\n                    method: \"POST\",\r\n                    body: fd,\r\n                  })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setProfileModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a profile picture!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            PROFILE PICTURE\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              src={\"/files/\" + user.profilePic}\r\n              labelStyle={{ color: \"white\" }}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n        <Changebutton name=\"Background Image\" clickable={false}>\r\n          <RouterForm\r\n            action=\"/api/setbackgroundimage\"\r\n            beforecallback={(e: any) => {\r\n              setuploading(true);\r\n              return true;\r\n            }}\r\n            callback={() => {\r\n              if (backgroundinputref.current) {\r\n                backgroundinputref.current.value = \"\";\r\n                setbackgroundImage(undefined);\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            {backgroundImage ? (\r\n              <img\r\n                src={backgroundImage}\r\n                alt=\"background\"\r\n                style={{\r\n                  maxHeight: \"100px\",\r\n                  maxWidth: \"100px\",\r\n                }}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <input\r\n              type=\"file\"\r\n              name=\"backgroundImage\"\r\n              style={{ maxWidth: \"100%\" }}\r\n              onChange={(e: any) => {\r\n                setbackgroundImage(\r\n                  e.target.files[0]\r\n                    ? URL.createObjectURL(e.target.files[0])\r\n                    : undefined\r\n                );\r\n              }}\r\n              accept=\"image/*\"\r\n              ref={backgroundinputref}\r\n            />{\" \"}\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </RouterForm>\r\n        </Changebutton>\r\n        <Changebutton\r\n          name=\"Username\"\r\n          onClick={() => {\r\n            setUsernameModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <span style={{ color: \"white\" }}>\r\n            {user.username}\r\n            <span style={{ color: \"lightgray\" }}>#{user.tag}</span>\r\n            <FontAwesomeIcon icon={faPen} />\r\n          </span>\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={UsernameModelIsOpen}\r\n          onRequestClose={() => {\r\n            setUsernameModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (\r\n                e.target[0].value.trim() !== \"\" &&\r\n                e.target[1].value.trim() !== \"\"\r\n              ) {\r\n                const fd = new FormData();\r\n                fd.append(\"username\", e.target[0].value);\r\n                fd.append(\"pass\", e.target[1].value);\r\n                const resp = await (\r\n                  await fetch(\"/api/setusername\", { method: \"POST\", body: fd })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setUsernameModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a username and password!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            Username\r\n            <div\r\n              style={{\r\n                border: \"solid 1px gray\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                borderRadius: \"5px\",\r\n                width: \"100%\",\r\n              }}\r\n            >\r\n              <input\r\n                onInput={(e: any) => {\r\n                  e.target.value = e.target.value.trimStart();\r\n                  if (e.target.value.length > 30) {\r\n                    e.target.value = e.target.value.substring(0, 30);\r\n                  }\r\n                }}\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"transparent\",\r\n                  border: \"none\",\r\n                  borderRight: \"solid 1px white\",\r\n                  borderRadius: \"0px\",\r\n                }}\r\n                placeholder=\"Username\"\r\n                autoComplete=\"new-password\"\r\n                type=\"text\"\r\n                defaultValue={user.username}\r\n              ></input>\r\n              <span\r\n                style={{\r\n                  color: \"lightgray\",\r\n                  padding: \"0 1rem\",\r\n                  float: \"right\",\r\n                }}\r\n              >\r\n                #{user.tag}\r\n              </span>\r\n            </div>\r\n            <input\r\n              style={{\r\n                width: \"100%\",\r\n                color: \"white\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                border: \"solid 1px gray\",\r\n                borderRadius: \"5px\",\r\n              }}\r\n              placeholder=\"Current Password\"\r\n              autoComplete=\"new-password\"\r\n              type=\"password\"\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserSettings;\r\n","const snooze = (milliseconds: number) =>\r\n  new Promise((resolve) => setTimeout(resolve, milliseconds));\r\nexport default snooze;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport ColorThief from \"colorthief\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\nimport LoadError from \"./error\";\r\nimport { useRef } from \"react\";\r\nimport \"./css/contacts.css\";\r\nimport Modal from \"react-modal\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nconst colorThief = new ColorThief();\r\n\r\nfunction Contact({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  const holdref = useRef<any>();\r\n  const [UserModelIsOpen, setUserModelIsOpen] = useState(false);\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div\r\n        onPointerDown={() => {\r\n          holdref.current = setTimeout(() => {\r\n            holdref.current = undefined;\r\n            setUserModelIsOpen(true);\r\n          }, 500);\r\n          playSound(\"/sounds/click2.mp3\");\r\n        }}\r\n        onPointerUp={() => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            history.push(`/chat/${user.id}`);\r\n          }\r\n          playSound(\"/sounds/click1.mp3\");\r\n        }}\r\n        style={{\r\n          backgroundImage: user.backgroundImage\r\n            ? `url(/files/${user.backgroundImage})`\r\n            : \"\",\r\n          backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n          padding: \"1rem\",\r\n          marginBottom: \"1rem\",\r\n          backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n          backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n          borderRadius: \"10px\",\r\n          backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n          whiteSpace: \"nowrap\",\r\n          cursor: \"pointer\",\r\n\r\n          minHeight: \"82px\",\r\n        }}\r\n        className={\"contactbutton noselect\"}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          loading=\"lazy\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"50px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={async (e: any) => {\r\n            const resp = await colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <span>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"20px\",\r\n              marginLeft: \"5px\",\r\n            }}\r\n          >\r\n            {user.username}\r\n          </span>\r\n        </span>\r\n        <div\r\n          style={{\r\n            float: \"right\",\r\n            marginLeft: \"3px\",\r\n            background: \"var(--main-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Hold for Profile\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        isOpen={UserModelIsOpen}\r\n        onRequestClose={() => {\r\n          setUserModelIsOpen(false);\r\n        }}\r\n        style={{\r\n          overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\", zIndex: 10 },\r\n          content: {\r\n            backgroundColor: \"transparent\",\r\n            zIndex: 11,\r\n            border: \"none\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            marginRight: \"-50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n          },\r\n        }}\r\n        contentLabel=\"Username Change\"\r\n      >\r\n        <ProfilePage user={user}></ProfilePage>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Contacts() {\r\n  const { loggedin } = useData();\r\n  const { data, loading, error } = useApi(\"/api/getallcontacts\");\r\n  const [localcontacts, setlocalcontacts] = useLocalStorage<undefined | any>(\r\n    \"contacts\",\r\n    undefined\r\n  );\r\n  useEffect(() => {\r\n    if (data && data.contacts) {\r\n      setlocalcontacts(data.contacts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data]);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (loading || error) && !localcontacts ? (\r\n    error ? (\r\n      <LoadError error={String(error)}></LoadError>\r\n    ) : (\r\n      <Loader></Loader>\r\n    )\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem 0\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          borderRadius: \"10px\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Contacts</h1>\r\n        <div>\r\n          {localcontacts || data.resp ? (\r\n            (data && data.contacts.length > 0) ||\r\n            (localcontacts && localcontacts.length > 0) ? (\r\n              (data ? data.contacts : localcontacts).map((contact: any) => (\r\n                <Contact key={contact.id} user={contact}></Contact>\r\n              ))\r\n            ) : (\r\n              <p style={{ textAlign: \"center\" }}>\r\n                You have no contacts,{\" \"}\r\n                <span>\r\n                  <Link\r\n                    style={{ color: \"var(--secondary-text-colour)\" }}\r\n                    to=\"/add\"\r\n                  >\r\n                    add people\r\n                  </Link>\r\n                </span>{\" \"}\r\n                or wait for them to add you back!\r\n              </p>\r\n            )\r\n          ) : (\r\n            <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport ColorThief from \"colorthief\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst colorThief = new ColorThief();\r\n\r\nfunction UserListing({\r\n  user,\r\n  setloading,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    [key: string]: any;\r\n  };\r\n  setloading: Function;\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        margin: \"1rem\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n      }}\r\n    >\r\n      <img\r\n        alt=\"profile\"\r\n        loading=\"lazy\"\r\n        src={\"/files/\" + user.profilePic}\r\n        style={{\r\n          maxHeight: \"75px\",\r\n          maxWidth: \"100%\",\r\n          height: \"auto\",\r\n          width: \"auto\",\r\n          borderRadius: \"50%\",\r\n        }}\r\n        onLoad={async (e: any) => {\r\n          const resp = await colorThief.getColor(e.target);\r\n          setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n        }}\r\n      />\r\n      <span>\r\n        <span\r\n          style={{\r\n            color: \"white\",\r\n            WebkitTextStroke: \"1px black\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"20px\",\r\n            marginLeft: \"5px\",\r\n          }}\r\n        >\r\n          {user.username}\r\n          <span\r\n            style={{\r\n              color: \"lightgray\",\r\n              fontWeight: \"normal\",\r\n            }}\r\n          >\r\n            #{user.tag}\r\n          </span>\r\n        </span>\r\n      </span>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          background: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          borderRadius: \"10px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={async () => {\r\n          setloading(true);\r\n          const formdata = new FormData();\r\n          formdata.append(\"user\", user.id);\r\n          const resp = await (\r\n            await fetch(\"/api/frienduserfromid\", {\r\n              method: \"POST\",\r\n              body: formdata,\r\n            })\r\n          ).json();\r\n          if (resp.friends) {\r\n            history.push(`/chat/${user.id}`);\r\n          } else {\r\n            history.push(`/contacts`);\r\n          }\r\n          setloading(false);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faUserPlus}></FontAwesomeIcon>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddPeople() {\r\n  const [search, setsearch] = useState(\"\");\r\n  const { data, setData } = useApi(\r\n    search\r\n      ? \"/api/searchusers?\" + new URLSearchParams({ q: search }).toString()\r\n      : null\r\n  );\r\n  const [loading, setloading] = useState(false);\r\n  useEffect(() => {\r\n    if (!search) setData(undefined);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n  return loading ? (\r\n    <Loader></Loader>\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Add</h1>\r\n\r\n        <input\r\n          type=\"text\"\r\n          style={{\r\n            width: \"100%\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"20px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            color: \"white\",\r\n          }}\r\n          placeholder={\"search users\"}\r\n          onKeyUp={(e: any) => {\r\n            setsearch(e.target.value.trim());\r\n          }}\r\n        ></input>\r\n        <div>\r\n          {data && search ? (\r\n            data.resp ? (\r\n              data.data.length > 0 ? (\r\n                <div>\r\n                  <p style={{ textAlign: \"end\" }}>\r\n                    {data.data.length} result{data.data.length === 1 ? \"\" : \"s\"}{\" \"}\r\n                    found!\r\n                  </p>\r\n                  {data.data.map(\r\n                    (\r\n                      value: {\r\n                        profilePic: string;\r\n                        username: string;\r\n                        id: string;\r\n                        tag: string;\r\n                        backgroundImage: string | null;\r\n                        [key: string]: any;\r\n                      },\r\n                      index: number\r\n                    ) => (\r\n                      <UserListing\r\n                        user={value}\r\n                        setloading={setloading}\r\n                        key={value.id}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <p>No Results Found!</p>\r\n              )\r\n            ) : (\r\n              <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n            )\r\n          ) : (\r\n            <p style={{ textAlign: \"center\" }}>\r\n              type someones username and tag\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPeople;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport { useData } from \"./hooks/datahook\";\r\nimport playSound from \"./playsound\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport isElectron from \"is-electron\";\r\nimport notify from \"./notifier\";\r\n\r\nfunction NotificationComponent() {\r\n  const { loggedin, notifications } = useData();\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { lastJsonMessage, sendJsonMessage } = useWebSocket(\r\n    `ws://${\r\n      !process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n        ? window.location.hostname + \":5000\"\r\n        : window.location.host\r\n    }/notifications`,\r\n    {\r\n      shouldReconnect: () => true,\r\n    },\r\n    loggedin\r\n  );\r\n\r\n  useEffect(() => {\r\n    sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else {\r\n        if (lastJsonMessage.sound !== false) {\r\n          playSound(\r\n            lastJsonMessage.sound\r\n              ? lastJsonMessage.sound\r\n              : \"/sounds/notification.mp3\"\r\n          );\r\n        }\r\n        if (isElectron()) {\r\n          notify(lastJsonMessage.title, lastJsonMessage.message, () => {\r\n            history.push(lastJsonMessage.to);\r\n          });\r\n        } else {\r\n          notifications.addNotification({\r\n            title: lastJsonMessage.title,\r\n            message: lastJsonMessage.message,\r\n            type: \"default\",\r\n            onRemoval: (_: string, type: any) => {\r\n              if (type === \"click\") {\r\n                history.push(lastJsonMessage.to);\r\n              }\r\n            },\r\n            insert: \"top\",\r\n            container: \"top-right\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            dismiss: {\r\n              pauseOnHover: true,\r\n              duration: 5000,\r\n              onScreen: true,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  return <></>;\r\n}\r\nexport default NotificationComponent;\r\n","import playSound from \"../playsound\";\r\n\r\nconst ToggleSwitch = ({\r\n  children,\r\n  onChange,\r\n  defaultChecked,\r\n  checked,\r\n}: {\r\n  children?: string;\r\n  onChange?: Function;\r\n  checked?: boolean;\r\n  defaultChecked?: boolean;\r\n}) => (\r\n  <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n    <div>{children}</div>\r\n    <label style={{ margin: 0 }} className=\"form-switch noselect\">\r\n      <input\r\n        type=\"checkbox\"\r\n        onChange={(e: any) => {\r\n          if (onChange instanceof Function) {\r\n            onChange(e);\r\n            playSound(`/sounds/click${checked ? 1 : 3}.mp3`);\r\n          }\r\n        }}\r\n        checked={checked}\r\n        defaultChecked={defaultChecked}\r\n      />\r\n      <i></i>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default ToggleSwitch;\r\n","import useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport ToggleSwitch from \"./switch\";\r\n\r\nfunction Setting({ children }: { children: any }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        marginBottom: \"1rem\",\r\n        width: \"100%\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"5px\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Settings() {\r\n  const [soundEffects, setSoundEffects] = useLocalStorage(\r\n    \"sound effects\",\r\n    true\r\n  );\r\n  const [personaltyping, setpersonaltyping] = useLocalStorage(\r\n    \"Keyboard Typing Sound\",\r\n    true\r\n  );\r\n  const [Recipienttyping, setRecipienttyping] = useLocalStorage(\r\n    \"Recipient Typing Sound\",\r\n    true\r\n  );\r\n  const [SendSound, setSendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound, setReceiveSound] = useLocalStorage(\r\n    \"Receive Sound\",\r\n    true\r\n  );\r\n  const [volume, setVolume] = useLocalStorage(\"volume\", 15);\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Settings</h1>\r\n\r\n        <div>\r\n          <Setting>\r\n            <ToggleSwitch\r\n              onChange={() => {\r\n                setSoundEffects(!soundEffects);\r\n              }}\r\n              checked={soundEffects}\r\n            >\r\n              Sound Effects\r\n            </ToggleSwitch>\r\n          </Setting>\r\n          {soundEffects ? (\r\n            <div\r\n              style={{\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n                paddingTop: \"calc(1rem + 5px)\",\r\n              }}\r\n            >\r\n              <Setting>\r\n                <label\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    margin: 0,\r\n                  }}\r\n                >\r\n                  <div>Volume {volume * 5}%</div>\r\n                  <input\r\n                    type=\"range\"\r\n                    max=\"20\"\r\n                    min=\"0\"\r\n                    value={volume}\r\n                    onInput={(e: any) => {\r\n                      setVolume(e.target.value);\r\n                    }}\r\n                  ></input>\r\n                </label>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setpersonaltyping(!personaltyping);\r\n                  }}\r\n                  checked={personaltyping}\r\n                >\r\n                  Keyboard Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setRecipienttyping(!Recipienttyping);\r\n                  }}\r\n                  checked={Recipienttyping}\r\n                >\r\n                  Recipient Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setSendSound(!SendSound);\r\n                  }}\r\n                  checked={SendSound}\r\n                >\r\n                  Send Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setReceiveSound(!ReceiveSound);\r\n                  }}\r\n                  checked={ReceiveSound}\r\n                >\r\n                  Receive Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"./pages/css/toggleswitch.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./pages/css/scrollbar.css\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport { data as datahook } from \"./hooks/datahook\";\r\nimport PageNav from \"./pages/Navbar\";\r\nimport \"./colourPallete.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport useApi from \"./hooks/useapi\";\r\nimport Loader from \"./pages/loader\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Chat from \"./pages/Chat\";\r\nimport \"./pages/css/highlight.css\";\r\nimport Error404 from \"./pages/404\";\r\nimport useLocalStorage from \"./hooks/useLocalStorage\";\r\nimport UserSettings from \"./pages/usersettings\";\r\nimport snooze from \"./snooze\";\r\nimport Contacts from \"./pages/contacts\";\r\nimport ReactNotification, { store } from \"react-notifications-component\";\r\nimport \"react-notifications-component/dist/theme.css\";\r\nimport AddPeople from \"./pages/addpeople\";\r\nimport NotificationComponent from \"./notification\";\r\nimport LoadError from \"./pages/error\";\r\nimport Settings from \"./pages/settings\";\r\n\r\nfunction App() {\r\n  const { data, error, loading, reload } = useApi(\"/api/userdata\");\r\n  const [navbarsize, setnavbarsize] = useState({ width: 0, height: 0 });\r\n  const [chattingto, setchattingto] = useLocalStorage(\"chattingto\", null);\r\n  const [getuserdataonupdate, setgetuserdataonupdate] = useState(false);\r\n  const [userdata, setuserdata] = useState(data);\r\n  const [catchedcontacts, setcachedcontacts] = useState<any>(null);\r\n  useEffect(() => {\r\n    setuserdata(data);\r\n  }, [data]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        if (!getuserdataonupdate) {\r\n          setgetuserdataonupdate(true);\r\n          const response = await (\r\n            await fetch(\"/api/getuserdataonupdate\")\r\n          ).json();\r\n          if (!response.reconnect) {\r\n            setuserdata(response);\r\n          }\r\n          setgetuserdataonupdate(false);\r\n        }\r\n      } catch {\r\n        await snooze(1000);\r\n        setgetuserdataonupdate(false);\r\n      }\r\n    })();\r\n  });\r\n  return (\r\n    <Router>\r\n      <div style={{ overflowWrap: \"anywhere\" }}>\r\n        {error || loading ? (\r\n          error ? (\r\n            <LoadError error={String(error)}></LoadError>\r\n          ) : (\r\n            <Loader></Loader>\r\n          )\r\n        ) : (\r\n          <datahook.Provider\r\n            value={{\r\n              loggedin: userdata.loggedin,\r\n              user: userdata.user,\r\n              rechecklogged: reload,\r\n              setnavbarsize,\r\n              navbarsize,\r\n              chattingto,\r\n              setchattingto,\r\n              notifications: store,\r\n              catchedcontacts,\r\n              setcachedcontacts,\r\n            }}\r\n          >\r\n            <PageNav />\r\n            <ReactNotification />\r\n            <NotificationComponent />\r\n            <div>\r\n              <Switch>\r\n                <Route path=\"/\" exact>\r\n                  <Home />\r\n                </Route>\r\n                <Route path=\"/chat\" exact>\r\n                  <Redirect to={`/chat/${chattingto}`} />\r\n                </Route>\r\n                <Route\r\n                  path=\"/chat/:id\"\r\n                  render={(props: any) => <Chat key={props.match.params.id} />}\r\n                  exact\r\n                ></Route>\r\n                <Route path=\"/contacts\" exact>\r\n                  <Contacts />\r\n                </Route>\r\n                <Route path=\"/settings\" exact>\r\n                  <Settings />\r\n                </Route>\r\n                <Route path=\"/login\" exact>\r\n                  <Login />\r\n                </Route>\r\n                <Route path=\"/signup\" exact>\r\n                  <Signup />\r\n                </Route>\r\n                <Route path=\"/user/settings\" exact>\r\n                  <UserSettings />\r\n                </Route>\r\n                <Route path=\"/add\" exact>\r\n                  <AddPeople></AddPeople>\r\n                </Route>\r\n                <Route>\r\n                  <Error404></Error404>\r\n                </Route>\r\n              </Switch>\r\n            </div>\r\n          </datahook.Provider>\r\n        )}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"app\")\r\n);\r\nreportWebVitals();\r\nexport default App;\r\n"],"sourceRoot":""}