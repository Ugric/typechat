{"version":3,"sources":["hooks/datahook.tsx","pages/images/app page.png","playsound.ts","pages/Home.tsx","pages/loader.tsx","images/logos/TS.svg","pages/RouterForm.tsx","cookies.tsx","pages/Login.tsx","images/logos/TypeChat.svg","hooks/usescreensize.tsx","pages/Navbar.tsx","reportWebVitals.ts","hooks/useapi.tsx","pages/Signup.tsx","hooks/useLocalStorage.tsx","emojis.ts","notifier.tsx","pages/badges.tsx","pages/images/gift.svg","hooks/useWindowVisable.tsx","pages/Chat.tsx","pages/404.tsx","pages/profilePage.tsx","bytesToHumanReadable.ts","pages/CustomBackground.tsx","pages/usersettings.tsx","snooze.ts","pages/error.tsx","pages/contacts.tsx","pages/addpeople.tsx","setIcons.ts","notification.tsx","pages/switch.tsx","pages/settings.tsx","pages/Verify.tsx","pages/LinkDiscord.tsx","pages/Drive.tsx","pages/requestNewPassword.tsx","pages/images/Blast icon.svg","pages/images/fuel-pump.svg","pages/images/meteorites.svg","pages/images/planet.svg","pages/images/planet1.svg","pages/images/planet2.svg","pages/images/solar-system.svg","pages/images/satellite.svg","pages/images/satellite1.svg","pages/images/satellite2.svg","pages/blast.tsx","pages/T&C.tsx","index.tsx"],"names":["data","createContext","undefined","useData","useContext","hasshownmuted","url","a","localallowed","localStorage","getItem","JSON","parse","localvol","vol","hasplayed","audio","Howl","src","volume","on","play","setTimeout","pause","store","addNotification","title","type","onRemoval","message","insert","animationIn","animationOut","container","dismiss","duration","pauseOnHover","onScreen","playSound","Home","history","useHistory","standalone","window","matchMedia","matches","loggedin","to","style","textAlign","padding","overflow","className","fontSize","color","animationDuration","animationDelay","paddingBottom","onPointerDown","onPointerUp","onClick","push","margin","maxWidth","width","border","borderRadius","background","fontFamily","boxShadow","alt","appPage","Loader","display","marginTop","justifyContent","RouterForm","action","beforecallback","callback","children","appendtoformdata","fd","onerror","e","console","error","onSubmit","preventDefault","FormData","index","target","length","element","file","files","append","name","value","checked","newformdata","fetch","method","body","json","result","Cookies","Login","rechecklogged","useState","seterror","recapToken","setRecapToken","location","useLocation","query","search","slice","loading","setloading","redirect","Array","isArray","useEffect","document","logo","icon","faSignInAlt","data-private","email","test","String","toLowerCase","resp","cookies","set","token","path","expires","Date","now","err","onVerify","placeholder","borderTop","borderRight","borderBottom","borderLeft","borderImage","marginBottom","href","useWindowSize","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","PageNav","Navbarref","useRef","navbarsize","useComponentSize","user","setnavbarsize","chattingto","Navbar","ref","bg","variant","fixed","top","isElectron","Brand","as","Link","bigLogo","smallLogo","Nav","pathname","faComment","faUserFriends","faPlus","open","faDiscord","faRocket","faCog","Dropdown","Toggle","backgroundColor","profilePic","Menu","alignRight","Item","faUserCog","faPhotoVideo","remove","removeItem","faSignOutAlt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useApi","setData","setLoading","request","setrequest","setError","laststamp","time","getTime","current","reload","reloadSilent","Signup","profile","setprofile","faAddressCard","imageWidth","onCrop","dataURL","fetched","blob","labelStyle","onClose","exportMimeType","exportSize","exportQuality","exportAsSquare","autoComplete","useLocalStorage","key","initialValue","readValue","item","warn","storedValue","setStoredValue","handleStorageChange","newValue","setItem","stringify","dispatchEvent","Event","emoji","onclick","URLSearchParams","text","notify","badgestype","desc","faRocketchat","link","faBrain","faBug","faYoutube","faTwitch","faPython","faNodeJs","faUserAstronaut","faCheck","faUserTie","faDev","faSuperpowers","reverse","Badge","badges","side","size","badgerender","useMemo","output","badgetype","badge","cursor","flexWrap","useWindowVisable","hidden","visable","setvisable","chatSettings","isGroupChat","usersContext","exists","users","random","seed","x","Math","sin","floor","numToSSColumn","num","t","s","fromCharCode","videoSites","MetaPage","decoratedText","decoratedHref","mine","urldata","URL","hostname","marginRight","aspectRatio","minHeight","domain","description","image","MessageFaviconOrVideoRenderer","links","map","Fragment","includes","controls","Message","messages","i","toscroll","scrolltobottom","sendJsonMessage","deleteFromID","editFromID","messagecharlist","from","editing","setediting","fullyopened","setfullyopened","mimetype","onlyemojis","str","ranges","join","replace","RegExp","removeEmoji","onlyContainsEmojis","donekeys","shiftkey","submitref","longmessage","messageref","gift","opacity","ID","id","amount","trim","GiftIcon","tempid","tempmessage","onInput","click","messagetoarray","onKeyDown","keyCode","shiftKey","autoFocus","resize","maxRows","defaultValue","split","componentDecorator","edited","float","maxHeight","onLoad","playsInline","faFile","toLocaleString","navigator","clipboard","writeText","protocol","host","faCopy","faTrash","faTimes","faPencilAlt","faMinusCircle","faPlusCircle","MessageMaker","typingdata","scrollref","canloadmore","loadingmore","loadmore","chatUpdateID","lastmessage","alignSelf","username","marginLeft","timeEnd","useParams","faketext","specialchars","onscroll","documentElement","scrollHeight","scrollTop","clientHeight","typing","textShadow","ChatNotFound","position","left","transform","faSadCry","faCommentSlash","ChatPage","bypassChars","chats","setchats","isFocussed","notifications","NotificationAPI","usersdata","setusersdata","picture","groupchatdata","oldmetypingdata","setoldmetypingdata","metypingdata","setmetypingdata","socketUrl","settypingdata","isonline","setisonline","metypinglengthref","metypingref","typingTimer","inputref","scrollerref","bottomref","loadingchatmessages","setloadingchatmessages","setcanloadmore","setloadingmore","isLoadMore","setChatUpdateID","personaltyping","Recipienttyping","SendSound","ReceiveSound","localchats","setlocalchats","giftmodel","setgiftmodel","sendFile","formdata","removeNotification","concat","ReactGA","event","category","label","listenerfunction","items","clipboardData","originalEvent","kind","getAsFile","log","oldmessagsize","setoldmessagesize","messagesize","StartMessagesLength","ceil","doneTyping","splice","useWebSocket","shouldReconnect","reconnectInterval","lastJsonMessage","readyState","scrollingElement","scrollY","offsetHeight","scrollTo","fileref","formref","max","input","limit","substring","_","mobile","userAgent","online","lastheight","focus","onload","ReadyState","OPEN","UNINSTANTIATED","Provider","zIndex","faDesktop","faMobileAlt","faEyeSlash","handleKeys","onKeyEvent","start","bottom","isOpen","overlay","content","right","onRequestClose","alignItems","alignContent","htmlFor","rocketFuel","min","onBlur","maxlength","blast","clearTimeout","disabled","faGift","faPaperPlane","Chat","Error404","faFileCode","ProfilePage","r","g","b","backgroundcolour","setbackgroundcolour","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","ColorThief","getColor","WebkitTextStroke","fontWeight","tag","aboutme","humanFileSize","bytes","si","dp","thresh","abs","units","u","round","toFixed","Background","ReactTimeago","date","days","hours","minutes","seconds","Changebutton","clickable","Modal","setAppElement","UserSettings","backgroundinputref","uploadlimitdata","uploadlimitloading","uploadlimiterror","uploading","setuploading","setbackgroundImage","UsernameModelIsOpen","setUsernameModelIsOpen","ProfileModelIsOpen","setProfileModelIsOpen","Number","limitused","filelimit","timeleft","faPen","onAfterOpen","contentLabel","onChange","createObjectURL","accept","trimStart","snooze","milliseconds","Promise","resolve","LoadError","errordataurl","faExclamationTriangle","colorThief","Contact","holdref","UserModelIsOpen","setUserModelIsOpen","onTouchMove","clearInterval","textOverflow","whiteSpace","flexDirection","Contacts","setsearch","localcontacts","setlocalcontacts","contacts","onKeyUp","contact","toUpperCase","UserListing","friends","faUserPlus","AddPeople","q","toString","friendrequests","delay","onError","onScan","scan","setIcon","querySelectorAll","createElement","getElementsByTagName","appendChild","rel","NotificationComponent","useWindowFocus","isVisable","sound","ToggleSwitch","defaultChecked","Setting","Settings","soundEffects","setSoundEffects","setpersonaltyping","setRecipienttyping","setSendSound","setReceiveSound","setVolume","discord","setdiscord","setemail","paddingTop","Verify","verified","LinkDiscord","linked","FilePreview","fname","ext","lastIndexOf","textDecoration","startsWith","verticalAlign","lineHeight","exports","Drive","filename","Image","alert","faShare","response","download","catch","faDownload","RequestNewPassword","faKey","ChangePassword","StartButton","Star","y","Galaxy","Planet","Satellite","exportedObject","Blast","xalien","yalien","fuel","buyfuel","setbuyfuel","stars","startAt","keys","range","menupage","setmenupage","ends","startofweek","getUTCDate","price","sale","plant","plant1","plant2","solarsystem","satellite","satellite1","satellite2","blastIcon","fuelIcon","meteorites","endsWith","shippingPreference","onApprove","actions","orderID","payerID","status","currency","options","TandC","App","setchattingto","getuserdataonupdate","setgetuserdataonupdate","userdata","setuserdata","catchedcontacts","setcachedcontacts","Notification","permission","requestPermission","reconnect","LogRocket","identify","reCaptchaKey","overflowWrap","exact","render","match","params","init","initialize","serviceWorker","getRegistrations","registrations","unregister","onunload","register","scope","ReactDOM","StrictMode","getElementById"],"mappings":"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CA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4B,8CC/vDF,WAAsBlO,EAAeG,EAAiBgO,GAAtD,SAAAtP,EAAA,sEAEU8F,MAAM,iBAAD,OAAkB,IAAIyJ,gBAAgB,CAAEpO,QAAOG,cAF9D,8BAGIkO,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","file":"static/js/main.8e48c7d1.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\r\n\r\nconst data = createContext<any>(undefined);\r\nconst useData = () => useContext(data);\r\nexport { data, useData };\r\n","export default __webpack_public_path__ + \"static/media/app page.27ce18a4.png\";","import { Howl } from \"howler\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nlet hasshownmuted = false;\r\nasync function playSound(url: string) {\r\n  const localallowed = localStorage.getItem(\"sound effects\");\r\n  const canPlay = localallowed ? JSON.parse(localallowed) : true;\r\n  if (canPlay) {\r\n    const localvol = localStorage.getItem(\"volume\");\r\n    const vol = (localvol !== null ? JSON.parse(localvol) : 15) / 20;\r\n    let hasplayed = false;\r\n    const audio = new Howl({\r\n      src: url,\r\n      volume: vol,\r\n    });\r\n    audio.on(\"play\", () => {\r\n      hasplayed = true;\r\n    });\r\n    audio.play();\r\n    setTimeout(() => {\r\n      if (!hasplayed) {\r\n        audio.pause();\r\n        if (!hasshownmuted) {\r\n          store.addNotification({\r\n            title: \"sound\",\r\n            type: \"danger\",\r\n            onRemoval: () => {\r\n              hasshownmuted = false;\r\n            },\r\n            message:\r\n              \"you need to interact with the site for sound effects to play!\",\r\n            insert: \"top\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            container: \"top-right\",\r\n            dismiss: { duration: 10000, pauseOnHover: true, onScreen: true },\r\n          });\r\n          hasshownmuted = true;\r\n        }\r\n      }\r\n    }, 5000);\r\n  }\r\n}\r\nexport default playSound;\r\n","import { Redirect, useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport appPage from \"./images/app page.png\";\r\nimport \"./css/home.css\"\r\nimport playSound from \"../playsound\";\r\n\r\nfunction isRunningStandalone() {\r\n  return (window.matchMedia('(display-mode: standalone)').matches);\r\n}\r\n\r\nfunction Home() {\r\n  const history = useHistory()\r\n  const standalone = isRunningStandalone();\r\n  const { loggedin } = useData();\r\n  if (!loggedin) {\r\n    return (\r\n      <div style={ { textAlign: \"center\", padding: \"1rem\", overflow: \"hidden\" } }>\r\n        <h1 className=\"slideinright\" style={ { fontSize: \"75px\", color: \"var(--primary-text-colour)\", animationDuration: \"2s\" } }>Hello.</h1>\r\n        <h1 className=\"slideinleft\" style={ { color: \"var(--secondary-text-colour)\", animationDuration: \"2s\", animationDelay: \"1s\" } }>Welcome to TypeChat.</h1>\r\n        <p className=\"slideinright\" style={ { animationDuration: \"2s\", animationDelay: \"2s\", paddingBottom: \"1rem\" } }>\r\n          Type to your friends. Powered by TypeScript.\r\n        </p>\r\n        <div className=\"logindraw\" style={ { animationDuration: \"2s\", animationDelay: standalone ? \"3s\" : \"5s\" } }><div>\r\n          <button\r\n            onPointerDown={ () => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            } }\r\n            onPointerUp={ () => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            } }\r\n            onClick={ () => { history.push(\"/login\") } }\r\n            style={ {\r\n              margin: \"0.5rem\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            } }\r\n          >Login</button>\r\n          <button\r\n            onPointerDown={ () => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            } }\r\n            onPointerUp={ () => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            } }\r\n            onClick={ () => { history.push(\"/signup\") } }\r\n            style={ {\r\n              margin: \"0.5rem\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            } }\r\n          >Sign Up</button>\r\n        </div>\r\n        </div>\r\n        { standalone ? <></> :\r\n          <img className=\"slideinleft\" alt=\"phone app\" src={ appPage } style={ { width: \"100%\", maxWidth: \"350px\", animationDuration: \"2s\", animationDelay: \"3s\" } }></img>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n  return <Redirect to=\"/contacts\"></Redirect>;\r\n}\r\n\r\nexport default Home;\r\n","import \"./css/loader.css\";\r\nimport \"./css/center.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={ {\r\n        display: \"flex\",\r\n        marginTop: \"5rem\",\r\n        justifyContent: \"center\",\r\n      } }\r\n    >\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","export default __webpack_public_path__ + \"static/media/TS.6e2a4395.svg\";","import react from \"react\"\r\n\r\nexport function RouterForm({\r\n  action,\r\n  beforecallback,\r\n  callback,\r\n  children,\r\n  style,\r\n  appendtoformdata = (fd: FormData) => {\r\n    return fd;\r\n  },\r\n  onerror = (e: any) => {\r\n    console.error(e);\r\n  },\r\n}: {\r\n  action: string;\r\n  beforecallback: (e: any) => boolean | undefined;\r\n  callback(responce: any): void;\r\n  children: any; style?: react.CSSProperties;\r\n  appendtoformdata?(fd: FormData): FormData; onerror?(e: any): void\r\n}): JSX.Element {\r\n  return (\r\n    <form\r\n      style={ style }\r\n      onSubmit={ async (e: any) => {\r\n        e.preventDefault();\r\n        if (beforecallback(e)) {\r\n          const fd = new FormData();\r\n          for (let index = 0; index < e.target.length; index++) {\r\n            const element = e.target[index];\r\n            if (element.type !== \"submit\") {\r\n              if (element.type === \"file\") {\r\n                for (let file = 0; file < element.files.length; file++) {\r\n                  fd.append(element.name, element.files[file]);\r\n                }\r\n              } else if (\r\n                element.type !== \"radio\" &&\r\n                element.type !== \"checkbox\"\r\n              ) {\r\n                fd.append(element.name, element.value);\r\n              } else if (element.checked) {\r\n                fd.append(element.name, element.checked);\r\n              }\r\n            }\r\n          }\r\n          const newformdata = appendtoformdata(fd);\r\n          try {\r\n            const result = await (\r\n              await fetch(action, {\r\n                method: \"POST\",\r\n                body: newformdata,\r\n              })\r\n            ).json();\r\n            callback(result);\r\n          } catch (e) {\r\n            onerror(e);\r\n          }\r\n        }\r\n      } }\r\n    >\r\n      { children }\r\n    </form>\r\n  );\r\n}\r\n","import Cookies from 'universal-cookie';\r\n\r\n\r\nexport default new Cookies();","import { useData } from \"../hooks/datahook\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Login() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const [loading, setloading] = useState(false);\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n\r\n  useEffect(() => {\r\n    document.title = `Login - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={ { display: loading ? \"\" : \"none\" } }>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={ {\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        } }\r\n      >\r\n        <img\r\n          src={ logo }\r\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\r\n          alt=\"logo\"\r\n        ></img>\r\n        <h1\r\n          style={ {\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faSignInAlt }></FontAwesomeIcon> Login\r\n        </h1><div\r\n          data-private>\r\n          <RouterForm\r\n            action={ \"/login\" }\r\n            beforecallback={ (e: any) => {\r\n              if (recapToken) {\r\n                if (e.target[0].value !== \"\" && e.target[1].value !== \"\") {\r\n                  if (validateEmail(e.target[0].value)) {\r\n                    setloading(true);\r\n                    return true;\r\n                  } else {\r\n                    seterror(\"input a valid email!\");\r\n                  }\r\n                } else {\r\n                  seterror(\"input an email and password!\");\r\n                }\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            } }\r\n            appendtoformdata={ (fd) => {\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              return fd;\r\n            } }\r\n            style={ {\r\n              width: \"fit-content\",\r\n              margin: \"auto\",\r\n              maxWidth: \"300px\",\r\n            } }\r\n            callback={ (resp: any) => {\r\n              if (resp.resp) {\r\n                cookies.set(\"token\", resp.token, {\r\n                  path: \"/\",\r\n                  expires: new Date(Date.now() + 3.154e12),\r\n                });\r\n                rechecklogged();\r\n              } else {\r\n                setloading(false);\r\n                seterror(resp.err);\r\n              }\r\n            } }\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={ (token) => {\r\n                setRecapToken(token);\r\n              } }\r\n            />\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Email\r\n            </p>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n            />\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n            />\r\n            <p style={ {\r\n              fontSize: \"13px\",\r\n              marginBottom: \"1rem !important\",\r\n            } }>By logging in, you agree to the <a href=\"/t&c\" target=\"blank_\">T & C's</a></p>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Login\"\r\n              style={ {\r\n                padding: \"1rem\",\r\n                maxWidth: \"250px\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              } }\r\n            />\r\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\r\n            <p style={ { margin: \"1rem 0\", color: \"white\" } }>\r\n              dont already have an account?{ \" \" }\r\n              <span>\r\n                <Link\r\n                  to={ \"/signup\" + location.search }\r\n                  style={ { color: \"var(--secondary-text-colour)\" } }\r\n                >\r\n                  Make one\r\n                </Link>\r\n              </span>\r\n            </p>\r\n            <p style={ { margin: \"1rem 0\", color: \"white\" } }>\r\n              Forgot your password?{ \" \" }\r\n              <span>\r\n                <Link\r\n                  to={ \"/requestNewPassword\" }\r\n                  style={ { color: \"var(--secondary-text-colour)\" } }\r\n                >\r\n                  Change it\r\n                </Link>\r\n              </span>\r\n            </p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/TypeChat.b8ec676e.svg\";","import { useState, useEffect } from \"react\";\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\nexport default useWindowSize;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { Nav, Navbar, Dropdown } from \"react-bootstrap\";\r\nimport bigLogo from \"../images/logos/TypeChat.svg\";\r\nimport smallLogo from \"../images/logos/TS.svg\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./css/nav.css\";\r\nimport cookies from \"../cookies\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faComment,\r\n  faUserFriends,\r\n  faPlus,\r\n  faSignOutAlt,\r\n  faCog,\r\n  faRocket,\r\n  faUserCog,\r\n  faPhotoVideo,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport useComponentSize from \"@rehooks/component-size\";\r\nimport playSound from \"../playsound\";\r\nimport isElectron from \"is-electron\";\r\nconst PageNav = () => {\r\n  const { width } = useWindowSize();\r\n  const Navbarref = useRef(null);\r\n  const navbarsize = useComponentSize(Navbarref);\r\n  const { loggedin, user, rechecklogged, setnavbarsize, chattingto } =\r\n    useData();\r\n  useEffect(() => {\r\n    setnavbarsize(navbarsize);\r\n  }, [navbarsize, setnavbarsize]);\r\n  const location = useLocation();\r\n  return (\r\n    <>\r\n      <Navbar\r\n        ref={ Navbarref }\r\n        bg=\"darkpurple\"\r\n        variant=\"dark\"\r\n        fixed=\"top\"\r\n        style={ { top: isElectron() ? \"30px\" : undefined } }\r\n      >\r\n        <Navbar.Brand\r\n          onPointerDown={ () => {\r\n            playSound(\"/sounds/click2.mp3\");\r\n          } }\r\n          onPointerUp={ () => {\r\n            playSound(\"/sounds/click1.mp3\");\r\n          } }\r\n          as={ Link }\r\n          to={ loggedin ? \"/contacts\" : \"/\" }\r\n        >\r\n          <img\r\n            alt=\"TypeChat\"\r\n            src={ width > 700 ? bigLogo : smallLogo }\r\n            style={ {\r\n              height: \"40px\",\r\n            } }\r\n          />\r\n        </Navbar.Brand>\r\n\r\n        <Nav className=\"mc-auto\">\r\n          { loggedin ? (\r\n            <>\r\n              { chattingto ? (\r\n                <Nav.Link\r\n                  onPointerDown={ () => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  } }\r\n                  onPointerUp={ () => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  } }\r\n                  as={ Link }\r\n                  to={ `/chat/${chattingto}` }\r\n                  style={ {\r\n                    color:\r\n                      location.pathname === `/chat/${chattingto}`\r\n                        ? \"white\"\r\n                        : \"\",\r\n                  } }\r\n                >\r\n                  <FontAwesomeIcon icon={ faComment } />\r\n                </Nav.Link>\r\n              ) : (\r\n                <></>\r\n              ) }\r\n              <Nav.Link\r\n                onPointerDown={ () => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                } }\r\n                onPointerUp={ () => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                } }\r\n                as={ Link }\r\n                to=\"/contacts\"\r\n                style={ {\r\n                  color: location.pathname === \"/contacts\" ? \"white\" : \"\",\r\n                } }\r\n              >\r\n                <FontAwesomeIcon icon={ faUserFriends } />\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={ () => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                } }\r\n                onPointerUp={ () => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                } }\r\n                as={ Link }\r\n                to=\"/add\"\r\n                style={ { color: location.pathname === \"/add\" ? \"white\" : \"\" } }\r\n              >\r\n                <FontAwesomeIcon icon={ faPlus } />\r\n              </Nav.Link>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          ) }\r\n        </Nav>\r\n        <Nav>\r\n          <Nav.Link\r\n            onPointerDown={ () => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            } }\r\n            onPointerUp={ () => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            } }\r\n            onClick={ () => window.open(\"/invite\", \"blank_\") }\r\n          >\r\n            <FontAwesomeIcon icon={ faDiscord } />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={ () => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            } }\r\n            onPointerUp={ () => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            } }\r\n            as={ Link }\r\n            to=\"/blast\"\r\n            style={ { color: location.pathname === \"/blast\" ? \"white\" : \"\" } }\r\n          >\r\n            <FontAwesomeIcon icon={ faRocket } />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={ () => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            } }\r\n            onPointerUp={ () => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            } }\r\n            as={ Link }\r\n            to=\"/settings\"\r\n            style={ { color: location.pathname === \"/settings\" ? \"white\" : \"\" } }\r\n          >\r\n            <FontAwesomeIcon icon={ faCog } />\r\n          </Nav.Link>\r\n          { loggedin ? (\r\n            <>\r\n              <Dropdown>\r\n                <Dropdown.Toggle\r\n                  style={ {\r\n                    backgroundColor: \"transparent\",\r\n                    border: \"none\",\r\n                    margin: \"0\",\r\n                    padding: \"0\",\r\n                  } }\r\n                  onPointerDown={ () => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  } }\r\n                  onPointerUp={ () => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  } }\r\n                >\r\n                  <img\r\n                    alt=\"Profile\"\r\n                    src={ \"/files/\" + user.profilePic }\r\n                    style={ { height: \"40px\", borderRadius: \"50%\" } }\r\n                  />\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu alignRight className={ \"db-darkpurple\" }>\r\n                  <Dropdown.Item\r\n                    as={ Link }\r\n                    to=\"/user/settings\"\r\n                    onPointerDown={ () => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    } }\r\n                    onPointerUp={ () => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    } }\r\n                  >\r\n                    <FontAwesomeIcon icon={ faUserCog } /> User Settings\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    as={ Link }\r\n                    to=\"/user/drive\"\r\n                    onPointerDown={ () => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    } }\r\n                    onPointerUp={ () => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    } }\r\n                  >\r\n                    <FontAwesomeIcon icon={ faPhotoVideo } /> Drive\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    onClick={ async () => {\r\n                      await fetch(\"/api/logout\");\r\n                      cookies.remove(\"token\");\r\n                      rechecklogged();\r\n                      localStorage.removeItem(\"chats\");\r\n                      localStorage.removeItem(\"contacts\");\r\n                      localStorage.removeItem(\"chattingto\");\r\n                    } }\r\n                    onPointerDown={ () => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    } }\r\n                    onPointerUp={ () => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    } }\r\n                  >\r\n                    <FontAwesomeIcon icon={ faSignOutAlt } /> Logout\r\n                  </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Nav.Link\r\n                onPointerDown={ () => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                } }\r\n                onPointerUp={ () => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                } }\r\n                as={ Link }\r\n                to=\"/login\"\r\n                style={ { color: location.pathname === \"/login\" ? \"white\" : \"\" } }\r\n              >\r\n                Login\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={ () => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                } }\r\n                onPointerUp={ () => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                } }\r\n                as={ Link }\r\n                to=\"/signup\"\r\n                style={ {\r\n                  color: location.pathname === \"/signup\" ? \"white\" : \"\",\r\n                } }\r\n              >\r\n                Sign Up\r\n              </Nav.Link>\r\n            </>\r\n          ) }\r\n        </Nav>\r\n      </Navbar>\r\n      <div\r\n        style={ { height: navbarsize.height + (isElectron() ? 30 : 0) } }\r\n      ></div>\r\n    </>\r\n  );\r\n};\r\nexport default PageNav;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface userApiInterface<T> {\r\n  loading: boolean;\r\n  data: T | undefined;\r\n  setData: Function;\r\n  error: string | undefined;\r\n  reload: Function;\r\n  reloadSilent: Function;\r\n}\r\n\r\nfunction useApi<T>(url: string | null): userApiInterface<T> {\r\n  const [data, setData] = useState<T | undefined>(undefined);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [request, setrequest] = useState<number>(0);\r\n  const [error, setError] = useState<string | undefined>(undefined);\r\n  const laststamp = useRef<number | null>(null);\r\n  function reload() {\r\n    setrequest(request + 1);\r\n    setLoading(true);\r\n    setError(undefined);\r\n    setData(undefined);\r\n  }\r\n  function reloadSilent() {\r\n    setrequest(request + 1);\r\n  }\r\n  useEffect(() => {\r\n    if (url) {\r\n      (async () => {\r\n        try {\r\n          const time = new Date().getTime();\r\n          const result = await (await fetch(url)).json();\r\n          if (!laststamp.current || time - laststamp.current > 0) {\r\n            laststamp.current = time;\r\n            setData(result);\r\n          }\r\n        } catch (e) {\r\n          setError(String(e));\r\n        }\r\n        setLoading(false);\r\n      })();\r\n    }\r\n  }, [url, request]);\r\n\r\n  return { loading, data, setData, error, reload, reloadSilent };\r\n}\r\n\r\nexport default useApi;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAddressCard } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Signup() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const history = useHistory();\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n\r\n  useEffect(() => {\r\n    document.title = `Signup - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={ { display: loading ? \"\" : \"none\" } }>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={ {\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        } }\r\n      >\r\n        <img\r\n          src={ logo }\r\n          alt=\"logo\"\r\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\r\n        ></img>\r\n        <h1\r\n          style={ {\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faAddressCard }></FontAwesomeIcon> Sign Up\r\n        </h1>\r\n        <div\r\n          data-private>\r\n          <RouterForm\r\n            action={ \"/signup\" }\r\n            beforecallback={ (e: any) => {\r\n              if (recapToken) {\r\n                if (\r\n                  e.target[0].value !== \"\" &&\r\n                  e.target[1].value !== \"\" &&\r\n                  e.target[2].value !== \"\" &&\r\n                  profile\r\n                ) {\r\n                  if (validateEmail(e.target[0].value)) {\r\n                    setloading(true);\r\n                    return true;\r\n                  } else {\r\n                    seterror(\"input a valid email!\");\r\n                  }\r\n                } else {\r\n                  seterror(\"input a profile, username, email and password!\");\r\n                }\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            } }\r\n            appendtoformdata={ (fd: FormData) => {\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              fd.append(\"profile\", profile ? profile : \"\");\r\n              return fd;\r\n            } }\r\n            style={ { width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" } }\r\n            callback={ (resp: any) => {\r\n              if (resp.resp) {\r\n                cookies.set(\"token\", resp.token, {\r\n                  path: \"/\",\r\n                  expires: new Date(Date.now() + 3.154e12),\r\n                });\r\n                rechecklogged();\r\n              } else {\r\n                setloading(false);\r\n                seterror(resp.err);\r\n              }\r\n            } }\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={ (token) => {\r\n                setRecapToken(token);\r\n              } }\r\n            />{ \" \" }\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              profile\r\n            </p>\r\n            <Avatar\r\n              width={ 300 }\r\n              height={ 0 }\r\n              imageWidth={ 300 }\r\n              onCrop={ (dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              } }\r\n              labelStyle={ { color: \"white\" } }\r\n              onClose={ () => {\r\n                setprofile(null);\r\n              } }\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={ 500 }\r\n              exportQuality={ 0.75 }\r\n              exportAsSquare\r\n            />{ \" \" }\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Email\r\n            </p>{ \" \" }\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Username\r\n            </p>{ \" \" }\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              name=\"uname\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n              autoComplete=\"new-password\"\r\n            />{ \" \" }\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <p style={ {\r\n              fontSize: \"13px\",\r\n              marginBottom: \"1rem !important\",\r\n            } }>By creating an account, you agree to the <a href=\"/t&c\" target=\"blank_\">T & C's</a></p>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Sign up\"\r\n              style={ {\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              } }\r\n            />\r\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\r\n            <p style={ { margin: \"1rem 0\", color: \"white\" } }>\r\n              already have an account?{ \" \" }\r\n              <span>\r\n                <Link\r\n                  to={ \"/login\" + location.search }\r\n                  style={ { color: \"var(--secondary-text-colour)\" } }\r\n                >\r\n                  Login\r\n                </Link>\r\n              </span>\r\n            </p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\nfunction useLocalStorage<T>(\r\n  key: string,\r\n  initialValue: T | (() => T)\r\n): [T, Dispatch<SetStateAction<T>>] {\r\n  // Get from local storage then\r\n  // parse stored json or return initialValue\r\n  const readValue = () => {\r\n    // Prevent build error \"window is undefined\" but keep keep working\r\n    if (typeof window === \"undefined\") {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key ${key}:`, error);\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(readValue);\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue: Dispatch<SetStateAction<T>> = (value) => {\r\n    // Prevent build error \"window is undefined\" but keeps working\r\n    if (typeof window == \"undefined\") {\r\n      console.warn(\r\n        `Tried setting localStorage key ${key} even though environment is not a client`\r\n      );\r\n    }\r\n\r\n    try {\r\n      // Allow value to be a function so we have the same API as useState\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n\r\n      // Save state\r\n      setStoredValue(newValue);\r\n\r\n      // We dispatch a custom event so every useLocalStorage hook are notified\r\n      window.dispatchEvent(new Event(\"local-storage\"));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key ${key}:`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    // this only works for other documents, not the current one\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n\r\n    // this is a custom event, triggered in writeValueToLocalStorage\r\n    window.addEventListener(\"local-storage\", handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"local-storage\", handleStorageChange);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","const emoji = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"#\",\r\n  \"*\",\r\n  \"0\",\r\n  \"1\",\r\n  \"2\",\r\n  \"3\",\r\n  \"4\",\r\n  \"5\",\r\n  \"6\",\r\n  \"7\",\r\n  \"8\",\r\n  \"9\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nexport default emoji;\r\n","async function notify(title: string, message: string, onclick: () => void) {\r\n  const resp = await (\r\n    await fetch(`notify://app/?${new URLSearchParams({ title, message })}`)\r\n  ).text();\r\n  if (resp === \"click\") {\r\n    onclick();\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import {\r\n  faDev,\r\n  faDiscord,\r\n  faNodeJs,\r\n  faPython,\r\n  faRocketchat,\r\n  faSuperpowers,\r\n  faTwitch,\r\n  faYoutube,\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\nimport {\r\n  faRocket,\r\n  faUserAstronaut,\r\n  faUserTie,\r\n  faBrain,\r\n  IconDefinition,\r\n  faCheck,\r\n  faBug,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useMemo } from \"react\";\r\n\r\nconst badgestype: {\r\n  name: string;\r\n  desc: string;\r\n  icon: IconDefinition;\r\n  color: string;\r\n  link?: string\r\n}[] = [\r\n  {\r\n    name: \"Beta Tester\",\r\n    desc: \"Beta Tester\",\r\n    icon: faRocketchat,\r\n    color: \"#6495ed\",\r\n  },\r\n  {\r\n    name: \"Blast\",\r\n    desc: \"WOW, thats a Blast Member!\",\r\n    icon: faRocket,\r\n    color: \"#5656ff\",\r\n    link: \"/blast\"\r\n  },\r\n  {\r\n    name: \"brain\",\r\n    desc: \"This is given to a big brain person, who gave a big brain idea!\",\r\n    icon: faBrain,\r\n    color: \"#ff7676\",\r\n  },\r\n  {\r\n    name: \"bug\",\r\n    desc: \"Bug Catcher!\",\r\n    icon: faBug,\r\n    color: \"#9c00a7\",\r\n  },\r\n  { name: \"discord\", desc: \"Discord\", icon: faDiscord, color: \"#5865f2\", link: \"/invite\" },\r\n  { name: \"youtube\", desc: \"Youtube\", icon: faYoutube, color: \"#FF0000\" },\r\n  { name: \"twitch\", desc: \"Twitch\", icon: faTwitch, color: \"#6441a5\" },\r\n  { name: \"python\", desc: \"Python\", icon: faPython, color: \"linear-gradient(135deg, #008cff, #ffcc00)\", link: \"https://www.python.org/\" },\r\n  { name: \"nodejs\", desc: \"Node.js\", icon: faNodeJs, color: \"#71a752\", link: \"https://nodejs.org/\" },\r\n  {\r\n    name: \"new\",\r\n    desc: \"A new user, say hi!\",\r\n    icon: faUserAstronaut,\r\n    color: \"#fbb03b\",\r\n  },\r\n  {\r\n    name: \"verified\",\r\n    desc: \"Verified\",\r\n    icon: faCheck,\r\n    color: \"#1e90ff\",\r\n  },\r\n  { name: \"admin\", desc: \"WOW, an admin!\", icon: faUserTie, color: \"#ee3840\" },\r\n  {\r\n    name: \"dev\",\r\n    desc: \"WOW! A developer!\",\r\n    icon: faDev,\r\n    color: \"#23c18b\",\r\n  },\r\n  {\r\n    name: \"ceo\",\r\n    desc: \"OMG. OMG. OMG. It's the CEO!\",\r\n    icon: faSuperpowers,\r\n    color: \"#e88158\",\r\n  },\r\n].reverse();\r\n\r\nfunction Badge({\r\n  badges,\r\n  side,\r\n  size\r\n}: {\r\n  badges: { name: string; link?: string }[];\r\n  side?: string;\r\n  size?: string | number\r\n}) {\r\n  const badgerender = useMemo(() => {\r\n    const output = [];\r\n    if (badges) {\r\n      for (const badgetype of badgestype) {\r\n        for (const badge of badges) {\r\n          if (badge.name === badgetype.name) {\r\n            output.push(\r\n              <abbr\r\n                key={ badgetype.name }\r\n                title={ badgetype.desc }\r\n                style={ {\r\n                  background: badgetype.color,\r\n                  borderRadius: \"5px\",\r\n                  margin: \"2px\",\r\n                  padding: \"0px 3px\",\r\n                  height: size ? size : \"30px\",\r\n                  width: size ? size : \"30px\",\r\n                  cursor: badge.link || badgetype.link ? \"pointer\" : undefined\r\n                } }\r\n                onClick={ () => badge.link ? window.open(badge.link, \"blank_\") : badgetype.link ? window.open(badgetype.link, \"blank_\") : undefined }\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={ badgetype.icon }\r\n                  style={ { width: \"100%\", height: \"100%\" } }\r\n                />\r\n              </abbr>\r\n            );\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return output;\r\n  }, [badges, size]);\r\n  return badgerender.length > 0 ? (\r\n    <div\r\n      style={ {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: side ? side : \"center\",\r\n      } }\r\n    >\r\n      { badgerender }\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nexport default Badge;\r\n","export default __webpack_public_path__ + \"static/media/gift.a30b637b.svg\";","import { useEffect, useState } from \"react\";\r\n\r\nfunction useWindowVisable() {\r\n    const [visable, setvisable] = useState(!document.hidden)\r\n    useEffect(() => {\r\n        document.addEventListener(\"visibilitychange\", function () { setvisable(!document.hidden) })\r\n    }, [])\r\n    return visable\r\n}\r\nexport default useWindowVisable","import {\r\n  faCommentSlash,\r\n  faCopy,\r\n  faDesktop,\r\n  faEyeSlash,\r\n  faFile,\r\n  faGift,\r\n  faMobileAlt,\r\n  faPaperPlane,\r\n  faPencilAlt,\r\n  faPlus,\r\n  faSadCry,\r\n  faTimes,\r\n  faTrash,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport React, {\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  createContext,\r\n  useContext,\r\n} from \"react\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport \"./css/message.css\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport Loader from \"./loader\";\r\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport emoji from \"../emojis\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport isElectron from \"is-electron\";\r\nimport notify from \"../notifier\";\r\nimport Linkify from \"react-linkify\";\r\nimport ReactPlayer from \"react-player/lazy\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport Badge from \"./badges\";\r\nimport ReactModal from \"react-modal\";\r\nimport GiftIcon from \"./images/gift.svg\"\r\nimport ReactGA from \"react-ga4\";\r\nimport useWindowVisable from \"../hooks/useWindowVisable\";\r\n\r\nconst chatSettings = createContext({ isGroupChat: false, time: 0 });\r\nconst usersContext = createContext<{\r\n  exists: boolean;\r\n  users: { [key: string]: any };\r\n}>({ exists: false, users: {} });\r\n\r\nfunction onlyContainsEmojis(str: string) {\r\n  const ranges = emoji.join(\"|\");\r\n\r\n  const removeEmoji = (str: string) =>\r\n    str.replace(new RegExp(\"[\" + ranges + \"]\", \"g\"), \"\");\r\n\r\n  return !removeEmoji(str).length;\r\n}\r\n\r\nconst truncate = (input: string, limit: number) =>\r\n  input.length > limit ? `${input.substring(0, limit)}...` : input;\r\n\r\nfunction random(seed: number) {\r\n  var x = Math.sin(seed) * 10000;\r\n  return x - Math.floor(x);\r\n}\r\nfunction numToSSColumn(num: number) {\r\n  let s = \"\",\r\n    t;\r\n\r\n  while (num > 0) {\r\n    t = (num - 1) % 26;\r\n    s = String.fromCharCode(66 + t) + s;\r\n    num = ((num - t) / 26) | 0;\r\n  }\r\n  return s || undefined;\r\n}\r\n\r\ninterface messageTypes {\r\n  ID?: string;\r\n  tempid?: number;\r\n  time: number;\r\n  from: string;\r\n  edited: boolean;\r\n}\r\n\r\ninterface messageWithText extends messageTypes {\r\n  gift: undefined;\r\n  amount: undefined;\r\n  message: string;\r\n  file: undefined;\r\n  mimetype: undefined;\r\n}\r\ninterface messageWithFile extends messageTypes {\r\n  gift: undefined;\r\n  amount: undefined;\r\n  file: string;\r\n  message: undefined;\r\n  mimetype: string;\r\n}\r\n\r\ninterface giftMessage extends messageTypes {\r\n  gift: true;\r\n  amount: number;\r\n  from: string;\r\n  message: string;\r\n  file: undefined;\r\n  mimetype: undefined;\r\n  time: number;\r\n}\r\n\r\nconst videoSites = [\r\n  \"youtube.com\",\r\n  \"www.youtube.com\",\r\n  \"twitch.tv\",\r\n  \"www.twitch.tv\",\r\n  \"youtu.be\",\r\n  \"soundcloud.com\",\r\n  \"www.soundcloud.com\",\r\n  \"dailymotion.com\",\r\n  \"www.dailymotion.com\",\r\n  \"facebook.com\",\r\n  \"www.facebook.com\",\r\n  \"vimeo.com\",\r\n  \"www.vimeo.com\",\r\n];\r\n\r\nfunction MetaPage({\r\n  url,\r\n  decoratedText,\r\n  decoratedHref,\r\n  mine,\r\n}: {\r\n  url: string;\r\n  decoratedText: string;\r\n  decoratedHref: string;\r\n  mine: boolean;\r\n}) {\r\n  const urldata = new URL(decoratedHref, \"http://.\");\r\n  const { data } = useApi<{\r\n    url: string;\r\n    canonical: string;\r\n    title: string;\r\n    image: string;\r\n    author: string;\r\n    description: string;\r\n    keywords: string;\r\n    source: string;\r\n    price: string;\r\n    priceCurrency: string;\r\n    availability: string;\r\n    robots: string;\r\n    \"og:url\": string;\r\n    \"og:locale\": string;\r\n    \"og:locale:alternate\": string;\r\n    \"og:title\": string;\r\n    \"og:type\": string;\r\n    \"og:description\": string;\r\n    \"og:determiner\": string;\r\n    \"og:site_name\": string;\r\n    \"og:image\": string;\r\n    \"og:image:secure_url\": string;\r\n    \"og:image:type\": string;\r\n    \"og:image:width\": string;\r\n    \"og:image:height\": string;\r\n    \"twitter:title\": string;\r\n    \"twitter:image\": string;\r\n    \"twitter:image:alt\": string;\r\n    \"twitter:card\": string;\r\n    \"twitter:site\": string;\r\n    \"twitter:site:id\": string;\r\n    \"twitter:account_id\": string;\r\n    \"twitter:creator\": string;\r\n    \"twitter:creator:id\": string;\r\n    \"twitter:player\": string;\r\n    \"twitter:player:width\": string;\r\n    \"twitter:player:height\": string;\r\n    \"twitter:player:stream\": string;\r\n    jsonld: {};\r\n  }>(\"/api/getmetadata?\" + new URLSearchParams({ url: urldata.href }));\r\n  return data ? (\r\n    <div\r\n      style={ {\r\n        padding: \"1rem\",\r\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\r\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n        borderRadius: \"10px\",\r\n        maxWidth: \"350px\",\r\n        margin: \"auto\",\r\n      } }\r\n    >\r\n      <a\r\n        href={ decoratedHref }\r\n        target=\"blank\"\r\n        style={ {\r\n          fontSize: \"24px\",\r\n        } }\r\n      >\r\n        <img\r\n          alt={ urldata.hostname }\r\n          style={ {\r\n            marginRight: \"5px\",\r\n            aspectRatio: \"1/1\",\r\n            height: \"100%\",\r\n            minHeight: \"24px\",\r\n          } }\r\n          src={ `https://www.google.com/s2/favicons?${new URLSearchParams({\r\n            size: \"24\",\r\n            domain: urldata.hostname,\r\n          })}` }\r\n        />\r\n        { data.title ? data.title : decoratedText }\r\n      </a>\r\n      <p>{ data.description }</p>\r\n      { data.image.length > 0 ? (\r\n        <img\r\n          src={ new URL(data.image, url).href }\r\n          style={ { width: \"100%\", borderRadius: \"10px\" } }\r\n          alt={ data.title ? data.title : decoratedText }\r\n        ></img>\r\n      ) : (\r\n        <></>\r\n      ) }\r\n    </div>\r\n  ) : (\r\n    <div\r\n      style={ {\r\n        padding: \"1rem\",\r\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\r\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n        borderRadius: \"10px\",\r\n        margin: \"5px\",\r\n      } }\r\n    >\r\n      <a\r\n        href={ decoratedHref }\r\n        target=\"blank\"\r\n        style={ {\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          margin: 0,\r\n        } }\r\n      >\r\n        <img\r\n          alt={ urldata.hostname }\r\n          style={ {\r\n            marginRight: \"5px\",\r\n            aspectRatio: \"1/1\",\r\n            height: \"100%\",\r\n            minHeight: \"24px\",\r\n          } }\r\n          src={ `https://www.google.com/s2/favicons?${new URLSearchParams({\r\n            size: \"24\",\r\n            domain: urldata.hostname,\r\n          })}` }\r\n        />\r\n        <p style={ { maxWidth: \"90%\" } }>{ decoratedText }</p>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MessageFaviconOrVideoRenderer({\r\n  links,\r\n  mine,\r\n}: {\r\n  links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[];\r\n  mine: boolean;\r\n}) {\r\n  return (\r\n    <>\r\n      { links.map(\r\n        ({\r\n          decoratedHref,\r\n          decoratedText,\r\n          key,\r\n        }: {\r\n          decoratedHref: string;\r\n          decoratedText: string;\r\n          key: number;\r\n        }) => {\r\n          try {\r\n            const url = new URL(decoratedHref, \"http://.\");\r\n            return (\r\n              <React.Fragment key={ key }>\r\n                { videoSites.includes(url.hostname) ? (\r\n                  <ReactPlayer\r\n                    url={ decoratedHref }\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    controls={ true }\r\n                    style={ { aspectRatio: \"16/9\" } }\r\n                  />\r\n                ) : (\r\n                  <MetaPage\r\n                    url={ decoratedHref }\r\n                    decoratedText={ decoratedText }\r\n                    decoratedHref={ decoratedHref }\r\n                    mine={ mine }\r\n                  ></MetaPage>\r\n                ) }\r\n              </React.Fragment>\r\n            );\r\n          } catch {\r\n            return <></>\r\n          }\r\n        }\r\n      ) }\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Message({\r\n  messages,\r\n  i,\r\n  toscroll,\r\n  scrolltobottom,\r\n  user,\r\n  sendJsonMessage,\r\n  deleteFromID,\r\n  editFromID,\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile | giftMessage>;\r\n  i: number;\r\n  toscroll: any;\r\n  user: any;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n}) {\r\n  const message = messages[i].message;\r\n  const messagecharlist = message ? Array.from(message) : undefined;\r\n  const [editing, setediting] = useState(false);\r\n  const [fullyopened, setfullyopened] = useState(false);\r\n  const file = messages[i].file;\r\n  const mimetype = messages[i].mimetype;\r\n  const onlyemojis = message\r\n    ? Array.from(message).length > 3 || !onlyContainsEmojis(message)\r\n    : false;\r\n  const links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[] = [];\r\n  const donekeys: number[] = [];\r\n  const history = useHistory()\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n  const submitref = useRef<any>();\r\n  const longmessage = messagecharlist && messagecharlist.length > 500;\r\n  const messageref = useRef(message);\r\n  return (!messages[i].gift ?\r\n    <>\r\n      <ContextMenuTrigger\r\n        id={ String(messages[i].ID ? messages[i].ID : messages[i].tempid) }\r\n      >\r\n        <div\r\n          data-private\r\n          style={ { opacity: !messages[i].ID ? 0.5 : undefined } }\r\n          className={\r\n            onlyemojis || file\r\n              ? `message message-${messages[i].from === user.id ? \"mine\" : \"yours\"\r\n              } ${!messages[i + 1] ||\r\n                messages[i + 1].from !== messages[i].from ||\r\n                (messages[i + 1] &&\r\n                  messages[i + 1].time - messages[i].time > 300000)\r\n                ? `last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`\r\n                : \"\"\r\n              }`\r\n              : `emojimessage-${messages[i].from === user.id ? \"mine\" : \"yours\"\r\n              }`\r\n          }\r\n        >\r\n          { message ? (\r\n            editing ? (\r\n              <>\r\n                <form\r\n                  onSubmit={ (e: any) => {\r\n                    e.preventDefault();\r\n                    setediting(false);\r\n                    const tempmessage = messageref.current;\r\n                    if (tempmessage === \"\") {\r\n                      sendJsonMessage({ type: \"delete\", id: messages[i].ID });\r\n                      deleteFromID(messages[i].ID);\r\n                    } else if (message !== tempmessage) {\r\n                      sendJsonMessage({\r\n                        type: \"edit\",\r\n                        id: messages[i].ID,\r\n                        message: tempmessage,\r\n                      });\r\n                      editFromID(messages[i].ID, tempmessage);\r\n                    }\r\n                  } }\r\n                >\r\n                  <TextareaAutosize\r\n                    onInput={ (e: any) => {\r\n                      if (key.current === 13 && !shiftkey.current) {\r\n                        submitref.current.click();\r\n                      } else {\r\n                        const message = e.target.value.trim();\r\n                        messageref.current = message;\r\n                      }\r\n                      const messagetoarray: string[] = Array.from(message);\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, 3000)\r\n                        .join(\"\");\r\n                      if (messagetoarray.length <= 3000) {\r\n                        e.target.value = Array.from(e.target.value)\r\n                          .slice(0, 3000)\r\n                          .join(\"\");\r\n                      }\r\n                    } }\r\n                    onKeyDown={ (e: any) => {\r\n                      key.current = e.keyCode;\r\n                      shiftkey.current = e.shiftKey;\r\n                    } }\r\n                    autoFocus\r\n                    style={ {\r\n                      backgroundColor: \"var(--dark-bg-colour)\",\r\n                      padding: \"5px\",\r\n                      borderRadius: \"20px\",\r\n                      border: \"solid 1px var(--light-bg-colour)\",\r\n                      color: \"white\",\r\n                      resize: \"none\",\r\n                      width: \"100%\",\r\n                    } }\r\n                    maxRows={ 10 }\r\n                    placeholder=\"Type Something...\"\r\n                    defaultValue={ message }\r\n                  />\r\n                  <input\r\n                    type=\"submit\"\r\n                    ref={ submitref }\r\n                    style={ { display: \"none\" } }\r\n                  ></input>\r\n                </form>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <p>{ onlyemojis ? (\r\n                  (longmessage && messagecharlist && !fullyopened\r\n                    ? messagecharlist.slice(0, 500).join(\"\")\r\n                    : message\r\n                  )\r\n                    .split(\"```\")\r\n                    .map((value: string, index: number) =>\r\n                      index % 2 === 0 ? (\r\n                        <React.Fragment key={ index }>\r\n                          <Linkify\r\n                            componentDecorator={ (\r\n                              decoratedHref,\r\n                              decoratedText,\r\n                              key\r\n                            ) => {\r\n                              if (!donekeys.includes(key)) {\r\n                                links.push({\r\n                                  decoratedHref,\r\n                                  decoratedText,\r\n                                  key,\r\n                                });\r\n                                donekeys.push(key);\r\n                              }\r\n                              return (\r\n                                <a\r\n                                  target=\"blank\"\r\n                                  href={ decoratedHref }\r\n                                  key={ key }\r\n                                >\r\n                                  { decoratedText }\r\n                                </a>\r\n                              );\r\n                            } }\r\n                          >\r\n                            { value.trim() }\r\n                          </Linkify>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <SyntaxHighlighter key={ index }>\r\n                          { value.trim() }\r\n                        </SyntaxHighlighter>\r\n                      )\r\n                    )\r\n                ) : (\r\n                  <h1 className=\"emojimessage\">{ message }</h1>\r\n                ) }</p>\r\n                { longmessage && !fullyopened ? \"...\" : \"\" }\r\n                { !longmessage || fullyopened ? (\r\n                  <MessageFaviconOrVideoRenderer\r\n                    links={ links }\r\n                    mine={ messages[i].from === user.id }\r\n                  ></MessageFaviconOrVideoRenderer>\r\n                ) : (\r\n                  <></>\r\n                ) }\r\n                { longmessage ? (\r\n                  <p\r\n                    onClick={ () => setfullyopened(!fullyopened) }\r\n                    style={ {\r\n                      color:\r\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\r\n                      fontSize: \"12px\",\r\n                    } }\r\n                  >\r\n                    show { fullyopened ? \"less\" : \"more\" }\r\n                  </p>\r\n                ) : (\r\n                  <></>\r\n                ) }\r\n                { messages[i].edited ? (\r\n                  <p\r\n                    style={ {\r\n                      color:\r\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\r\n                      fontSize: \"10px\",\r\n                      float: \"right\",\r\n                    } }\r\n                  >\r\n                    edited\r\n                  </p>\r\n                ) : (\r\n                  <></>\r\n                ) }\r\n              </>\r\n            )\r\n          ) : file ? (\r\n            <div>\r\n              { mimetype ? (\r\n                mimetype.split(\"/\")[0] === \"image\" ? (\r\n                  <img\r\n                    alt={ file }\r\n                    src={ `/files/${file}` }\r\n                    style={ {\r\n                      maxWidth: \"100%\",\r\n                      maxHeight: \"300px\",\r\n                      borderRadius: \"20px\",\r\n                    } }\r\n                    loading=\"lazy\"\r\n                    onLoad={ () => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    } }\r\n                  ></img>\r\n                ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n                  <video\r\n                    src={ `/files/${file}` }\r\n                    style={ { width: \"100%\", maxHeight: \"300px\" } }\r\n                    controls\r\n                    playsInline\r\n                    onLoad={ () => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    } }\r\n                  ></video>\r\n                ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n                  <audio\r\n                    src={ `/files/${file}` }\r\n                    style={ { width: \"100%\", maxHeight: \"300px\" } }\r\n                    controls\r\n                    playsInline\r\n                    onLoad={ () => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    } }\r\n                  ></audio>\r\n                ) : (\r\n                  <div\r\n                    onClick={ () => {\r\n                      window.open(\r\n                        `/files/${file}`,\r\n                        file,\r\n                        \"width=600,height=400\"\r\n                      );\r\n                    } }\r\n                    style={ {\r\n                      color: \"var(--secondary-text-colour)\",\r\n                      cursor: \"pointer\",\r\n                    } }\r\n                  >\r\n                    <FontAwesomeIcon icon={ faFile }></FontAwesomeIcon> File\r\n                  </div>\r\n                )\r\n              ) : (\r\n                <div\r\n                  onClick={ () => {\r\n                    window.open(`/files/${file}`, file, \"width=600,height=400\");\r\n                  } }\r\n                  style={ {\r\n                    color: \"var(--secondary-text-colour)\",\r\n                    cursor: \"pointer\",\r\n                  } }\r\n                >\r\n                  <FontAwesomeIcon icon={ faFile }></FontAwesomeIcon> File\r\n                </div>\r\n              ) }\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          ) }\r\n        </div>\r\n      </ContextMenuTrigger>\r\n\r\n      <ContextMenu\r\n        id={ String(messages[i].ID ? messages[i].ID : messages[i].tempid) }\r\n      >\r\n        <p style={ { textAlign: \"center\" } }>\r\n          { new Date(messages[i].time).toLocaleString() }\r\n        </p>\r\n        <MenuItem\r\n          onClick={ () => {\r\n            navigator.clipboard.writeText(\r\n              message\r\n                ? message\r\n                : `${window.location.protocol}://${!process.env.NODE_ENV ||\r\n                  process.env.NODE_ENV === \"development\"\r\n                  ? window.location.hostname + \":5000\"\r\n                  : window.location.host\r\n                }/files/${file}`\r\n            );\r\n          } }\r\n        >\r\n          <span>\r\n            <FontAwesomeIcon icon={ faCopy } /> Copy\r\n          </span>\r\n        </MenuItem>\r\n        { messages[i].from === user.id && messages[i].ID ? (\r\n          <>\r\n            <MenuItem\r\n              onClick={ () => {\r\n                sendJsonMessage({ type: \"delete\", id: messages[i].ID });\r\n                deleteFromID(messages[i].ID);\r\n              } }\r\n            >\r\n              <span>\r\n                <FontAwesomeIcon icon={ faTrash } /> Delete\r\n              </span>\r\n            </MenuItem>\r\n            { message ? (\r\n              <MenuItem\r\n                onClick={ () => {\r\n                  setediting(!editing);\r\n                } }\r\n              >\r\n                <span>\r\n                  { editing ? (\r\n                    <>\r\n                      <FontAwesomeIcon icon={ faTimes } /> Cancel Edit\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FontAwesomeIcon icon={ faPencilAlt } /> Edit\r\n                    </>\r\n                  ) }\r\n                </span>\r\n              </MenuItem>\r\n            ) : (\r\n              <></>\r\n            ) }\r\n          </>\r\n        ) : (\r\n          <></>\r\n        ) }\r\n        { longmessage ? (\r\n          <MenuItem\r\n            onClick={ () => {\r\n              setfullyopened(!fullyopened);\r\n            } }\r\n          >\r\n            <span>\r\n              <FontAwesomeIcon\r\n                icon={ fullyopened ? faMinusCircle : faPlusCircle }\r\n              />{ \" \" }\r\n              Show { fullyopened ? \"less\" : \"more\" }\r\n            </span>\r\n          </MenuItem>\r\n        ) : (\r\n          <></>\r\n        ) }\r\n      </ContextMenu>\r\n    </>\r\n    : <><div\r\n      style={ { opacity: !messages[i].ID ? 0.5 : undefined, textAlign: \"center\", } }\r\n      className={ `message message-${messages[i].from === user.id ? \"mine\" : \"yours\"\r\n        } ${!messages[i + 1] ||\r\n          messages[i + 1].from !== messages[i].from ||\r\n          (messages[i + 1] &&\r\n            messages[i + 1].time - messages[i].time > 300000)\r\n          ? `last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`\r\n          : \"\"\r\n        }`\r\n      }\r\n    >\r\n      <h1>GIFT</h1>\r\n      <div style={ {\r\n        width: \"100%\", height: \"1px\",\r\n        backgroundColor: messages[i].from === user.id ? \"var(--light-bg-colour)\" : \"#dadada\", marginBottom: \"1rem\"\r\n      } }></div>\r\n      <h4>Here is a gift of { messages[i].amount } Rocket Fuel</h4>{ message ? <p\r\n        data-private>Message: { message.trim() }</p> : <></> }\r\n      <img src={ GiftIcon } alt=\"\" style={ {\r\n        padding: \"1rem\", margin: \"1rem 0\",\r\n        backgroundColor: messages[i].from === user.id ? \"var(--light-bg-colour)\" : \"#dadada\",\r\n        borderRadius: \"10px\", display: \"block\", width: \"100%\", cursor: messages[i].from === user.id ? \"not-allowed\" : \"pointer\"\r\n      } } onClick={ messages[i].from !== user.id ? () => history.push(\"/blast\") : undefined }></img>\r\n      <b>Click the present to check your Rocket Fuel Balance!</b>\r\n    </div></>);\r\n}\r\n\r\nfunction MessageMaker({\r\n  messages,\r\n  typingdata,\r\n  scrollref,\r\n  toscroll,\r\n  canloadmore,\r\n  loadingmore,\r\n  loadmore,\r\n  chatUpdateID,\r\n  scrolltobottom,\r\n  deleteFromID,\r\n  editFromID,\r\n  sendJsonMessage,\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile | giftMessage>;\r\n  typingdata: {\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  };\r\n  scrollref: React.RefObject<any>;\r\n  toscroll: any;\r\n  canloadmore: boolean;\r\n  loadingmore: boolean;\r\n  loadmore: Function;\r\n  chatUpdateID: number | null;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n}) {\r\n  const { user } = useData();\r\n  const { users } = useContext(usersContext);\r\n  const output = useMemo(() => {\r\n    console.time(\"chatrender\");\r\n    const output = [];\r\n    let lastmessage: messageWithText | messageWithFile | giftMessage | null = null;\r\n    for (let i = 0; i < messages.length; i++) {\r\n      if (\r\n        (!lastmessage && !canloadmore) ||\r\n        (lastmessage && messages[i].time - lastmessage.time > 300000)\r\n      ) {\r\n        output.push(\r\n          <p\r\n            key={ messages[i].time }\r\n            style={ {\r\n              margin: \"0\",\r\n              color: `lightgray`,\r\n              fontSize: \"10px\",\r\n              textAlign: \"center\",\r\n            } }\r\n          >\r\n            { new Date(messages[i].time).toLocaleString() }\r\n          </p>\r\n        );\r\n      }\r\n      if (!lastmessage || messages[i].from !== lastmessage.from) {\r\n        output.push(\r\n          messages[i].from === user.id || users[messages[i].from] ? (\r\n            <div\r\n              data-private\r\n              key={ messages[i].ID + \"topname\" }\r\n              style={ {\r\n                alignSelf:\r\n                  messages[i].from === user.id ? \"flex-end\" : \"flex-start\",\r\n              } }\r\n            >\r\n              { messages[i].from === user.id ? (\r\n                <span style={ { marginRight: \"5px\" } }>{ user.username }</span>\r\n              ) : (\r\n                <></>\r\n              ) }\r\n              <img\r\n                src={ `/files/${messages[i].from === user.id\r\n                  ? user.profilePic\r\n                  : users[messages[i].from].profilePic\r\n                  }` }\r\n                style={ {\r\n                  width: \"25px\",\r\n                  height: \"25px\",\r\n                  margin: \"3px\",\r\n                  borderRadius: \"50%\",\r\n                } }\r\n                alt=\"\"\r\n              />\r\n              { users[messages[i].from] ? (\r\n                <span style={ { marginLeft: \"5px\" } }>\r\n                  { users[messages[i].from].username }\r\n                </span>\r\n              ) : (\r\n                <></>\r\n              ) }\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )\r\n        );\r\n      }\r\n      output.push(\r\n        <Message\r\n          key={ messages[i].ID ? messages[i].ID : messages[i].tempid }\r\n          messages={ messages }\r\n          deleteFromID={ deleteFromID }\r\n          i={ i }\r\n          user={ user }\r\n          toscroll={ toscroll }\r\n          scrolltobottom={ scrolltobottom }\r\n          sendJsonMessage={ sendJsonMessage }\r\n          editFromID={ editFromID }\r\n        ></Message>\r\n      );\r\n      lastmessage = messages[i];\r\n    }\r\n    console.timeEnd(\"chatrender\");\r\n    return output;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messages, canloadmore, loadingmore, chatUpdateID]);\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const location = useLocation();\r\n  const faketext = useMemo(() => {\r\n    let output = [];\r\n    for (let i = 0; i <= typingdata.length; i++) {\r\n      output.push(\r\n        typingdata.specialchars && i - 1 in typingdata.specialchars\r\n          ? typingdata.specialchars[i - 1]\r\n          : numToSSColumn(random(i) * 26)\r\n      );\r\n    }\r\n    return output.join(\"\").toLowerCase();\r\n  }, [typingdata]);\r\n  // const [isMessageMenuOpen, setIsMessageMenuOpen] = useState(false);\r\n  window.onscroll = () => {\r\n    if (location.pathname === `/chat/${chattingto}`) {\r\n      toscroll.current =\r\n        document.documentElement.scrollHeight -\r\n        document.documentElement.scrollTop -\r\n        document.documentElement.clientHeight <=\r\n        200;\r\n      if (canloadmore) {\r\n        if (document.documentElement.scrollTop < 10) {\r\n          loadmore(messages);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={ {\r\n        width: \"100%\",\r\n        height: `100%`,\r\n        overflow: \"overlay\",\r\n      } }\r\n      ref={ scrollref }\r\n    >\r\n      <div\r\n        className=\"chat\"\r\n        style={ {\r\n          margin: `90px auto 3rem auto`,\r\n          maxWidth: \"900px\",\r\n        } }\r\n      >\r\n        { messages.length > 0 ? (\r\n          <>\r\n            { canloadmore && loadingmore ? (\r\n              <Loader key={ \"loader\" }></Loader>\r\n            ) : (\r\n              <></>\r\n            ) }\r\n            { output }\r\n          </>\r\n        ) : (\r\n          <p style={ { color: \"gray\", textAlign: \"center\" } }>\r\n            this chat is empty... say hi!\r\n          </p>\r\n        ) }\r\n        { typingdata.typing ? (\r\n          <div\r\n            className=\"message message-yours last-yours\"\r\n            style={ {\r\n              opacity: 0.5,\r\n              textShadow: \"0 0 7px black\",\r\n              color: \"transparent\",\r\n            } }\r\n          >\r\n            { faketext }\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        ) }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatNotFound() {\r\n  return (\r\n    <div\r\n      style={ {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      } }\r\n    >\r\n      <div style={ { fontSize: \"50px\" } }>\r\n        <FontAwesomeIcon icon={ faSadCry } />\r\n        <FontAwesomeIcon icon={ faCommentSlash } />\r\n      </div>\r\n      <h1>No Chat Found!</h1>\r\n      <p>\r\n        go to{ \" \" }\r\n        <span>\r\n          <Link\r\n            to=\"/contacts\"\r\n            style={ { color: \"var(--secondary-text-colour)\" } }\r\n          >\r\n            contacts\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatPage() {\r\n  const bypassChars: string[] = [\r\n    ...emoji,\r\n    \" \",\r\n    \"?\",\r\n    \"!\",\r\n    \"#\",\r\n    \"$\",\r\n    \"\",\r\n    \"*\",\r\n    '\"',\r\n    \"'\",\r\n    \"(\",\r\n    \")\",\r\n    \":\",\r\n    \";\",\r\n    \"[\",\r\n    \"]\",\r\n    \"{\",\r\n    \"}\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n  ];\r\n  const [chats, setchats] = useState<Array<messageWithText | messageWithFile | giftMessage>>(\r\n    []\r\n  );\r\n  const isFocussed = useWindowVisable();\r\n  const history = useHistory();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const { notifications, user, NotificationAPI } = useData();\r\n\r\n  const { isGroupChat } = useContext(chatSettings);\r\n  const [usersdata, setusersdata] = useState<\r\n    undefined | { exists: boolean; users: { [key: string]: any } }\r\n  >();\r\n  const [groupchatdata /*setgroupchatdata*/] = useState({\r\n    picture: \"\",\r\n    name: \"\",\r\n  });\r\n  const [oldmetypingdata, setoldmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [metypingdata, setmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [socketUrl] = useState(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n      ? window.location.hostname + \":5000\"\r\n      : window.location.host\r\n    }/chat`\r\n  );\r\n  const size = useWindowSize();\r\n  const [typingdata, settypingdata] = useState<{\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  }>({ typing: false, length: 0, specialchars: {} });\r\n  const [isonline, setisonline] = useState(\"0\");\r\n  const metypinglengthref = useRef<number>(0);\r\n  const metypingref = useRef<any>(false);\r\n  const typingTimer = useRef<any>(null);\r\n  const inputref = useRef<any>(null);\r\n  const scrollerref = useRef<any>(null);\r\n  const bottomref = useRef<any>(null);\r\n  const toscroll = useRef(true);\r\n  const [loadingchatmessages, setloadingchatmessages] = useState(true);\r\n  const [canloadmore, setcanloadmore] = useState(true);\r\n  const [loadingmore, setloadingmore] = useState(false);\r\n  const isLoadMore = useRef<boolean>(false);\r\n  const [chatUpdateID, setChatUpdateID] = useState<number | null>(null);\r\n  const [personaltyping] = useLocalStorage(\"Keyboard Typing Sound\", true);\r\n  const [Recipienttyping] = useLocalStorage(\"Recipient Typing Sound\", true);\r\n  const [SendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound] = useLocalStorage(\"Receive Sound\", true);\r\n  const [localchats, setlocalchats] = useLocalStorage<{\r\n    [key: string]: Array<messageWithText | messageWithFile | giftMessage>;\r\n  }>(\"chats\", {});\r\n  const [giftmodel, setgiftmodel] = useState(false)\r\n  async function sendFile(file: any) {\r\n    const id = Math.random();\r\n    notifications.addNotification({\r\n      title: \"File\",\r\n      message: \"Uploading...\",\r\n      type: \"warning\",\r\n      insert: \"top\",\r\n      id,\r\n      container: \"top-right\",\r\n      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n    });\r\n    try {\r\n      const formdata = new FormData();\r\n      formdata.append(\"file\", file);\r\n      const resp = await (\r\n        await fetch(\"/api/uploadfile\", {\r\n          method: \"POST\",\r\n          body: formdata,\r\n        })\r\n      ).json();\r\n      if (resp.resp) {\r\n        notifications.removeNotification(id);\r\n        const time = new Date().getTime();\r\n        const tempid = Math.random();\r\n        sendJsonMessage({\r\n          type: \"file\",\r\n          file: resp.id,\r\n          mimetype: file.type,\r\n          tempid,\r\n        });\r\n        setchats((chats) =>\r\n          chats.concat({\r\n            gift: undefined,\r\n            amount: undefined,\r\n            from: user.id,\r\n            message: undefined,\r\n            mimetype: file.type,\r\n            file: resp.id,\r\n            time,\r\n            tempid,\r\n            edited: false,\r\n          })\r\n        );\r\n        notifications.removeNotification(id);\r\n      } else {\r\n        notifications.removeNotification(id);\r\n        notifications.addNotification({\r\n          title: \"Upload Error\",\r\n          message: resp.err,\r\n          type: \"danger\",\r\n          insert: \"top\",\r\n          container: \"top-right\",\r\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n        });\r\n      }\r\n    } catch (e) {\r\n      notifications.removeNotification(id);\r\n      notifications.addNotification({\r\n        title: \"Upload Error\",\r\n        message: String(e),\r\n        type: \"danger\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n      });\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    ReactGA.event({\r\n      category: \"chat\",\r\n      action: \"open chat\",\r\n      label: `open to ${chattingto}`,\r\n    })\r\n    localStorage.setItem(\"chattingto\", JSON.stringify(chattingto));\r\n    const listenerfunction = function (event: any) {\r\n      const items = (event.clipboardData || event.originalEvent.clipboardData)\r\n        .items;\r\n      for (const index in items) {\r\n        const item = items[index];\r\n        if (item.kind === \"file\") {\r\n          const blob = item.getAsFile();\r\n          console.log(blob);\r\n          sendFile(blob);\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener(\"paste\", listenerfunction);\r\n    return () => {\r\n      window.removeEventListener(\"paste\", listenerfunction);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useEffect(() => {\r\n    if (usersdata) {\r\n      document.title = `${usersdata.users[chattingto].username} - TypeChat`;\r\n    }\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, [chattingto, usersdata]);\r\n  const [oldmessagsize, setoldmessagesize] = useState(chats.length > 0);\r\n  const messagesize = chats.length > 0;\r\n  useEffect(() => {\r\n    if (messagesize !== oldmessagsize) {\r\n      scrolltobottom();\r\n      setoldmessagesize(messagesize);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messagesize]);\r\n  const doneTypingInterval = 5000;\r\n  const StartMessagesLength = Math.ceil(size.height / 40 + 5);\r\n  function doneTyping() {\r\n    if (metypingref.current) {\r\n      metypingref.current = false;\r\n      setmetypingdata({\r\n        type: \"typing\",\r\n        typing: false,\r\n        length: 0,\r\n        specialchars: {},\r\n      });\r\n    }\r\n  }\r\n  function deleteFromID(id: string) {\r\n    for (let i = 0; i <= chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats.splice(i, 1);\r\n        setchats(chats);\r\n        setChatUpdateID(Math.random());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  function editFromID(id: string, message: string) {\r\n    for (let i = 0; i <= chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats[i].message = message;\r\n        chats[i].edited = true;\r\n        setchats(chats);\r\n        setChatUpdateID(Math.random());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  const { sendJsonMessage, lastJsonMessage, readyState } = useWebSocket(\r\n    socketUrl,\r\n    {\r\n      shouldReconnect: () => true,\r\n      reconnectInterval: 1,\r\n    }\r\n  );\r\n  const scrolltobottom = () => {\r\n    const scrollingElement = document.scrollingElement || document.body;\r\n    if (window.innerHeight + window.scrollY < document.body.offsetHeight) {\r\n      scrollingElement.scrollTo(0, scrollingElement.scrollHeight);\r\n    }\r\n  };\r\n  const fileref = useRef<HTMLInputElement>(null);\r\n  const submitref = useRef<any>(null);\r\n  const formref = useRef<any>(null);\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"message\") {\r\n        if (lastJsonMessage.message.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/newmessage.mp3\");\r\n        }\r\n        setchats((chats) => chats.concat(lastJsonMessage.message));\r\n\r\n        settypingdata({\r\n          typing: false,\r\n          length: 0,\r\n          specialchars: {},\r\n        });\r\n        if (usersdata) {\r\n          if (toscroll.current) {\r\n            setcanloadmore(true);\r\n            isLoadMore.current = false;\r\n            setloadingchatmessages(false);\r\n            setchats((chats) =>\r\n              chats.slice(Math.max(chats.length - StartMessagesLength, 0))\r\n            );\r\n            setTimeout(scrolltobottom, 0);\r\n            if (\r\n              lastJsonMessage.message.from !== user.id &&\r\n              !isFocussed &&\r\n              isElectron()\r\n            ) {\r\n              notify(\r\n                `${usersdata.users[lastJsonMessage.message.from].username}`,\r\n                lastJsonMessage.message.message,\r\n                () => {\r\n                  history.push(`/chat/${chattingto}`);\r\n                  scrolltobottom();\r\n                }\r\n              );\r\n            }\r\n          } else if (lastJsonMessage.message.from !== user.id) {\r\n            NotificationAPI(\r\n              {\r\n                title: `${usersdata.users[lastJsonMessage.message.from].username\r\n                  }`,\r\n                message: lastJsonMessage.message.message\r\n                  ? truncate(lastJsonMessage.message.message, 25)\r\n                  : \"file\",\r\n                type: \"default\",\r\n                onRemoval: (_: number, type: string) => {\r\n                  if (type === \"click\") {\r\n                    history.push(`/chat/${chattingto}`);\r\n                    scrolltobottom();\r\n                  }\r\n                },\r\n                insert: \"top\",\r\n                container: \"top-right\",\r\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                dismiss: {\r\n                  pauseOnHover: true,\r\n                  duration: 5000,\r\n                  onScreen: true,\r\n                },\r\n              },\r\n              () => {\r\n                history.push(`/chat/${chattingto}`);\r\n                scrolltobottom();\r\n              }\r\n            );\r\n          }\r\n        }\r\n      } else if (lastJsonMessage.type === \"delete\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/delete.mp3\");\r\n        }\r\n        deleteFromID(lastJsonMessage.id);\r\n      } else if (lastJsonMessage.type === \"edit\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/edit.mp3\");\r\n        }\r\n        editFromID(lastJsonMessage.id, lastJsonMessage.message);\r\n      } else if (lastJsonMessage.type === \"start\") {\r\n        setcanloadmore(false);\r\n        isLoadMore.current = true;\r\n        setloadingchatmessages(true);\r\n        sendJsonMessage({\r\n          type: \"start\",\r\n          to: chattingto,\r\n          limit: StartMessagesLength,\r\n          mobile:\r\n            /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n              navigator.userAgent\r\n            ),\r\n        });\r\n      } else if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else if (lastJsonMessage.type === \"sent\") {\r\n        for (const message of chats) {\r\n          if (message.tempid === lastJsonMessage.tempid) {\r\n            delete message.tempid;\r\n            message.ID = lastJsonMessage.id;\r\n          }\r\n        }\r\n        setChatUpdateID(Math.random());\r\n        setchats(chats);\r\n      } else if (lastJsonMessage.type === \"online\") {\r\n        if (!lastJsonMessage.online && (isonline === \"M\" || isonline === \"1\")) {\r\n          playSound(\"/sounds/leave.mp3\");\r\n        } else if (lastJsonMessage.online && isonline === \"0\") {\r\n          playSound(\"/sounds/join.mp3\");\r\n        }\r\n        setisonline(\r\n          lastJsonMessage.online ? (lastJsonMessage.mobile ? \"M\" : \"1\") : \"0\"\r\n        );\r\n      } else if (lastJsonMessage.type === \"typing\") {\r\n        if (Recipienttyping) {\r\n          if (lastJsonMessage.length > typingdata.length) {\r\n            playSound(`/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`);\r\n          } else if (lastJsonMessage.length < typingdata.length) {\r\n            playSound(`/sounds/click3.mp3`);\r\n          }\r\n        }\r\n        if (toscroll.current) {\r\n          setTimeout(scrolltobottom, 0);\r\n        }\r\n        settypingdata({\r\n          typing: lastJsonMessage.typing,\r\n          length: lastJsonMessage.length,\r\n          specialchars: lastJsonMessage.specialchars,\r\n        });\r\n      } else if (lastJsonMessage.type === \"setmessages\") {\r\n        setchats(lastJsonMessage.messages);\r\n        setusersdata({ exists: true, users: lastJsonMessage.users });\r\n        setcanloadmore(true);\r\n        isLoadMore.current = false;\r\n        setloadingchatmessages(false);\r\n      } else if (lastJsonMessage.type === \"prependmessages\") {\r\n        setchats([...lastJsonMessage.messages, ...chats]);\r\n        if (lastJsonMessage.messages.length > 0) {\r\n          const lastheight = document.documentElement.offsetHeight;\r\n          setTimeout(() => {\r\n            document.documentElement.scrollTop =\r\n              document.documentElement.scrollHeight - lastheight;\r\n            isLoadMore.current = false;\r\n\r\n            setloadingmore(false);\r\n          }, 0);\r\n        }\r\n        setcanloadmore(lastJsonMessage.messages.length > 0);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  useEffect(() => {\r\n    if (\r\n      /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n    ) {\r\n      sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (JSON.stringify(oldmetypingdata) !== JSON.stringify(metypingdata)) {\r\n      sendJsonMessage(metypingdata);\r\n      setoldmetypingdata(metypingdata);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [metypingdata]);\r\n  window.onload = () => setTimeout(scrolltobottom, 0);\r\n  useEffect(() => {\r\n    setTimeout(scrolltobottom, 0);\r\n  }, [usersdata, readyState]);\r\n  useEffect(() => {\r\n    if (toscroll.current) {\r\n      setTimeout(scrolltobottom, 0);\r\n    }\r\n    if (!loadingchatmessages) {\r\n      localchats[chattingto] = chats.slice(\r\n        Math.max(chats.length - StartMessagesLength, 0)\r\n      );\r\n      setlocalchats(localchats);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chats, chatUpdateID]);\r\n  useEffect(() => {\r\n    if (usersdata && !usersdata.exists) {\r\n      setloadingchatmessages(false);\r\n    }\r\n  }, [usersdata]);\r\n  const loadmore = () => {\r\n    if (!isLoadMore.current) {\r\n      isLoadMore.current = true;\r\n      setloadingmore(true);\r\n      sendJsonMessage({\r\n        type: \"getmessages\",\r\n        start: chats.length,\r\n        max: 50,\r\n      });\r\n    }\r\n  };\r\n  if (\r\n    (!usersdata ||\r\n      (readyState !== ReadyState.OPEN &&\r\n        readyState !== ReadyState.UNINSTANTIATED) ||\r\n      loadingchatmessages) &&\r\n    !localchats[chattingto]\r\n  ) {\r\n    return <Loader />;\r\n  } else if (!localchats[chattingto] || (usersdata && !usersdata.exists)) {\r\n    return <ChatNotFound></ChatNotFound>;\r\n  }\r\n  return (\r\n    <usersContext.Provider\r\n      value={ usersdata ? usersdata : { exists: false, users: {} } }\r\n    >\r\n      <div>\r\n        <div>\r\n          <div\r\n            style={ {\r\n              position: \"fixed\",\r\n              width: \"100%\",\r\n              height: \"90px\",\r\n              padding: \"10px\",\r\n              zIndex: 10,\r\n              background:\r\n                \"linear-gradient(0deg, transparent, var(--dark-mode))\",\r\n            } }\r\n          >\r\n            { usersdata && readyState === ReadyState.OPEN ? (\r\n              <>\r\n                { \" \" }\r\n                <img\r\n                  src={\r\n                    \"/files/\" +\r\n                    String(\r\n                      isGroupChat\r\n                        ? groupchatdata.picture\r\n                        : usersdata.users[chattingto].profilePic\r\n                    )\r\n                  }\r\n                  data-private\r\n                  style={ {\r\n                    display: \"block\",\r\n                    height: \"65%\",\r\n                    margin: \"auto\",\r\n                    borderRadius: \"100%\", aspectRatio: \"1/1\",\r\n                  } }\r\n                  alt={ usersdata.users[chattingto].username }\r\n                />\r\n                <p style={ { textAlign: \"center\" } }\r\n                  data-private>\r\n                  { usersdata.users[chattingto].username }{ \" \" }\r\n                  <FontAwesomeIcon\r\n                    style={ {\r\n                      color:\r\n                        isonline === \"0\" ? \"var(--offline)\" : \"var(--online)\",\r\n                    } }\r\n                    icon={\r\n                      isonline === \"1\"\r\n                        ? faDesktop\r\n                        : isonline === \"M\"\r\n                          ? faMobileAlt\r\n                          : faEyeSlash\r\n                    }\r\n                  ></FontAwesomeIcon>\r\n                </p>\r\n                <div\r\n                  data-private><Badge badges={ usersdata.users[chattingto].badges }\r\n                    size=\"20px\"></Badge></div>\r\n              </>\r\n            ) : (\r\n              <p style={ { margin: \"1rem\", textAlign: \"center\" } }>\r\n                { ReadyState[readyState] }\r\n              </p>\r\n            ) }\r\n          </div>\r\n          <KeyboardEventHandler\r\n            handleKeys={ [\"alphanumeric\", \"space\", \"shift\", \"cap\"] }\r\n            onKeyEvent={ () => {\r\n              key.current = null\r\n              inputref.current.focus();\r\n            } }\r\n          />\r\n          <MessageMaker\r\n            deleteFromID={ deleteFromID }\r\n            editFromID={ editFromID }\r\n            scrolltobottom={ scrolltobottom }\r\n            scrollref={ scrollerref }\r\n            messages={ loadingchatmessages ? localchats[chattingto] : chats }\r\n            typingdata={ typingdata }\r\n            toscroll={ toscroll }\r\n            canloadmore={ canloadmore && readyState === ReadyState.OPEN }\r\n            loadingmore={ loadingmore }\r\n            loadmore={ loadmore }\r\n            chatUpdateID={ chatUpdateID }\r\n            sendJsonMessage={ sendJsonMessage }\r\n          />\r\n          <div ref={ bottomref }></div>\r\n          <div\r\n            style={ {\r\n              position: \"fixed\",\r\n              padding: \"1rem\",\r\n              width: \"100%\",\r\n              bottom: \"0px\",\r\n              background:\r\n                \"linear-gradient(180deg, transparent, var(--dark-mode))\",\r\n              display: \"flex\",\r\n            } }\r\n          >\r\n            <div\r\n              style={ {\r\n                margin: \"auto\",\r\n                width: \"100%\",\r\n                maxWidth: \"800px\",\r\n                display: \"flex\",\r\n              } }\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                style={ { display: \"none\" } }\r\n                ref={ fileref }\r\n                onInput={ async (e: any) => {\r\n                  if (e.target.files.length > 0) {\r\n                    const file = e.target.files[0];\r\n                    e.target.value = \"\";\r\n                    sendFile(file);\r\n                  }\r\n                } }\r\n              />\r\n\r\n              <button\r\n                style={ {\r\n                  width: \"45px\",\r\n                  marginRight: \"5px\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  textAlign: \"center\",\r\n                } }\r\n                onClick={ () => {\r\n                  if (fileref.current) fileref.current.click();\r\n                } }\r\n              >\r\n                <FontAwesomeIcon icon={ faPlus } />\r\n              </button>\r\n              <ReactModal isOpen={ giftmodel } style={ {\r\n                overlay: {\r\n                  backgroundColor: \"rgb(18 18 18 / 50%)\",\r\n                  zIndex: 10,\r\n                },\r\n                content: {\r\n                  backgroundColor: \"var(--dark-mode)\",\r\n                  border: \"1px solid var(--dark-bg-colour)\",\r\n                  borderRadius: \"10px\",\r\n                  padding: \"1rem\",\r\n                  zIndex: 11,\r\n                  top: \"50%\",\r\n                  left: \"50%\",\r\n                  right: \"auto\",\r\n                  bottom: \"auto\",\r\n                  marginRight: \"-50%\",\r\n                  transform: \"translate(-50%, -50%)\",\r\n                  width: \"75%\",\r\n                  maxWidth: \"750px\",\r\n                  textAlign: \"center\",\r\n                  maxHeight: \"500px\",\r\n                },\r\n              } }\r\n                onRequestClose={ () => setgiftmodel(false) }>\r\n                <FontAwesomeIcon\r\n                  icon={ faTimes }\r\n                  onClick={ () => setgiftmodel(false) }\r\n                  style={ {\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"30px\",\r\n                    float: \"right\",\r\n                  } }\r\n                /><h1>Gift Rocket Fuel</h1>\r\n                <div style={ { height: \"1px\", width: \"100%\", background: \"var(--dark-bg-colour)\", margin: \"0 0 1rem 0\" } } />\r\n                <form onSubmit={ (e: any) => {\r\n                  e.preventDefault(); ReactGA.event({\r\n                    category: \"chat\",\r\n                    action: \"sent gift\",\r\n                    label: `send gift to ${chattingto}`,\r\n                  }); console.log(e);\r\n                  const message = e.target[1].value.trim()\r\n                  const tempid = Math.random();\r\n                  const time = new Date().getTime();\r\n                  sendJsonMessage({\r\n                    type: \"gift\",\r\n                    amount: e.target[0].value,\r\n                    message: message,\r\n                    tempid,\r\n                  });\r\n                  setchats(\r\n                    chats\r\n                      .slice(Math.max(chats.length - StartMessagesLength, 0))\r\n                      .concat({\r\n                        from: user.id,\r\n                        gift: true,\r\n                        amount: e.target[0].value,\r\n                        file: undefined,\r\n                        mimetype: undefined,\r\n                        message: message,\r\n                        time,\r\n                        tempid,\r\n                        edited: false,\r\n                      })\r\n                  );\r\n                  setgiftmodel(false)\r\n                } }>\r\n\r\n                  <div\r\n                    style={ {\r\n                      display: \"grid\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      alignContent: \"space-evenly\",\r\n                      marginBottom: \"1rem\"\r\n                    } }\r\n                  >\r\n                    <label htmlFor=\"RF\">\r\n                      How much Rocket Fuel do you want to gift? (max { user.rocketFuel })\r\n                    </label>\r\n                    <input\r\n                      id=\"RF\"\r\n                      type=\"number\"\r\n                      min={ \"1\" }\r\n                      max={ user.rocketFuel }\r\n                      defaultValue=\"1\"\r\n                      onBlur={ (e: any) => {\r\n                        e.target.value = Math.floor(\r\n                          e.target.value > user.rocketFuel\r\n                            ? user.rocketFuel\r\n                            : e.target.value < 1\r\n                              ? 1\r\n                              : e.target.value);\r\n                      } }\r\n                    ></input></div>\r\n\r\n                  <TextareaAutosize\r\n                    data-private=\"lipsum\" onInput={ (e: any) => {\r\n                      const message = e.target.value.trim();\r\n                      const messagetoarray: string[] = Array.from(message);\r\n                      const maxlength = 3000 + (250 * (user.blast ? user.blast : 0))\r\n                      if (\r\n                        messagetoarray.length <= maxlength &&\r\n                        !(key.current === 13 && !shiftkey.current)\r\n                      ) {\r\n                        if (personaltyping) {\r\n                          playSound(\r\n                            `/sounds/click${Math.floor(\r\n                              Math.random() * 3 + 1\r\n                            )}.mp3`\r\n                          );\r\n                        }\r\n                        metypinglengthref.current = messagetoarray.length;\r\n                        if (metypinglengthref.current > 0) {\r\n                          metypingref.current = true;\r\n                          const specialchars: { [key: string]: any } = {};\r\n                          for (let i = 0; i < messagetoarray.length; i++) {\r\n                            if (bypassChars.includes(messagetoarray[i])) {\r\n                              specialchars[i] = messagetoarray[i];\r\n                            }\r\n                          }\r\n                          setmetypingdata({\r\n                            type: \"typing\",\r\n                            typing: metypingref.current,\r\n                            length: metypinglengthref.current,\r\n                            specialchars,\r\n                          });\r\n                          clearTimeout(typingTimer.current);\r\n                          typingTimer.current = setTimeout(\r\n                            doneTyping,\r\n                            doneTypingInterval\r\n                          );\r\n                        } else {\r\n                          metypingref.current = false;\r\n                          setmetypingdata({\r\n                            type: \"typing\",\r\n                            typing: false,\r\n                            length: 0,\r\n                            specialchars: {},\r\n                          });\r\n                        }\r\n                      } else {\r\n                        e.target.value = Array.from(e.target.value)\r\n                          .slice(0, maxlength)\r\n                          .join(\"\");\r\n                      }\r\n                    } }\r\n                    onKeyDown={ (e: any) => {\r\n                      key.current = e.keyCode;\r\n                      shiftkey.current = e.shiftKey;\r\n                      clearTimeout(typingTimer.current);\r\n                    } }\r\n                    autoFocus\r\n                    style={ {\r\n                      backgroundColor: \"var(--dark-bg-colour)\",\r\n                      padding: \"5px\",\r\n                      borderRadius: \"20px\",\r\n                      width: \"calc(100% - 65px)\",\r\n                      border: \"solid 1px var(--light-bg-colour)\",\r\n                      color: \"white\",\r\n                      resize: \"none\",\r\n                    } }\r\n                    maxRows={ 10 }\r\n                    placeholder=\"Add A Message...\"\r\n                  />\r\n                  <button\r\n                    className=\"btnMain\"\r\n                    onPointerDown={ () => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    } }\r\n                    onPointerUp={ () => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    } }\r\n                    style={ { border: \"none\", background: \"transparent\", padding: \"0\" } }\r\n                  >\r\n                    <div className=\"btnBox\">GIFT{ \" \" }\r\n                      <img\r\n                        src={ GiftIcon }\r\n                        height=\"30px\"\r\n                        alt=\"\"\r\n                        className=\"icon\"\r\n                      /></div>\r\n                    <div className=\"btnBottom\"></div>\r\n                  </button>\r\n                </form>\r\n              </ReactModal>\r\n              <button\r\n                style={ {\r\n                  width: \"45px\",\r\n                  marginRight: \"5px\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  textAlign: \"center\",\r\n                  opacity: (usersdata && usersdata.users[chattingto].id !== \"TypeChat\") ? 1 : 0.5\r\n                } }\r\n                disabled={ !(usersdata && usersdata.users[chattingto].id !== \"TypeChat\") }\r\n                onClick={ (usersdata && usersdata.users[chattingto].id !== \"TypeChat\") ? () => {\r\n                  if (user.rocketFuel > 0) {\r\n                    setgiftmodel(true)\r\n                  } else {\r\n                    history.push(\"/blast\")\r\n                  }\r\n                } : undefined }\r\n              >\r\n                <FontAwesomeIcon icon={ faGift } />\r\n              </button>\r\n              <form\r\n                onSubmit={ (e: any) => {\r\n                  e.preventDefault();\r\n                  const message = e.target[0].value.trim();\r\n                  if (message !== \"\") {\r\n                    e.target[0].value = \"\";\r\n                    const time = new Date().getTime();\r\n                    if (SendSound) {\r\n                      playSound(\"/sounds/send.mp3\");\r\n                    }\r\n                    const tempid = Math.random();\r\n                    sendJsonMessage({\r\n                      type: \"message\",\r\n                      message,\r\n                      tempid,\r\n                    });\r\n                    setcanloadmore(true);\r\n                    isLoadMore.current = false;\r\n                    setloadingchatmessages(false);\r\n                    setchats(\r\n                      chats\r\n                        .slice(Math.max(chats.length - StartMessagesLength, 0))\r\n                        .concat({\r\n                          gift: undefined,\r\n                          amount: undefined,\r\n                          from: user.id,\r\n                          file: undefined,\r\n                          mimetype: undefined,\r\n                          message,\r\n                          time,\r\n                          tempid,\r\n                          edited: false,\r\n                        })\r\n                    );\r\n                    setTimeout(scrolltobottom, 0);\r\n                    metypingref.current = false;\r\n                    setmetypingdata({\r\n                      type: \"typing\",\r\n                      typing: metypingref.current,\r\n                      length: 0,\r\n                      specialchars: {},\r\n                    });\r\n                  }\r\n                } }\r\n                ref={ formref }\r\n                style={ {\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                } }\r\n              >\r\n                <TextareaAutosize\r\n                  data-private=\"lipsum\"\r\n                  ref={ inputref }\r\n                  onInput={ (e: any) => {\r\n                    if (key.current === 13 && !shiftkey.current) {\r\n                      submitref.current.click();\r\n                      inputref.current.value = \"\";\r\n                    }\r\n                    const message = e.target.value.trim();\r\n                    const messagetoarray: string[] = Array.from(message);\r\n                    const maxlength = 3000 + (1000 * (user.blast ? user.blast : 0))\r\n                    if (\r\n                      messagetoarray.length <= maxlength &&\r\n                      !(key.current === 13 && !shiftkey.current)\r\n                    ) {\r\n                      if (personaltyping) {\r\n                        playSound(\r\n                          `/sounds/click${Math.floor(\r\n                            Math.random() * 3 + 1\r\n                          )}.mp3`\r\n                        );\r\n                      }\r\n                      metypinglengthref.current = messagetoarray.length;\r\n                      if (metypinglengthref.current > 0) {\r\n                        metypingref.current = true;\r\n                        const specialchars: { [key: string]: any } = {};\r\n                        for (let i = 0; i < messagetoarray.length; i++) {\r\n                          if (bypassChars.includes(messagetoarray[i])) {\r\n                            specialchars[i] = messagetoarray[i];\r\n                          }\r\n                        }\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: metypingref.current,\r\n                          length: metypinglengthref.current,\r\n                          specialchars,\r\n                        });\r\n                        clearTimeout(typingTimer.current);\r\n                        typingTimer.current = setTimeout(\r\n                          doneTyping,\r\n                          doneTypingInterval\r\n                        );\r\n                      } else {\r\n                        metypingref.current = false;\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: false,\r\n                          length: 0,\r\n                          specialchars: {},\r\n                        });\r\n                      }\r\n                    } else {\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, maxlength)\r\n                        .join(\"\");\r\n                    }\r\n                  } }\r\n                  onKeyDown={ (e: any) => {\r\n                    key.current = e.keyCode;\r\n                    shiftkey.current = e.shiftKey;\r\n                    clearTimeout(typingTimer.current);\r\n                  } }\r\n                  autoFocus\r\n                  style={ {\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    width: \"calc(100% - 65px)\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    resize: \"none\",\r\n                  } }\r\n                  maxRows={ 10 }\r\n                  placeholder=\"Type Something...\"\r\n                />\r\n                <button\r\n                  ref={ submitref }\r\n                  style={ {\r\n                    width: \"60px\",\r\n                    marginLeft: \"5px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    textAlign: \"center\",\r\n                  } }\r\n                  type=\"submit\"\r\n                  onClick={ () => {\r\n                    inputref.current.focus();\r\n                    ReactGA.event({\r\n                      category: \"chat\",\r\n                      action: \"send message\",\r\n                      label: `send message to ${chattingto}`,\r\n                    });\r\n                  } }\r\n                >\r\n                  <FontAwesomeIcon icon={ faPaperPlane } />\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </usersContext.Provider >\r\n  );\r\n}\r\n\r\nfunction Chat({ isGroupChat }: { isGroupChat: boolean }) {\r\n  const { loggedin, user } = useData();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const time = useMemo(() => new Date().getTime(), []);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  } else if (chattingto && chattingto !== user.id) {\r\n    return (\r\n      <chatSettings.Provider value={ { isGroupChat, time } }>\r\n        <ChatPage />\r\n      </chatSettings.Provider>\r\n    );\r\n  }\r\n  return <ChatNotFound></ChatNotFound>;\r\n}\r\n\r\nexport default Chat;\r\n","import { faFileCode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Error404() {\r\n  useEffect(() => {\r\n    document.title = `404 - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={ {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      } }\r\n    >\r\n      <div style={ { fontSize: \"50px\" } }>\r\n        <FontAwesomeIcon icon={ faFileCode } />\r\n      </div>\r\n      <h1>Page Not Found!</h1>\r\n      <p>\r\n        go to the{ \" \" }\r\n        <span>\r\n          <Link to=\"/\" style={ { color: \"var(--secondary-text-colour)\" } }>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error404;\r\n","import { SecureLink } from \"react-secure-link\";\r\nimport Linkify from \"react-linkify\";\r\nimport { useState } from \"react\";\r\nimport ColorThief from \"colorthief\";\r\nimport Badge from \"./badges\";\r\n\r\nfunction ProfilePage({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    badges: { name: string }[];\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  return (\r\n    <div\r\n      style={ {\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : undefined,\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"cover\",\r\n        borderRadius: \"10px\",\r\n        border: `solid 3px rgb(${backgroundcolour.r + 25}, ${backgroundcolour.g + 25\r\n          }, ${backgroundcolour.b + 25})`,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        backgroundPosition: \"center\",\r\n      } }\r\n    >\r\n      <div\r\n        style={ {\r\n          textAlign: \"center\",\r\n        } }\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          src={ \"/files/\" + user.profilePic }\r\n          style={ {\r\n            maxHeight: \"75px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          } }\r\n          onLoad={ (e: any) => {\r\n            const colorThief = new ColorThief();\r\n            const resp = colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          } }\r\n        />\r\n        <h4>\r\n          <span\r\n            style={ {\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n            } }\r\n          >\r\n            { user.username }\r\n            <span\r\n              style={ {\r\n                color: \"lightgray\",\r\n                fontWeight: \"normal\",\r\n              } }\r\n            >\r\n              #{ user.tag }\r\n            </span>\r\n          </span>\r\n        </h4>\r\n      </div>\r\n      { user.aboutme ? (\r\n        <div\r\n          style={ {\r\n            padding: \"1rem\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n          } }\r\n        >\r\n          <b>About Me</b>\r\n          <div>\r\n            <Linkify\r\n              componentDecorator={ (\r\n                decoratedHref: string,\r\n                decoratedText: string,\r\n                key: any\r\n              ) => (\r\n                <SecureLink\r\n                  href={ decoratedHref }\r\n                  key={ key }\r\n                  style={ { color: \"var(--secondary-text-colour)\" } }\r\n                >\r\n                  { decoratedText }\r\n                </SecureLink>\r\n              ) }\r\n            >\r\n              { user.aboutme }\r\n            </Linkify>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      ) }\r\n      <Badge badges={ user.badges } />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","function humanFileSize(bytes: number, si: boolean = false, dp: number = 1) {\r\n    const thresh = si ? 1000 : 1024;\r\n\r\n    if (Math.abs(bytes) < thresh) {\r\n        return bytes + ' B';\r\n    }\r\n\r\n    const units = si\r\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n    let u = -1;\r\n    const r = 10 ** dp;\r\n\r\n    do {\r\n        bytes /= thresh;\r\n        ++u;\r\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\r\n\r\n\r\n    return bytes.toFixed(dp) + ' ' + units[u];\r\n}\r\nexport default humanFileSize  ","import { useMemo, useState } from \"react\"\r\nimport { useData } from \"../hooks/datahook\"\r\n\r\nfunction Background() {\r\n    const { user } = useData()\r\n    return false ? <div style={ {\r\n        backgroundImage: `url(/files/${user.backgroundImage})`,\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        position: \"fixed\",\r\n        zIndex: -\"100\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"center\",\r\n    } } /> : <></>\r\n}\r\n\r\nexport default Background","import { Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./css/usersettings.css\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport { useState, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport humanFileSize from \"../bytesToHumanReadable\";\r\nimport Background from \"./CustomBackground\";\r\n\r\nfunction ReactTimeago({ date }: { date: number }) {\r\n  const days = Math.floor(date / (1000 * 60 * 60 * 24));\r\n  const hours = Math.floor((date % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  const minutes = Math.floor((date % (1000 * 60 * 60)) / (1000 * 60));\r\n  const seconds = Math.floor((date % (1000 * 60)) / 1000);\r\n\r\n  return (\r\n    <p>{ days + \"d \" + hours + \"h \" + minutes + \"m \" + seconds + \"s\" } left</p>\r\n  );\r\n}\r\n\r\nfunction Changebutton({\r\n  name,\r\n  children,\r\n  onClick = () => { },\r\n  clickable,\r\n}: {\r\n  name: string;\r\n  children: any;\r\n  onClick?: (e: any) => void;\r\n  clickable: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      style={ {\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"1rem\",\r\n        margin: \"1rem\",\r\n      } }\r\n    >\r\n      <p style={ { margin: \"0\", color: \"lightgray\" } }>{ name }</p>\r\n      { clickable ? (\r\n        <div\r\n          onClick={ onClick }\r\n          className={ \"changebutton\" }\r\n          style={ { color: \"white\" } }\r\n        >\r\n          { children }\r\n        </div>\r\n      ) : (\r\n        <div>{ children }</div>\r\n      ) }\r\n    </div>\r\n  );\r\n}\r\nModal.setAppElement(\"#app\");\r\nfunction UserSettings() {\r\n  const { loggedin, user, rechecklogged } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const backgroundinputref = useRef<any>(null);\r\n  const {\r\n    data: uploadlimitdata,\r\n    loading: uploadlimitloading,\r\n    error: uploadlimiterror,\r\n  } = useApi<{ filelimit: number; limitused: number; timeleft: number }>(\r\n    \"/api/uploadlimit\"\r\n  );\r\n  const [uploading, setuploading] = useState(false);\r\n  const [backgroundImage, setbackgroundImage] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const [UsernameModelIsOpen, setUsernameModelIsOpen] = useState(false);\r\n  const [ProfileModelIsOpen, setProfileModelIsOpen] = useState(false);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <div\r\n      style={ {\r\n        margin: \"1rem\",\r\n      } }\r\n    >\r\n      <div\r\n        style={ {\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        } }\r\n      ><Background />\r\n        <h1 style={ { textAlign: \"center\" } }>User Settings</h1>\r\n        <ProfilePage user={ user } />\r\n        <Changebutton name=\"Upload Limit\" clickable={ false }>\r\n          { uploadlimitloading || uploadlimiterror ? (\r\n            \"loading\"\r\n          ) : (\r\n            <>\r\n              <p>\r\n                { humanFileSize(Number(uploadlimitdata?.limitused), true) } /{ \" \" }\r\n                { humanFileSize(Number(uploadlimitdata?.filelimit), true, 0) } (\r\n                { humanFileSize(\r\n                  Number(uploadlimitdata?.filelimit) -\r\n                  Number(uploadlimitdata?.limitused),\r\n                  true\r\n                ) }{ \" \" }\r\n                left)\r\n              </p>\r\n              <ReactTimeago date={ Number(uploadlimitdata?.timeleft) } />\r\n            </>\r\n          ) }\r\n        </Changebutton>\r\n        <div style={ { textAlign: \"center\" } }>EDIT</div>\r\n        <button\r\n          style={ {\r\n            color: \"white\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            border: \"solid 2px var(--light-bg-colour)\",\r\n            borderRadius: \"5px\",\r\n            margin: \"0 1rem\",\r\n          } }\r\n          onClick={ () => {\r\n            rechecklogged();\r\n          } }\r\n        >\r\n          update\r\n        </button>\r\n        <Changebutton\r\n          name=\"Profile Picture\"\r\n          onClick={ () => {\r\n            setProfileModelIsOpen(true);\r\n          } }\r\n          clickable={ true }\r\n        >\r\n          <img\r\n            alt=\"profile\"\r\n            src={ \"/files/\" + user.profilePic }\r\n            style={ {\r\n              height: \"75px\",\r\n              margin: \"0 1rem 0 0\",\r\n              borderRadius: \"50%\",\r\n            } }\r\n          />\r\n          <FontAwesomeIcon icon={ faPen } />\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={ ProfileModelIsOpen }\r\n          onRequestClose={ () => {\r\n            setProfileModelIsOpen(false);\r\n          } }\r\n          onAfterOpen={ () => {\r\n            seterror(\"\");\r\n          } }\r\n          style={ {\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          } }\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={ async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (profile) {\r\n                const fd = new FormData();\r\n                fd.append(\"profilepic\", profile);\r\n                const resp = await (\r\n                  await fetch(\"/api/setprofilepic\", {\r\n                    method: \"POST\",\r\n                    body: fd,\r\n                  })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setProfileModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a profile picture!\");\r\n              }\r\n              setuploading(false);\r\n            } }\r\n          >\r\n            PROFILE PICTURE\r\n            <Avatar\r\n              width={ 300 }\r\n              height={ 0 }\r\n              imageWidth={ 300 }\r\n              onCrop={ (dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              } }\r\n              labelStyle={ { color: \"white\" } }\r\n              onClose={ () => {\r\n                setprofile(null);\r\n              } }\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={ 500 }\r\n              exportQuality={ 0.75 }\r\n              exportAsSquare\r\n            />\r\n            <p style={ { color: \"red\" } }>{ error }</p>\r\n            { !uploading ? (\r\n              <button\r\n                style={ {\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                } }\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            ) }\r\n          </form>\r\n        </Modal>\r\n        { user.blast > 0 ?\r\n          <Changebutton name=\"Profile Background Image\" clickable={ false }>\r\n            <RouterForm\r\n              action=\"/api/setbackgroundimage\"\r\n              beforecallback={ (e: any) => {\r\n                setuploading(true);\r\n                return true;\r\n              } }\r\n              callback={ () => {\r\n                if (backgroundinputref.current) {\r\n                  backgroundinputref.current.value = \"\";\r\n                  setbackgroundImage(undefined);\r\n                }\r\n                setuploading(false);\r\n              } }\r\n            >\r\n              { backgroundImage ? (\r\n                <img\r\n                  src={ backgroundImage }\r\n                  alt=\"background\"\r\n                  style={ {\r\n                    maxHeight: \"100px\",\r\n                    maxWidth: \"100px\",\r\n                  } }\r\n                />\r\n              ) : (\r\n                <></>\r\n              ) }\r\n              <input\r\n                type=\"file\"\r\n                name=\"backgroundImage\"\r\n                style={ { maxWidth: \"100%\" } }\r\n                onChange={ (e: any) => {\r\n                  setbackgroundImage(\r\n                    e.target.files[0]\r\n                      ? URL.createObjectURL(e.target.files[0])\r\n                      : undefined\r\n                  );\r\n                } }\r\n                accept=\"image/*\"\r\n                ref={ backgroundinputref }\r\n              />{ \" \" }\r\n              { !uploading ? (\r\n                <button\r\n                  style={ {\r\n                    color: \"white\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    border: \"solid 2px var(--light-bg-colour)\",\r\n                    borderRadius: \"5px\",\r\n                  } }\r\n                  type=\"submit\"\r\n                >\r\n                  Save\r\n                </button>\r\n              ) : (\r\n                <></>\r\n              ) }\r\n            </RouterForm>\r\n          </Changebutton> : <></> }\r\n        <Changebutton\r\n          name=\"Username\"\r\n          onClick={ () => {\r\n            setUsernameModelIsOpen(true);\r\n          } }\r\n          clickable={ true }\r\n        >\r\n          <span style={ { color: \"white\" } }>\r\n            { user.username }\r\n            <span style={ { color: \"lightgray\" } }>#{ user.tag }</span>\r\n            <FontAwesomeIcon icon={ faPen } />\r\n          </span>\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={ UsernameModelIsOpen }\r\n          onRequestClose={ () => {\r\n            setUsernameModelIsOpen(false);\r\n          } }\r\n          onAfterOpen={ () => {\r\n            seterror(\"\");\r\n          } }\r\n          style={ {\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          } }\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={ async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (\r\n                e.target[0].value.trim() !== \"\" &&\r\n                e.target[1].value.trim() !== \"\"\r\n              ) {\r\n                const fd = new FormData();\r\n                fd.append(\"username\", e.target[0].value);\r\n                fd.append(\"pass\", e.target[1].value);\r\n                const resp = await (\r\n                  await fetch(\"/api/setusername\", { method: \"POST\", body: fd })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setUsernameModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a username and password!\");\r\n              }\r\n              setuploading(false);\r\n            } }\r\n          >\r\n            Username\r\n            <div\r\n              style={ {\r\n                border: \"solid 1px gray\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                borderRadius: \"5px\",\r\n                width: \"100%\",\r\n              } }\r\n            >\r\n              <input\r\n                onInput={ (e: any) => {\r\n                  e.target.value = e.target.value.trimStart();\r\n                  if (e.target.value.length > 30) {\r\n                    e.target.value = e.target.value.substring(0, 30);\r\n                  }\r\n                } }\r\n                style={ {\r\n                  color: \"white\",\r\n                  backgroundColor: \"transparent\",\r\n                  border: \"none\",\r\n                  borderRight: \"solid 1px white\",\r\n                  borderRadius: \"0px\",\r\n                } }\r\n                placeholder=\"Username\"\r\n                autoComplete=\"new-password\"\r\n                type=\"text\"\r\n                defaultValue={ user.username }\r\n              ></input>\r\n              <span\r\n                style={ {\r\n                  color: \"lightgray\",\r\n                  padding: \"0 1rem\",\r\n                  float: \"right\",\r\n                } }\r\n              >\r\n                #{ user.tag }\r\n              </span>\r\n            </div>\r\n            <input\r\n              style={ {\r\n                width: \"100%\",\r\n                color: \"white\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                border: \"solid 1px gray\",\r\n                borderRadius: \"5px\",\r\n              } }\r\n              placeholder=\"Current Password\"\r\n              autoComplete=\"new-password\"\r\n              type=\"password\"\r\n            />\r\n            <p style={ { color: \"red\" } }>{ error }</p>\r\n            { !uploading ? (\r\n              <button\r\n                style={ {\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                } }\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            ) }\r\n          </form>\r\n        </Modal>\r\n\r\n        <p style={ {\r\n          fontSize: \"13px\",\r\n          marginBottom: \"1rem !important\",\r\n        } }>By having a TypeChat account, you agree to the <a href=\"/t&c\" target=\"blank_\" style={ { color: \"var(--secondary-text-colour)\" } }>T & C's</a></p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserSettings;\r\n","const snooze = (milliseconds: number) =>\r\n  new Promise((resolve) => setTimeout(resolve, milliseconds));\r\nexport default snooze;\r\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport playSound from \"../playsound\";\r\nimport errordataurl from \"../errordataurl.json\";\r\n\r\nfunction LoadError({ error }: { error: String }) {\r\n  useEffect(() => {\r\n    playSound(errordataurl);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.title = `Error - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={ {\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"red\",\r\n      } }\r\n    >\r\n      <div style={ { fontSize: \"50px\" } }>\r\n        <FontAwesomeIcon icon={ faExclamationTriangle } />\r\n      </div>\r\n      <h1>ERROR</h1>\r\n      <p>{ error }</p>\r\n      <p>\r\n        go to the{ \" \" }\r\n        <span>\r\n          <Link to=\"/\" style={ { color: \"var(--secondary-text-colour)\" } }>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadError;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport ColorThief from \"colorthief\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\nimport LoadError from \"./error\";\r\nimport { useRef } from \"react\";\r\nimport \"./css/contacts.css\";\r\nimport Modal from \"react-modal\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport Badge from \"./badges\";\r\nimport Background from \"./CustomBackground\";\r\nimport ReactGA from \"react-ga4\";\r\n\r\nconst colorThief = new ColorThief();\r\n\r\nfunction Contact({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n\r\n    badges: { name: string }[];\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  const holdref = useRef<any>();\r\n  const [UserModelIsOpen, setUserModelIsOpen] = useState(false);\r\n  return (\r\n    <>\r\n      <div\r\n        data-private\r\n        onPointerDown={ (e: any) => {\r\n          holdref.current = setTimeout(() => {\r\n            holdref.current = undefined;\r\n            playSound(\"/sounds/click1.mp3\");\r\n            setUserModelIsOpen(true);\r\n          }, 500);\r\n          playSound(\"/sounds/click2.mp3\");\r\n        } }\r\n        onTouchMove={ () => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            holdref.current = undefined;\r\n          }\r\n        } }\r\n        onClick={ () => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            playSound(\"/sounds/click1.mp3\");\r\n            history.push(`/chat/${user.id}`);\r\n          }\r\n        } }\r\n        style={ {\r\n          backgroundImage: user.backgroundImage\r\n            ? `url(/files/${user.backgroundImage})`\r\n            : \"\",\r\n          backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n          padding: \"1rem\",\r\n          marginBottom: \"1rem\",\r\n          backgroundRepeat: user.backgroundImage ? \"no-repeat\" : undefined,\r\n          backgroundSize: user.backgroundImage ? \"cover\" : undefined,\r\n          backgroundPosition: user.backgroundImage ? \"center\" : undefined,\r\n          borderRadius: \"10px\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n          whiteSpace: \"nowrap\",\r\n          cursor: \"pointer\",\r\n\r\n          minHeight: \"82px\",\r\n        } }\r\n        className={ \"contactbutton noselect\" }\r\n      >\r\n        <div style={ {\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          flexWrap: \"wrap\",\r\n          flexDirection: \"row\"\r\n        } }>\r\n          <img\r\n            alt=\"profile\"\r\n            loading=\"lazy\"\r\n            src={ \"/files/\" + user.profilePic }\r\n            style={ {\r\n              maxHeight: \"50px\",\r\n              maxWidth: \"100%\",\r\n              height: \"auto\",\r\n              width: \"auto\",\r\n              borderRadius: \"50%\",\r\n            } }\r\n            onLoad={ (e: any) => {\r\n              const resp = colorThief.getColor(e.target);\r\n              setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n            } }\r\n          />\r\n          <span\r\n            style={ {\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"20px\",\r\n              marginLeft: \"5px\",\r\n            } }\r\n          >\r\n            { user.username }\r\n          </span></div>\r\n        <Badge badges={ user.badges } side=\"flex-end\" size=\"25px\"></Badge>\r\n      </div>\r\n      <Modal\r\n        isOpen={ UserModelIsOpen }\r\n        onRequestClose={ () => {\r\n          setUserModelIsOpen(false);\r\n        } }\r\n        style={ {\r\n          overlay: {\r\n            backgroundColor: \"rgb(18 18 18 / 50%)\",\r\n            zIndex: 10,\r\n          },\r\n          content: {\r\n            backgroundColor: \"transparent\",\r\n            zIndex: 11,\r\n            border: \"none\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            marginRight: \"-50%\",\r\n            padding: undefined,\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: \"75%\",\r\n            maxWidth: \"750px\",\r\n\r\n            maxHeight: \"500px\",\r\n          },\r\n        } }\r\n        contentLabel=\"Username Change\"\r\n      >\r\n        <ProfilePage user={ user }></ProfilePage>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Contacts() {\r\n  const { loggedin } = useData();\r\n  const { data, loading, error } = useApi<any>(\"/api/getallcontacts\");\r\n  const [search, setsearch] = useState(\"\");\r\n  const [localcontacts, setlocalcontacts] = useLocalStorage<undefined | any>(\r\n    \"contacts\",\r\n    undefined\r\n  );\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n  }, []);\r\n  useEffect(() => {\r\n    if (data && data.contacts) {\r\n      setlocalcontacts(data.contacts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n\r\n    ReactGA.event({\r\n      category: \"contacts\",\r\n      action: \"open contacts\"\r\n    });\r\n    document.title = `Contacts - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (loading || error) && !localcontacts ? (\r\n    error ? (\r\n      <LoadError error={ String(error) }></LoadError>\r\n    ) : (\r\n      <Loader></Loader>\r\n    )\r\n  ) : (\r\n    <div\r\n      style={ {\r\n        margin: \"1rem 0\",\r\n      } }\r\n    ><Background />\r\n      <div\r\n        style={ {\r\n          margin: \"auto\",\r\n          borderRadius: \"10px\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        } }\r\n      >\r\n        <h1 style={ { textAlign: \"center\", WebkitTextStroke: \"1px black\" } }>Contacts</h1>\r\n        <div>\r\n          { localcontacts || data.resp ? (\r\n            (data && data.contacts.length > 0) ||\r\n              (localcontacts && localcontacts.length > 0) ? (\r\n              <>\r\n                <input\r\n                  data-private\r\n                  type=\"text\"\r\n                  style={ {\r\n                    width: \"100%\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    marginBottom: \"1rem\",\r\n                  } }\r\n                  placeholder={ \"search contacts\" }\r\n                  onKeyUp={ (e: any) => {\r\n                    setsearch(e.target.value.trim());\r\n                  } }\r\n                ></input>\r\n                { (data ? data.contacts : localcontacts).map((contact: any) =>\r\n                  (contact.username + \"#\" + contact.tag)\r\n                    .toUpperCase()\r\n                    .includes(search.toUpperCase()) ? (\r\n                    <Contact key={ contact.id } user={ contact }></Contact>\r\n                  ) : (\r\n                    <></>\r\n                  )\r\n                ) }\r\n              </>\r\n            ) : (\r\n              <p style={ { textAlign: \"center\" } }>\r\n                You have no contacts,{ \" \" }\r\n                <span>\r\n                  <Link\r\n                    style={ { color: \"var(--secondary-text-colour)\" } }\r\n                    to=\"/add\"\r\n                  >\r\n                    add people\r\n                  </Link>\r\n                </span>{ \" \" }\r\n                or wait for them to add you back!\r\n              </p>\r\n            )\r\n          ) : (\r\n            <p style={ { color: \"red\", textAlign: \"center\" } }>{ data.err }</p>\r\n          ) }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport ColorThief from \"colorthief\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport QRCode from \"qrcode.react\";\r\nimport QrReader from \"react-qr-reader\";\r\nimport Background from \"./CustomBackground\";\r\n\r\nconst colorThief = new ColorThief();\r\n\r\nfunction UserListing({\r\n  user,\r\n  setloading,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    [key: string]: any;\r\n  };\r\n  setloading: Function;\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      style={ {\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        margin: \"1rem\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n      } }\r\n    >\r\n      <img\r\n        alt=\"profile\"\r\n        loading=\"lazy\"\r\n        src={ \"/files/\" + user.profilePic }\r\n        style={ {\r\n          maxHeight: \"75px\",\r\n          maxWidth: \"100%\",\r\n          height: \"auto\",\r\n          width: \"auto\",\r\n          borderRadius: \"50%\",\r\n        } }\r\n        onLoad={ async (e: any) => {\r\n          const resp = colorThief.getColor(e.target);\r\n          setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n        } }\r\n      />\r\n      <span>\r\n        <span\r\n          style={ {\r\n            color: \"white\",\r\n            WebkitTextStroke: \"1px black\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"20px\",\r\n            marginLeft: \"5px\",\r\n          } }\r\n        >\r\n          { user.username }\r\n          <span\r\n            style={ {\r\n              color: \"lightgray\",\r\n              fontWeight: \"normal\",\r\n            } }\r\n          >\r\n            #{ user.tag }\r\n          </span>\r\n        </span>\r\n      </span>\r\n      <div\r\n        style={ {\r\n          float: \"right\",\r\n          background: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          borderRadius: \"10px\",\r\n          cursor: \"pointer\",\r\n        } }\r\n        onClick={ async () => {\r\n          setloading(true);\r\n          const formdata = new FormData();\r\n          formdata.append(\"user\", user.id);\r\n          const resp = await (\r\n            await fetch(\"/api/frienduserfromid\", {\r\n              method: \"POST\",\r\n              body: formdata,\r\n            })\r\n          ).json();\r\n          if (resp.friends) {\r\n            history.push(`/chat/${user.id}`);\r\n          } else {\r\n            history.push(`/contacts`);\r\n          }\r\n          setloading(false);\r\n        } }\r\n      >\r\n        <FontAwesomeIcon icon={ faUserPlus }></FontAwesomeIcon>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddPeople() {\r\n  const [search, setsearch] = useState(\"\");\r\n  const { loggedin, user } = useData();\r\n  const { data, setData } = useApi<any>(\r\n    search\r\n      ? \"/api/searchusers?\" + new URLSearchParams({ q: search }).toString()\r\n      : null\r\n  );\r\n  const { data: friendrequests } = useApi<any>(\"/api/getallfriendrequests\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  useEffect(() => {\r\n    if (!search) setData(undefined);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    document.title = `Add - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  if (!loggedin) {\r\n    history.push(\"/\");\r\n  }\r\n  return loading ? (\r\n    <Loader></Loader>\r\n  ) : (\r\n    <div\r\n      style={ {\r\n        margin: \"1rem\",\r\n      } }\r\n    ><Background />\r\n      <div\r\n        style={ {\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        } }\r\n      >\r\n        <h1 style={ { textAlign: \"center\" } }>Add</h1>\r\n        <div\r\n          style={ {\r\n            maxWidth: \"250px\",\r\n            textAlign: \"center\",\r\n            margin: \"1rem auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            padding: \"1rem\",\r\n            borderRadius: \"10px\",\r\n          } }\r\n        >\r\n          { user ? (\r\n            <QRCode\r\n              value={ user.id }\r\n              style={ { width: \"100%\", height: undefined } }\r\n            />\r\n          ) : (\r\n            <></>\r\n          ) }\r\n          <p>add people with your QR Code</p>\r\n          <QrReader\r\n            delay={ 300 }\r\n            onError={ console.error }\r\n            onScan={ async (scan) => {\r\n              if (scan) {\r\n                setloading(true);\r\n                const formdata = new FormData();\r\n                formdata.append(\"user\", scan);\r\n                const resp = await (\r\n                  await fetch(\"/api/frienduserfromid\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  })\r\n                ).json();\r\n                if (resp.friends) {\r\n                  history.push(`/chat/${scan}`);\r\n                } else {\r\n                  history.push(`/contacts`);\r\n                }\r\n                setloading(false);\r\n              }\r\n            } }\r\n            style={ { width: \"100%\" } }\r\n          />\r\n        </div>\r\n        <div style={ { textAlign: \"center\" } }>\r\n          <h2>Friend Requests</h2>\r\n          <div>\r\n            { friendrequests ? (\r\n              friendrequests.resp ? (\r\n                friendrequests.friendrequests.length > 0 ? (\r\n                  <div>\r\n                    <p style={ { textAlign: \"end\" } }>\r\n                      { friendrequests.friendrequests.length } friend request\r\n                      { friendrequests.friendrequests.length === 1 ? \"\" : \"s\" }\r\n                    </p>\r\n                    { friendrequests.friendrequests.map(\r\n                      (\r\n                        value: {\r\n                          profilePic: string;\r\n                          username: string;\r\n                          id: string;\r\n                          tag: string;\r\n                          backgroundImage: string | null;\r\n                          [key: string]: any;\r\n                        },\r\n                        index: number\r\n                      ) => (\r\n                        <UserListing\r\n                          user={ value }\r\n                          setloading={ setloading }\r\n                          key={ value.id }\r\n                        />\r\n                      )\r\n                    ) }\r\n                  </div>\r\n                ) : (\r\n                  <p>You have no friend requests!</p>\r\n                )\r\n              ) : (\r\n                <p style={ { color: \"red\", textAlign: \"center\" } }>An Error Occured</p>\r\n              )\r\n            ) : (\r\n              <p style={ { textAlign: \"center\" } }>loading...</p>\r\n            ) }\r\n          </div>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          style={ {\r\n            width: \"100%\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"20px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            color: \"white\",\r\n          } }\r\n          placeholder={ \"search users\" }\r\n          onKeyUp={ (e: any) => {\r\n            setsearch(e.target.value.trim());\r\n          } }\r\n        ></input>\r\n        <div>\r\n          { data && search ? (\r\n            data.resp ? (\r\n              data.data.length > 0 ? (\r\n                <div>\r\n                  <p style={ { textAlign: \"end\" } }>\r\n                    { data.data.length } result{ data.data.length === 1 ? \"\" : \"s\" }{ \" \" }\r\n                    found!\r\n                  </p>\r\n                  { data.data.map(\r\n                    (\r\n                      value: {\r\n                        profilePic: string;\r\n                        username: string;\r\n                        id: string;\r\n                        tag: string;\r\n                        backgroundImage: string | null;\r\n                        [key: string]: any;\r\n                      },\r\n                      index: number\r\n                    ) => (\r\n                      <UserListing\r\n                        user={ value }\r\n                        setloading={ setloading }\r\n                        key={ value.id }\r\n                      />\r\n                    )\r\n                  ) }\r\n                </div>\r\n              ) : (\r\n                <p>No Results Found!</p>\r\n              )\r\n            ) : (\r\n              <p style={ { color: \"red\", textAlign: \"center\" } }>{ data.err }</p>\r\n            )\r\n          ) : (\r\n            <p style={ { textAlign: \"center\" } }>\r\n              type someones username and tag\r\n            </p>\r\n          ) }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPeople;\r\n","function setIcon(path: string) {\r\n  const links: any = document.querySelectorAll(\"link[rel~='icon']\");\r\n  for (let i = 0; i < links.length; i++) {\r\n    let link = links[i];\r\n    if (i === 0) {\r\n      if (!link) {\r\n        link = document.createElement(\"link\");\r\n        document.getElementsByTagName(\"head\")[0].appendChild(link);\r\n      }\r\n      link.type = \"image/x-icon\";\r\n      link.rel = \"icon\";\r\n      link.href = path;\r\n    } else {\r\n      link.remove();\r\n    }\r\n  }\r\n}\r\nexport default setIcon;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport { useData } from \"./hooks/datahook\";\r\nimport playSound from \"./playsound\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport setIcon from \"./setIcons\";\r\nimport useWindowVisable from \"./hooks/useWindowVisable\";\r\nfunction NotificationComponent() {\r\n  const { loggedin, NotificationAPI } = useData();\r\n  const isFocussed = useWindowFocus();\r\n  const isVisable = useWindowVisable()\r\n  const history = useHistory();\r\n  const { lastJsonMessage, sendJsonMessage } = useWebSocket(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n      ? window.location.hostname + \":5000\"\r\n      : window.location.host\r\n    }/notifications`,\r\n    {\r\n      shouldReconnect: () => true,\r\n    },\r\n    loggedin\r\n  );\r\n\r\n  useEffect(() => {\r\n    setIcon(\"/favicon.ico\");\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    sendJsonMessage({ type: \"setFocus\", focus: isVisable });\r\n  }, [isVisable])\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else {\r\n        if (lastJsonMessage.sound !== false) {\r\n          playSound(\r\n            lastJsonMessage.sound\r\n              ? lastJsonMessage.sound\r\n              : \"/sounds/notification.mp3\"\r\n          );\r\n        }\r\n        if (!isFocussed) {\r\n          setIcon(\"/favicon notification.ico\");\r\n        }\r\n        NotificationAPI(\r\n          {\r\n            title: lastJsonMessage.title,\r\n            message: lastJsonMessage.message,\r\n            type: \"default\",\r\n            onRemoval: (_: string, type: any) => {\r\n              if (type === \"click\") {\r\n                history.push(lastJsonMessage.to);\r\n                window.focus();\r\n              }\r\n            },\r\n            insert: \"top\",\r\n            container: \"top-right\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            dismiss: {\r\n              pauseOnHover: true,\r\n              duration: 5000,\r\n              onScreen: true,\r\n            },\r\n          },\r\n          () => {\r\n            history.push(lastJsonMessage.to);\r\n          }\r\n        );\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  return <></>;\r\n}\r\nexport default NotificationComponent;\r\n","import playSound from \"../playsound\";\r\n\r\nconst ToggleSwitch = ({\r\n  children,\r\n  onChange,\r\n  defaultChecked,\r\n  checked,\r\n}: {\r\n  children?: string;\r\n  onChange?: Function;\r\n  checked?: boolean;\r\n  defaultChecked?: boolean;\r\n}) => (\r\n  <div style={ { display: \"flex\", justifyContent: \"space-between\" } }>\r\n    <div>{ children }</div>\r\n    <label style={ { margin: 0 } } className=\"form-switch noselect\">\r\n      <input\r\n        type=\"checkbox\"\r\n        onChange={ (e: any) => {\r\n          if (onChange instanceof Function) {\r\n            onChange(e);\r\n            playSound(`/sounds/click${checked ? 1 : 3}.mp3`);\r\n          }\r\n        } }\r\n        checked={ checked }\r\n        defaultChecked={ defaultChecked }\r\n      />\r\n      <i></i>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default ToggleSwitch;\r\n","import { useEffect } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport Background from \"./CustomBackground\";\r\nimport ToggleSwitch from \"./switch\";\r\nimport ReactGA from \"react-ga4\";\r\n\r\nfunction Setting({ children }: { children: any }) {\r\n  return (\r\n    <div\r\n      style={ {\r\n        marginBottom: \"1rem\",\r\n        width: \"100%\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"5px\",\r\n      } }\r\n    >\r\n      { children }\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Settings() {\r\n  const [soundEffects, setSoundEffects] = useLocalStorage(\r\n    \"sound effects\",\r\n    true\r\n  );\r\n  const [personaltyping, setpersonaltyping] = useLocalStorage(\r\n    \"Keyboard Typing Sound\",\r\n    true\r\n  );\r\n  const [Recipienttyping, setRecipienttyping] = useLocalStorage(\r\n    \"Recipient Typing Sound\",\r\n    true\r\n  );\r\n  const [SendSound, setSendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound, setReceiveSound] = useLocalStorage(\r\n    \"Receive Sound\",\r\n    true\r\n  );\r\n  const { data: notifications } = useApi<{ discord: boolean; email: boolean }>(\r\n    \"/api/getNotificationsOn\"\r\n  );\r\n  const [volume, setVolume] = useLocalStorage(\"volume\", 15);\r\n  const [discord, setdiscord] = useLocalStorage(\"discord\", true);\r\n  const [email, setemail] = useLocalStorage(\"email\", true);\r\n  useEffect(() => {\r\n    if (notifications) {\r\n      setdiscord(notifications.discord);\r\n      setemail(notifications.email);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [notifications]);\r\n  useEffect(() => {\r\n    ReactGA.event({\r\n      category: \"settings\",\r\n      action: \"open settings\"\r\n    })\r\n  }, [])\r\n  return (\r\n    <div\r\n      style={ {\r\n        margin: \"1rem\",\r\n      } }\r\n    >\r\n      <div\r\n        style={ {\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        } }\r\n      ><Background />\r\n        <h1 style={ { textAlign: \"center\" } }>Settings</h1>\r\n\r\n        <div>\r\n          <Setting>\r\n            <ToggleSwitch\r\n              onChange={ () => {\r\n                setSoundEffects(!soundEffects);\r\n              } }\r\n              checked={ soundEffects }\r\n            >\r\n              Sound Effects\r\n            </ToggleSwitch>\r\n          </Setting>\r\n          { soundEffects ? (\r\n            <div\r\n              style={ {\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n                paddingTop: \"calc(1rem + 5px)\",\r\n              } }\r\n            >\r\n              <Setting>\r\n                <label\r\n                  style={ {\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    margin: 0,\r\n                  } }\r\n                >\r\n                  <div>Volume { volume * 5 }%</div>\r\n                  <input\r\n                    type=\"range\"\r\n                    max=\"20\"\r\n                    min=\"0\"\r\n                    value={ volume }\r\n                    onInput={ (e: any) => {\r\n                      setVolume(e.target.value);\r\n                    } }\r\n                  ></input>\r\n                </label>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={ () => {\r\n                    setpersonaltyping(!personaltyping);\r\n                  } }\r\n                  checked={ personaltyping }\r\n                >\r\n                  Keyboard Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={ () => {\r\n                    setRecipienttyping(!Recipienttyping);\r\n                  } }\r\n                  checked={ Recipienttyping }\r\n                >\r\n                  Recipient Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={ () => {\r\n                    setSendSound(!SendSound);\r\n                  } }\r\n                  checked={ SendSound }\r\n                >\r\n                  Send Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={ () => {\r\n                    setReceiveSound(!ReceiveSound);\r\n                  } }\r\n                  checked={ ReceiveSound }\r\n                >\r\n                  Receive Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          ) }\r\n          <div\r\n            style={ {\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              borderRadius: \"10px\",\r\n              padding: \"5px\",\r\n              paddingTop: \"calc(1rem + 5px)\",\r\n            } }\r\n          >\r\n            <Setting>\r\n              <ToggleSwitch\r\n                onChange={ () => {\r\n                  setdiscord(!discord);\r\n                  const formdata = new FormData();\r\n                  formdata.append(\"toggle\", JSON.stringify(!discord));\r\n                  fetch(\"/api/togglediscord\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  });\r\n                } }\r\n                checked={ discord }\r\n              >\r\n                Discord Notifications\r\n              </ToggleSwitch>\r\n            </Setting>\r\n            <Setting>\r\n              <ToggleSwitch\r\n                onChange={ () => {\r\n                  setemail(!email);\r\n                  const formdata = new FormData();\r\n                  formdata.append(\"toggle\", JSON.stringify(!email));\r\n                  fetch(\"/api/toggleemail\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  });\r\n                } }\r\n                checked={ email }\r\n              >\r\n                Email Notifications\r\n              </ToggleSwitch>\r\n            </Setting>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import { useParams } from \"react-router\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\n\r\nfunction Verify() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { data, loading, error } = useApi<{ verified: boolean, user: any }>(`/api/verify/${id}`)\r\n    return loading || error ? <Loader></Loader> : data?.verified ? <div style={ { textAlign: \"center\" } }><h1>Verified!</h1><p>the account { data?.user.username }#{ data?.user.tag } has been verified!</p></div> : <h1 style={ { textAlign: \"center\" } }>Verification URL invalid!</h1>\r\n}\r\n\r\nexport default Verify","import { Redirect, useParams } from \"react-router\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\"\r\nimport Loader from \"./loader\";\r\n\r\nfunction LinkDiscord() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { loggedin } = useData();\r\n    const { data, error, loading } = useApi<{ linked: boolean, error?: string }>(loggedin ? `/api/link/${id}` : null)\r\n    if (!loggedin) {\r\n        return <Redirect to={ \"/login?\" + new URLSearchParams({ to: `/link/${id}` }) }></Redirect>;\r\n    }\r\n    return error || loading ? <Loader></Loader> : <div style={ { textAlign: \"center\" } }>{ data?.linked ? <><h1>Account Linked!</h1><p>you can now close this page</p></> : <><h1>Failed to Link</h1><p>{ data?.error }</p></> }</div>\r\n}\r\nexport default LinkDiscord","import {\r\n  faDownload,\r\n  faPhotoVideo,\r\n  faPlus,\r\n  faShare,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { Link, Redirect, useParams } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Background from \"./CustomBackground\";\r\nimport Loader from \"./loader\";\r\nimport ReactGA from \"react-ga4\";\r\nimport Error404 from \"./404\";\r\n\r\nfunction downloadURI(url: string, filename: string) {\r\n  fetch(url)\r\n    .then((response) => response.blob())\r\n    .then((blob) => {\r\n      const link = document.createElement(\"a\");\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = filename;\r\n      link.click();\r\n    })\r\n    .catch(console.error);\r\n}\r\n\r\nfunction FilePreview({\r\n  id,\r\n  name,\r\n  mimetype,\r\n}: {\r\n  id: string;\r\n  name: string;\r\n  mimetype: string;\r\n}) {\r\n  const fname = name.replace(/\\.[^/.]+$/, \"\");\r\n  const ext = name.substring(name.lastIndexOf(\".\"));\r\n  return (\r\n    <Link\r\n      data-private\r\n      style={ {\r\n        color: \"white\",\r\n        textDecoration: \"none\",\r\n        width: \"100%\",\r\n        maxWidth: \"150px\",\r\n      } }\r\n      to={ \"/drive/\" + id }\r\n    >\r\n      <div\r\n        style={ {\r\n          margin: \"5px\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          cursor: \"pointer\",\r\n        } }\r\n      >\r\n        { !(mimetype && mimetype.startsWith(\"image\")) ? (\r\n          <div\r\n            style={ {\r\n              width: \"100%\",\r\n              height: \"75px\",\r\n              textAlign: \"center\",\r\n              borderBottom: \"solid 1px var(--light-bg-colour)\",\r\n              verticalAlign: \"middle\",\r\n              lineHeight: \"75px\",\r\n            } }\r\n          >\r\n            <FontAwesomeIcon icon={ faPhotoVideo } />\r\n          </div>\r\n        ) : (\r\n          <img\r\n            src={ \"/files/\" + id }\r\n            alt={ name }\r\n            loading=\"lazy\"\r\n            style={ { width: \"100%\", borderRadius: \"10px\" } }\r\n          ></img>\r\n        ) }\r\n        <div style={ { padding: \"1rem\" } }>\r\n          <p\r\n            style={ {\r\n              whiteSpace: \"nowrap\",\r\n              overflow: \"hidden\",\r\n              textOverflow: \"ellipsis\",\r\n            } }\r\n          >\r\n            { fname }\r\n          </p>\r\n          <span>{ ext }</span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nfunction Drive() {\r\n  const fileref = useRef<any>();\r\n  const { notifications, loggedin } = useData();\r\n  const { data, setData } =\r\n    useApi<{ id: string; filename: string; mimetype: string }[]>(\r\n      \"/api/mydrive\"\r\n    );\r\n\r\n  useEffect(() => {\r\n    ReactGA.event({\r\n      category: \"drive\",\r\n      action: \"open drive\"\r\n    })\r\n    document.title = `Drive - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  if (!loggedin) {\r\n    return (\r\n      <Redirect\r\n        to={ \"/login?\" + new URLSearchParams({ to: \"/user/drive\" }) }\r\n      ></Redirect>\r\n    );\r\n  }\r\n  return (\r\n    <div style={ { textAlign: \"center\", padding: \"1rem\" } }><Background />\r\n      <h1 style={ { WebkitTextStroke: \"1px black\" } }>My Drive</h1>\r\n      { data ? (\r\n        <div\r\n          style={ {\r\n            margin: \"auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"1rem\",\r\n            maxWidth: \"700px\",\r\n          } }\r\n        >\r\n          <input\r\n            type=\"file\"\r\n            style={ { display: \"none\" } }\r\n            ref={ fileref }\r\n            onInput={ async (e: any) => {\r\n              if (e.target.files.length > 0) {\r\n                const file = e.target.files[0];\r\n                e.target.value = \"\";\r\n                const formdata = new FormData();\r\n                formdata.append(\"file\", file);\r\n                const id = Math.random();\r\n                notifications.addNotification({\r\n                  title: \"File\",\r\n                  message: \"Uploading...\",\r\n                  type: \"warning\",\r\n                  insert: \"top\",\r\n                  id,\r\n                  container: \"top-right\",\r\n                  animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                  animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                });\r\n                try {\r\n                  const resp = await (\r\n                    await fetch(\"/api/uploadfile\", {\r\n                      method: \"POST\",\r\n                      body: formdata,\r\n                    })\r\n                  ).json();\r\n                  if (resp.resp) {\r\n                    notifications.removeNotification(id);\r\n                    setData(\r\n                      (\r\n                        data: {\r\n                          id: string;\r\n                          filename: string;\r\n                          mimetype: string;\r\n                        }[]\r\n                      ) =>\r\n                        [\r\n                          {\r\n                            id: resp.id,\r\n                            filename: file.name,\r\n                            mimetype: file.type,\r\n                          },\r\n                        ].concat(data)\r\n                    );\r\n                  } else {\r\n                    notifications.removeNotification(id);\r\n                    notifications.addNotification({\r\n                      title: \"Upload Error\",\r\n                      message: resp.err,\r\n                      type: \"danger\",\r\n                      insert: \"top\",\r\n                      container: \"top-right\",\r\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                    });\r\n                  }\r\n                  console.log(resp);\r\n                } catch (e) {\r\n                  notifications.removeNotification(id);\r\n                  notifications.addNotification({\r\n                    title: \"Upload Error\",\r\n                    message: String(e),\r\n                    type: \"danger\",\r\n                    insert: \"top\",\r\n                    container: \"top-right\",\r\n                    animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                    animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                  });\r\n                }\r\n              }\r\n            } }\r\n          />\r\n\r\n          <button\r\n            style={ {\r\n              marginRight: \"5px\",\r\n              backgroundColor: \"var(--dark-bg-colour)\",\r\n              padding: \"5px\",\r\n              borderRadius: \"20px\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              color: \"white\",\r\n              textAlign: \"center\",\r\n            } }\r\n            onClick={ () => {\r\n              if (fileref.current) fileref.current.click();\r\n            } }\r\n          >\r\n            <FontAwesomeIcon icon={ faPlus } /> add file\r\n          </button>\r\n          <div\r\n            style={ {\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"row\",\r\n              flexWrap: \"wrap\",\r\n              alignContent: \"center\",\r\n            } }\r\n          >\r\n            { data.map((value) => (\r\n              <FilePreview\r\n                key={ value.id }\r\n                mimetype={ value.mimetype }\r\n                id={ value.id }\r\n                name={ value.filename }\r\n              ></FilePreview>\r\n            )) }\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Loader></Loader>\r\n      ) }\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Image() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data, error } = useApi<{ id: string; filename: string; mimetype: string }>(\r\n    \"/api/getimagedata?\" + new URLSearchParams({ id })\r\n  );\r\n  const mimetype = data?.mimetype;\r\n  const file = data?.id;\r\n  useEffect(() => {\r\n    ReactGA.event({\r\n      category: \"drive\",\r\n      action: \"open drive file\",\r\n      label: id\r\n    })\r\n    if (data) {\r\n      document.title = `${data.filename} - TypeChat`;\r\n    }\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, [data]);\r\n  return data ? (\r\n    <div style={ { margin: \"1rem\" } }>\r\n      <div\r\n        style={ {\r\n          margin: \"1rem auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        } }\r\n      >\r\n        <h1\r\n          data-private>{ data.filename }</h1>\r\n        <div\r\n          onClick={ () => {\r\n            navigator.clipboard.writeText(\"https://tchat.us.to/drive/\" + file);\r\n            alert(\"Copied media source to clipboard.\")\r\n          } }\r\n          style={ {\r\n            color: \"var(--secondary-text-colour)\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"25px\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faShare }></FontAwesomeIcon> Share\r\n        </div>\r\n        <div\r\n          onClick={ () => {\r\n            navigator.clipboard.writeText(\"https://tchat.us.to/files/\" + file);\r\n            alert(\"Copied media source to clipboard.\")\r\n          } }\r\n          style={ {\r\n            color: \"var(--secondary-text-colour)\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"25px\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faPhotoVideo }></FontAwesomeIcon> Copy Source\r\n        </div>\r\n        <div\r\n          onClick={ () => {\r\n            downloadURI(\"/files/\" + file, data.filename);\r\n          } }\r\n          style={ {\r\n            color: \"var(--secondary-text-colour)\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"25px\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faDownload }></FontAwesomeIcon> Download\r\n        </div>\r\n        <div\r\n          style={ {\r\n            height: \"1px\",\r\n            backgroundColor: \"var(--light-bg-colour)\",\r\n            width: \"100%\",\r\n            margin: \"1rem 0\",\r\n          } }\r\n        ></div><div\r\n          data-private>\r\n          { mimetype ? (\r\n            mimetype.split(\"/\")[0] === \"image\" ? (\r\n              <img\r\n                alt={ file }\r\n                src={ `/files/${file}` }\r\n                style={ { width: \"100%\", borderRadius: \"20px\" } }\r\n                loading=\"lazy\"\r\n              ></img>\r\n            ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n              <video\r\n                src={ `/files/${file}` }\r\n                style={ { width: \"100%\" } }\r\n                controls\r\n                playsInline\r\n              ></video>\r\n            ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n              <audio\r\n                src={ `/files/${file}` }\r\n                style={ { width: \"100%\" } }\r\n                controls\r\n                playsInline\r\n              ></audio>\r\n            ) : (\r\n              <p>No Preview!</p>\r\n            )\r\n          ) : (\r\n            <p>No Preview!</p>\r\n          ) }</div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    error ? <Error404></Error404> : <Loader></Loader>\r\n  );\r\n}\r\n\r\nconst exports = { Drive, Image };\r\nexport default exports;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faKey } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction ChangePassword() {\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const { id } = useParams<{ id: string }>();\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const [loading, setloading] = useState(false);\r\n  return (\r\n    <>\r\n      <div style={ { display: loading ? \"\" : \"none\" } }>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={ {\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        } }\r\n      >\r\n        <img\r\n          src={ logo }\r\n          alt=\"logo\"\r\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\r\n        ></img>\r\n        <h1\r\n          style={ {\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faKey }></FontAwesomeIcon> Set Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={ \"/api/changepassword\" }\r\n            beforecallback={ () => {\r\n              if (recapToken) {\r\n                setloading(true);\r\n                return true;\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            } }\r\n            appendtoformdata={ (fd) => {\r\n              fd.append(\"updateID\", id);\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              return fd;\r\n            } }\r\n            style={ { width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" } }\r\n            callback={ (resp: boolean) => {\r\n              setloading(false);\r\n              if (resp) {\r\n                history.push(\"/login\");\r\n              } else {\r\n                seterror(\r\n                  \"failed to change password, maybe the update password key has reset.\"\r\n                );\r\n              }\r\n            } }\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={ (token) => {\r\n                setRecapToken(token);\r\n              } }\r\n            />\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Change Password\"\r\n              style={ {\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              } }\r\n            />\r\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RequestNewPassword() {\r\n  const { loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={ { display: loading ? \"\" : \"none\" } }>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={ {\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        } }\r\n      >\r\n        <img\r\n          src={ logo }\r\n          alt=\"logo\"\r\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\r\n        ></img>\r\n        <h1\r\n          style={ {\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          } }\r\n        >\r\n          <FontAwesomeIcon icon={ faKey }></FontAwesomeIcon> Change Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={ \"/api/requestnewpassword\" }\r\n            beforecallback={ (e: any) => {\r\n              if (recapToken) {\r\n                if (e.target[0].value !== \"\") {\r\n                  if (validateEmail(e.target[0].value)) {\r\n                    setloading(true);\r\n                    return true;\r\n                  } else {\r\n                    seterror(\"input a valid email!\");\r\n                  }\r\n                } else {\r\n                  seterror(\"input a profile, username, email and password!\");\r\n                }\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            } }\r\n            appendtoformdata={ (fd) => {\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              return fd;\r\n            } }\r\n            style={ { width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" } }\r\n            callback={ () => {\r\n              history.push(\"/login\");\r\n            } }\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={ (token) => {\r\n                setRecapToken(token);\r\n              } }\r\n            />\r\n            <p\r\n              style={ {\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              } }\r\n            >\r\n              Email\r\n            </p>{ \" \" }\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={ {\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              } }\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Request New Password\"\r\n              style={ {\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              } }\r\n            />\r\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst exports = { RequestNewPassword, ChangePassword };\r\n\r\nexport default exports;\r\n","export default __webpack_public_path__ + \"static/media/Blast icon.d1ad1976.svg\";","export default __webpack_public_path__ + \"static/media/fuel-pump.844df2a4.svg\";","export default __webpack_public_path__ + \"static/media/meteorites.a8554758.svg\";","export default __webpack_public_path__ + \"static/media/planet.82922217.svg\";","export default __webpack_public_path__ + \"static/media/planet1.99da5122.svg\";","export default __webpack_public_path__ + \"static/media/planet2.dc999098.svg\";","export default __webpack_public_path__ + \"static/media/solar-system.9f8bcff9.svg\";","export default __webpack_public_path__ + \"static/media/satellite.4b28ac52.svg\";","export default __webpack_public_path__ + \"static/media/satellite1.43c3ff83.svg\";","export default __webpack_public_path__ + \"static/media/satellite2.8c3fb1a4.svg\";","import blastIcon from \"./images/Blast icon.svg\";\r\nimport fuelIcon from \"./images/fuel-pump.svg\";\r\nimport meteorites from \"./images/meteorites.svg\";\r\nimport \"./css/blast.css\";\r\nimport { useState, useMemo, MouseEventHandler, useRef, useEffect } from \"react\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport plant from \"./images/planet.svg\";\r\nimport plant1 from \"./images/planet1.svg\";\r\nimport plant2 from \"./images/planet2.svg\";\r\nimport solarsystem from \"./images/solar-system.svg\";\r\n\r\nimport satellite from \"./images/satellite.svg\";\r\nimport satellite1 from \"./images/satellite1.svg\";\r\nimport satellite2 from \"./images/satellite2.svg\";\r\nimport playSound from \"../playsound\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\nimport ReactGA from \"react-ga4\";\r\n\r\nfunction range(size: number, startAt = 0) {\r\n  return [...Array(size).keys()].map((i) => i + startAt);\r\n}\r\n\r\nfunction StartButton({\r\n  onClick,\r\n  disabled,\r\n}: {\r\n  onClick?: MouseEventHandler<HTMLDivElement>;\r\n  disabled?: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      className=\"btnMain\"\r\n      onClick={ !disabled ? onClick : undefined }\r\n      onPointerDown={ () => {\r\n        playSound(\"/sounds/click2.mp3\");\r\n      } }\r\n      onPointerUp={ () => {\r\n        playSound(\"/sounds/click1.mp3\");\r\n      } }\r\n    >\r\n      <div className=\"btnBox\">BLAST OFF</div>\r\n      <div className=\"btnBottom\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Star() {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random(),\r\n  });\r\n  return (\r\n    <div\r\n      className=\"star\"\r\n      style={ { top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` } }\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Galaxy() {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Galaxy\"\r\n      style={ { top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` } }\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Planet({ file }: { file: string }) {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Planet\"\r\n      style={ {\r\n        top: `${y}vh`,\r\n        left: `${x}vw`,\r\n        animationDelay: `-${delay}s`,\r\n        backgroundImage: `url(${file})`,\r\n      } }\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Satellite({ file }: { file: string }) {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Satellite\"\r\n      style={ {\r\n        top: `${y}vh`,\r\n        left: `${x}vw`,\r\n        animationDelay: `-${delay}s`,\r\n        backgroundImage: `url(${file})`,\r\n      } }\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Blast() {\r\n  const { width, height } = useWindowSize();\r\n  const { user, notifications } = useData();\r\n  const history = useHistory();\r\n\r\n  const [{ xalien, yalien }] = useState({\r\n    xalien: 15 + Math.random() * 30 + \"vw\",\r\n    yalien: 15 + Math.random() * 30 + \"vh\",\r\n  });\r\n  const fuel = useRef(1)\r\n  const [buyfuel, setbuyfuel] = useState(1)\r\n  const stars = useMemo(\r\n    () =>\r\n      range(Math.round((width * height) / 10000)).map((value) => (\r\n        <Star key={ value }></Star>\r\n      )),\r\n    [width, height]\r\n  );\r\n  const [menupage, setmenupage] = useState(\"main\");\r\n  const { data } =\r\n    useApi<{ price: number; sale: number; startofweek: number }>(menupage === \"main\" ? \"/api/blastprices\"\r\n      : null);\r\n  const max = user?.rocketFuel\r\n    ? user.rocketFuel > 20\r\n      ? 20 - (user.blast ? user.blast : 0)\r\n      : user.rocketFuel\r\n    : 0;\r\n  const ends = data\r\n    ? new Date(data.startofweek + 6.048e8).getUTCDate()\r\n    : undefined;\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const price = data ? ((data.price * (1 - data.sale)) / 100) : undefined\r\n\r\n  useEffect(() => {\r\n    ReactGA.event({\r\n      category: \"blast\",\r\n      action: \"open blast\",\r\n    })\r\n    document.title = `Blast - TypeChat`;\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"stars\">{ stars }</div>\r\n        <Galaxy></Galaxy>\r\n\r\n        <Planet file={ plant } />\r\n        <Planet file={ plant1 } />\r\n        <Planet file={ plant2 } />\r\n        <Planet file={ solarsystem } />\r\n\r\n        <Satellite file={ satellite } />\r\n        <Satellite file={ satellite1 } />\r\n        <Satellite file={ satellite2 } />\r\n\r\n        <div className=\"Alien\" style={ { top: yalien, left: xalien } }></div>\r\n      </div>\r\n\r\n      { data ? <div className=\"BlastRocket\"></div> : <></> }\r\n      <div className=\"meteorites\"></div>\r\n      { data ? (\r\n        <div className={ `BlastMenu BlastMenuAnimation` }>\r\n          <div\r\n            style={ {\r\n              margin: \"auto\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              borderRadius: \"10px\",\r\n              backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"700px\",\r\n            } }\r\n          >\r\n            { menupage === \"main\" ? (\r\n              <>\r\n                <h1 style={ { textAlign: \"center\" } }>\r\n                  Blast{ \" \" }\r\n                  <img\r\n                    src={ blastIcon }\r\n                    height=\"35px\"\r\n                    alt=\"\"\r\n                    className=\"icon\"\r\n                  />\r\n                </h1>\r\n                <div style={ { textAlign: \"end\" } }>\r\n                  <h3>\r\n                    { price?.toFixed(2) } /\r\n                    Rocket Fuel{ \" \" }\r\n                    <img\r\n                      src={ fuelIcon }\r\n                      height=\"35px\"\r\n                      alt=\"\"\r\n                      className=\"icon\"\r\n                    />\r\n                  </h3>\r\n                  { data.sale ? (\r\n                    <h4>\r\n                      <p>\r\n                        { Math.round(data.sale * 100) }% off{ \" \" }\r\n                        <img\r\n                          src={ meteorites }\r\n                          height=\"35px\"\r\n                          alt=\"\"\r\n                          className=\"icon\"\r\n                        />\r\n                      </p>\r\n                      <p style={ { fontSize: \"15px\" } }>\r\n                        ends on the { ends }\r\n                        { String(ends).endsWith(\"1\")\r\n                          ? \"st\"\r\n                          : String(ends).endsWith(\"2\")\r\n                            ? \"nd\"\r\n                            : String(ends).endsWith(\"1\")\r\n                              ? \"rd\"\r\n                              : \"th\" }\r\n                      </p>\r\n                      <p style={ { fontSize: \"10px\" } }>\r\n                        (was { (data.price / 100).toFixed(2) })\r\n                      </p>\r\n                    </h4>\r\n                  ) : (\r\n                    <></>\r\n                  ) }\r\n                </div>\r\n                { user ? (\r\n                  <h5 style={ { textAlign: \"center\" } }>\r\n                    you have <span style={ { color: `rgb(${(255 - (user.rocketFuel * (255 / 20))) * 2}, ${((user.rocketFuel * (255 / 20))) * 2}, ${0})`, fontWeight: \"bolder\" } }>{ String(user.rocketFuel).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") }</span> Rocket Fuel{ \" \" }\r\n                    <img\r\n                      src={ fuelIcon }\r\n                      height=\"25px\"\r\n                      alt=\"\"\r\n                      className=\"icon\"\r\n                    />\r\n                  </h5>\r\n                ) : (\r\n                  <></>\r\n                ) }\r\n                <StartButton\r\n                  onClick={ () =>\r\n                    user\r\n                      ? max > 0\r\n                        ? setmenupage(\"start\")\r\n                        : user?.rocketFuel > 0 ?\r\n                          notifications.addNotification({\r\n                            title: \"Unable to Add More Fuel!\",\r\n                            message: \"Sorry, you have reached the monthly Blast limit, you may add Rocket Fuel when this months Rocket Fuel has ran out.\",\r\n                            type: \"danger\",\r\n                            insert: \"top\",\r\n                            container: \"top-right\",\r\n                            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                            dismiss: {\r\n                              pauseOnHover: true,\r\n                              duration: 5000,\r\n                              onScreen: true,\r\n                            },\r\n                          }) : window.location.replace(\"#fuel\")\r\n                      : history.push(\r\n                        \"/login?\" + new URLSearchParams({ to: \"/blast\" })\r\n                      )\r\n                  }\r\n                />\r\n                <div\r\n                  style={ {\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\",\r\n                  } }\r\n                >\r\n                  <h5>1 Rocket Fuel Gives You</h5>\r\n                  <div\r\n                    style={ {\r\n                      width: \"100%\",\r\n                      height: \"1px\",\r\n                      backgroundColor: \"var(--light-bg-colour)\",\r\n                    } }\r\n                  ></div>\r\n                  <ul\r\n                    style={ {\r\n                      margin: \"1rem\",\r\n                    } }\r\n                  >\r\n                    <li>+250 characters per messages</li>\r\n                    <li>\r\n                      Bigger monthly upload limit (500 MB)\r\n                    </li>\r\n                    <li>Blast Profile Badge (stays forever!)</li>\r\n                    <li>Custom backgrounds</li>\r\n                    <li>Gift Rocket Fuel to other users via DMs</li>\r\n                    <li>and much more to come!</li>\r\n                  </ul>\r\n                </div>\r\n                <div\r\n                  style={ {\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\",\r\n                  } }\r\n                >\r\n                  <h5>\r\n                    Need fuel?{ \" \" }\r\n                    <img\r\n                      src={ fuelIcon }\r\n                      height=\"20px\"\r\n                      alt=\"\"\r\n                      className=\"icon\"\r\n                    />\r\n                  </h5>\r\n                  <button\r\n                    id=\"fuel\"\r\n                    className=\"subbutton\"\r\n                    onClick={ () => user\r\n                      ? setmenupage(\"buy\") : history.push(\r\n                        \"/login?\" + new URLSearchParams({ to: \"/blast\" })\r\n                      ) }\r\n                  >\r\n                    Buy Rocket Fuel{ \" \" }\r\n                    <img\r\n                      src={ fuelIcon }\r\n                      height=\"25px\"\r\n                      alt=\"\"\r\n                      className=\"icon\"\r\n                    />\r\n                  </button>\r\n                </div>\r\n                <div\r\n                  style={ {\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\",\r\n                  } }\r\n                >\r\n                  <h5>\r\n                    Ready to go to space?{ \" \" }\r\n                    <img\r\n                      src={ blastIcon }\r\n                      height=\"20px\"\r\n                      alt=\"\"\r\n                      className=\"icon\"\r\n                    />\r\n                  </h5>\r\n                  <StartButton\r\n                    onClick={ () =>\r\n                      user\r\n                        ? max > 0\r\n                          ? setmenupage(\"start\")\r\n                          : user?.rocketFuel > 0 ?\r\n                            notifications.addNotification({\r\n                              title: \"Unable to Add More Fuel!\",\r\n                              message: \"Sorry, you have reached the monthly Blast limit, you may add Rocket Fuel when this months Rocket Fuel has ran out.\",\r\n                              type: \"danger\",\r\n                              insert: \"top\",\r\n                              container: \"top-right\",\r\n                              animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                              animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                              dismiss: {\r\n                                pauseOnHover: true,\r\n                                duration: 5000,\r\n                                onScreen: true,\r\n                              },\r\n                            }) : window.location.replace(\"#fuel\")\r\n                        : history.push(\r\n                          \"/login?\" + new URLSearchParams({ to: \"/blast\" })\r\n                        )\r\n                    }\r\n                  />\r\n                </div>\r\n              </>\r\n            ) : menupage === \"start\" ? (\r\n              <>\r\n                <FontAwesomeIcon\r\n                  icon={ faTimes }\r\n                  onClick={ () => setmenupage(\"main\") }\r\n                  style={ {\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"30px\",\r\n                    float: \"right\",\r\n                  } }\r\n                />\r\n                <h1 style={ { textAlign: \"center\" } }>\r\n                  Start Blast{ \" \" }\r\n                  <img\r\n                    src={ blastIcon }\r\n                    height=\"35px\"\r\n                    alt=\"\"\r\n                    className=\"icon\"\r\n                  />\r\n                </h1>\r\n                <div\r\n                  style={ {\r\n                    display: \"grid\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    alignContent: \"space-evenly\",\r\n                  } }\r\n                >\r\n                  <label htmlFor=\"RF\">\r\n                    How much Rocket Fuel do you want to spend? (max { max })\r\n                  </label>\r\n                  <input\r\n                    id=\"RF\"\r\n                    type=\"number\"\r\n                    min={ fuel.current }\r\n                    max={ max }\r\n                    defaultValue=\"1\"\r\n                    onBlur={ (e: any) => {\r\n                      e.target.value = Math.floor(\r\n                        e.target.value > max\r\n                          ? max\r\n                          : e.target.value < 1\r\n                            ? 1\r\n                            : e.target.value);\r\n                    } }\r\n                    onChange={ (e: any) => {\r\n                      fuel.current = Math.floor(e.target.value > max\r\n                        ? max\r\n                        : e.target.value < 1\r\n                          ? 1\r\n                          : e.target.value)\r\n                    } }\r\n                  ></input>\r\n                  <StartButton onClick={ () => {\r\n                    setmenupage(\"TY\")\r\n                    const formdata = new FormData()\r\n                    formdata.append(\"fuel\", JSON.stringify(fuel.current))\r\n                    fetch(\"/api/startrocketfuel\", {\r\n                      method: \"POST\",\r\n                      body: formdata\r\n                    }).then(console.log);\r\n                  } }></StartButton>\r\n                </div>\r\n              </>\r\n            ) : menupage === \"TY\" ? (\r\n              <>\r\n                <FontAwesomeIcon\r\n                  icon={ faTimes }\r\n                  onClick={ () => setmenupage(\"main\") }\r\n                  style={ {\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"30px\",\r\n                    float: \"right\",\r\n                  } }\r\n                />\r\n                <h1 style={ { textAlign: \"center\" } }>Thank you</h1>\r\n                <div\r\n                  style={ {\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\",\r\n                  } }\r\n                >\r\n                  <p style={ { textAlign: \"center\" } }>\r\n                    Thank you { user.username }, the TypeChat team hope you like\r\n                    Blast. If there are any suggestions, issues or complains,\r\n                    please contact{ \" \" }\r\n                    <a\r\n                      target=\"blank_\"\r\n                      href=\"/chat/TypeChat\"\r\n                      style={ { color: \"var(--secondary-text-colour)\" } }\r\n                    >\r\n                      the offical TypeChat account\r\n                    </a>\r\n                    !\r\n                  </p>\r\n                </div>\r\n              </>\r\n            ) : menupage === \"buy\" ? <>\r\n              <GoogleReCaptcha\r\n                onVerify={ (token) => {\r\n                  setRecapToken(token);\r\n                } }\r\n              />\r\n              <FontAwesomeIcon\r\n                icon={ faTimes }\r\n                onClick={ () => setmenupage(\"main\") }\r\n                style={ {\r\n                  cursor: \"pointer\",\r\n                  fontSize: \"30px\",\r\n                  float: \"right\",\r\n                } }\r\n              />\r\n              <h1 style={ { textAlign: \"center\" } }>Buy Rocket Fuel{ \" \" }\r\n                <img\r\n                  src={ fuelIcon }\r\n                  height=\"35px\"\r\n                  alt=\"\"\r\n                  className=\"icon\"\r\n                /></h1><div style={ { textAlign: \"end\" } }>\r\n                <h3>\r\n                  { price?.toFixed(2) } /\r\n                  Rocket Fuel{ \" \" }\r\n                  <img\r\n                    src={ fuelIcon }\r\n                    height=\"35px\"\r\n                    alt=\"\"\r\n                    className=\"icon\"\r\n                  />\r\n                </h3>\r\n                { data.sale ? (\r\n                  <h4>\r\n                    <p>\r\n                      { Math.round(data.sale * 100) }% off{ \" \" }\r\n                      <img\r\n                        src={ meteorites }\r\n                        height=\"35px\"\r\n                        alt=\"\"\r\n                        className=\"icon\"\r\n                      />\r\n                    </p>\r\n                    <p style={ { fontSize: \"15px\" } }>\r\n                      ends on the { ends }\r\n                      { String(ends).endsWith(\"1\")\r\n                        ? \"st\"\r\n                        : String(ends).endsWith(\"2\")\r\n                          ? \"nd\"\r\n                          : String(ends).endsWith(\"1\")\r\n                            ? \"rd\"\r\n                            : \"th\" }\r\n                    </p>\r\n                    <p style={ { fontSize: \"10px\" } }>\r\n                      (was { (data.price / 100).toFixed(2) })\r\n                    </p>\r\n                  </h4>\r\n                ) : (\r\n                  <></>\r\n                ) }\r\n              </div>\r\n              <div\r\n                style={ {\r\n                  display: \"grid\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  alignContent: \"space-evenly\",\r\n                } }\r\n              >\r\n                <label htmlFor=\"RF\">\r\n                  How much Rocket Fuel do you want to buy? (max 1000)\r\n                </label>\r\n                <input\r\n                  id=\"RF\"\r\n                  type=\"number\"\r\n                  max=\"1000\"\r\n                  defaultValue={ buyfuel }\r\n                  onBlur={ (e: any) => {\r\n                    e.target.value = Math.floor(\r\n                      e.target.value > 1000\r\n                        ? 1000\r\n                        : e.target.value < 1\r\n                          ? 1\r\n                          : e.target.value);\r\n                  } }\r\n                  onChange={ (e: any) => {\r\n                    setbuyfuel(Math.floor(e.target.value > 1000\r\n                      ? 1000\r\n                      : e.target.value < 1\r\n                        ? 1\r\n                        : e.target.value))\r\n                  } }\r\n                ></input></div>\r\n              <div\r\n                style={ {\r\n                  borderRadius: \"10px\",\r\n                  backgroundColor: \"white\",\r\n                  padding: \"1rem\",\r\n                  margin: \"1rem 0\",\r\n                } }\r\n              >\r\n                <h2 style={ { textAlign: \"end\", color: \"var(--dark-mode)\" } }>Total: { (Number(price) * buyfuel).toFixed(2) }</h2>\r\n                { recapToken ? <PayPalButton\r\n                  amount={ (Number(price) * buyfuel).toFixed(2) }\r\n                  shippingPreference=\"NO_SHIPPING\"\r\n                  onApprove={ async (data: { orderID: string | Blob; payerID: string | Blob; }, actions: { order: { capture: () => Promise<any>; }; }) => {\r\n                    // Capture the funds from the transaction\r\n                    console.log(actions)\r\n                    const formdata = new FormData();\r\n                    formdata.append(\r\n                      \"orderID\", data.orderID);\r\n                    formdata.append(\r\n                      \"payerID\", data.payerID);\r\n                    formdata.append(\"g-recaptcha-response\", recapToken);\r\n                    formdata.append(\"quantity\", JSON.stringify(buyfuel));\r\n                    console.log(data);\r\n                    return await fetch(\"/api/paypal-buy-rocket-fuel\", {\r\n                      method: \"post\",\r\n                      body: formdata\r\n                    }).then(async (resp) => {\r\n                      if (resp.status === 200) {\r\n                        ReactGA.event({\r\n                          category: \"blast\",\r\n                          action: \"buy rocket fuel\",\r\n                          label: JSON.stringify(buyfuel)\r\n                        })\r\n                        console.log(\"success\")\r\n                        setmenupage(\"buyTY\")\r\n                      } else {\r\n                        console.log(\"error\")\r\n                        notifications.addNotification({\r\n                          title: \"Failed!\",\r\n                          message: \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\r\n                          type: \"danger\",\r\n                          insert: \"top\",\r\n                          container: \"top-right\",\r\n                          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                        })\r\n                      }\r\n                    }).catch(() =>\r\n                      notifications.addNotification({\r\n                        title: \"Failed!\",\r\n                        message: \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\r\n                        type: \"danger\",\r\n                        insert: \"top\",\r\n                        container: \"top-right\",\r\n                        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                      }));\r\n                  } }\r\n                  onError={ () => {\r\n                    notifications.addNotification({\r\n                      title: \"Failed!\",\r\n                      message: \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\r\n                      type: \"danger\",\r\n                      insert: \"top\",\r\n                      container: \"top-right\",\r\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                      dismiss: {\r\n                        pauseOnHover: true,\r\n                        duration: 5000,\r\n                        onScreen: true,\r\n                      },\r\n                    })\r\n                  } } currency={ \"GBP\" }\r\n                  options={ {\r\n                    currency: \"GBP\", \"clientId\": !process.env.NODE_ENV || process.env.NODE_ENV === 'development' ? \"AeuWaW6AFfWlxVmxWYsof3Z9Gl6a055HPJh_UQO-0v1Fb5I12UYwteo_JsiitmIncsQETAu0Yw81wfH0\" : \"Afdcs6hnKtTzRMY5fV_hT60anRq51JteUwrlpchS3Rs3LyEp6a33tqWmhhzj6jMkq6ZdpWmAcwB2Bkmg\"\r\n                  } }\r\n                /> : <></> }{ !process.env.NODE_ENV || process.env.NODE_ENV === 'development' ? <p style={ { color: \"red\" } }>dev mode</p> : <></> }</div>\r\n            </> :\r\n              <>\r\n                <FontAwesomeIcon\r\n                  icon={ faTimes }\r\n                  onClick={ () => setmenupage(\"main\") }\r\n                  style={ {\r\n                    cursor: \"pointer\",\r\n                    fontSize: \"30px\",\r\n                    float: \"right\",\r\n                  } }\r\n                />\r\n                <h1 style={ { textAlign: \"center\" } }>Thank you for your purchase!</h1>\r\n                <div\r\n                  style={ {\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\",\r\n                  } }\r\n                ><h4>You were charged: { (Number(price) * buyfuel).toFixed(2) } for { buyfuel } Rocket Fuel.</h4>\r\n                  <div style={ { height: \"1px\", width: \"100%\", background: \"var(--light-bg-colour)\", margin: \"0 0 1rem 0\" } } />\r\n                  <p style={ { textAlign: \"center\" } }>\r\n                    Thank you { user.username }, the TypeChat team hope you like\r\n                    Blast. You will see the Rocket Fuel add to your account shortly. If there are any issues about the transaction, please contact{ \" \" }\r\n                    <a\r\n                      target=\"blank_\"\r\n                      href=\"/chat/TypeChat\"\r\n                      style={ { color: \"var(--secondary-text-colour)\" } }\r\n                    >\r\n                      the offical TypeChat account\r\n                    </a>\r\n                    !\r\n                  </p>\r\n                </div>\r\n              </>\r\n            }\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )\r\n      }\r\n    </div >\r\n  );\r\n}\r\nconst exportedObject = { Blast };\r\n\r\nexport default exportedObject;\r\n","function TandC() {\r\n    return <div\r\n        style={ {\r\n            margin: \"1rem auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n            padding: \"1rem\",\r\n            maxWidth: \"700px\",\r\n            textAlign: \"center\"\r\n        } }\r\n    >\r\n        <h1>T & C</h1>\r\n        <p>By Creating an account you agree to the following</p>\r\n        <div\r\n            style={ {\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"1rem\",\r\n                margin: \"1rem\",\r\n                textAlign: \"start\"\r\n            } }\r\n        >\r\n            <h5>What we expect from you</h5>\r\n            <div\r\n                style={ {\r\n                    width: \"100%\",\r\n                    height: \"1px\",\r\n                    backgroundColor: \"var(--light-bg-colour)\",\r\n                } }\r\n            ></div>\r\n            <ul\r\n                style={ {\r\n                    margin: \"1rem\",\r\n                } }\r\n            >\r\n                <li>to not use the app for illigal activity</li>\r\n                <li>keep all users on the app feeling save and secure</li>\r\n                <li>to report people who break any rules to the offical TypeChat account</li>\r\n            </ul>\r\n        </div>\r\n        <div\r\n            style={ {\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"1rem\",\r\n                margin: \"1rem\",\r\n                textAlign: \"start\"\r\n            } }\r\n        >\r\n            <h5>What you should expect from us</h5>\r\n            <div\r\n                style={ {\r\n                    width: \"100%\",\r\n                    height: \"1px\",\r\n                    backgroundColor: \"var(--light-bg-colour)\",\r\n                } }\r\n            ></div>\r\n            <ul\r\n                style={ {\r\n                    margin: \"1rem\",\r\n                } }\r\n            >\r\n                <li>to keep your personal infomation save and secure from hackers</li>\r\n                <li>to make sure you feel save at all time while using the app</li>\r\n            </ul>\r\n        </div>\r\n        <div\r\n            style={ {\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"1rem\",\r\n                margin: \"1rem\",\r\n                textAlign: \"start\"\r\n            } }\r\n        >\r\n            <h5>Important info</h5>\r\n            <div\r\n                style={ {\r\n                    width: \"100%\",\r\n                    height: \"1px\",\r\n                    backgroundColor: \"var(--light-bg-colour)\",\r\n                } }\r\n            ></div>\r\n            <ul\r\n                style={ {\r\n                    margin: \"1rem\",\r\n                } }\r\n            >\r\n                <li>we use <a target=\"blank\" href=\"https://analytics.google.com/\" style={ { color: \"var(--secondary-text-colour)\" } }>google analytics</a> and <a target=\"blank\" href=\"https://logrocket.com/\" style={ { color: \"var(--secondary-text-colour)\" } }>logrocket</a> to debug and to help keep our app running</li>\r\n                <li>\r\n                    any illigal activity found, can be used against you.\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <p>the offical TypeChat account will never ask for your password!</p>\r\n        <p>also try not to get rick rolled</p>\r\n    </div>\r\n}\r\n\r\nexport default TandC","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"./pages/css/toggleswitch.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./pages/css/scrollbar.css\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport { data as datahook } from \"./hooks/datahook\";\r\nimport PageNav from \"./pages/Navbar\";\r\nimport { GoogleReCaptchaProvider } from \"react-google-recaptcha-v3\";\r\nimport \"./colourPallete.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport useApi from \"./hooks/useapi\";\r\nimport Loader from \"./pages/loader\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Chat from \"./pages/Chat\";\r\nimport \"./pages/css/highlight.css\";\r\nimport Error404 from \"./pages/404\";\r\nimport useLocalStorage from \"./hooks/useLocalStorage\";\r\nimport UserSettings from \"./pages/usersettings\";\r\nimport snooze from \"./snooze\";\r\nimport Contacts from \"./pages/contacts\";\r\nimport ReactNotification, {\r\n  ReactNotificationOptions,\r\n  store,\r\n} from \"react-notifications-component\";\r\n\r\nimport \"react-notifications-component/dist/theme.css\";\r\nimport AddPeople from \"./pages/addpeople\";\r\nimport NotificationComponent from \"./notification\";\r\nimport LoadError from \"./pages/error\";\r\nimport Settings from \"./pages/settings\";\r\nimport Verify from \"./pages/Verify\";\r\nimport LinkDiscord from \"./pages/LinkDiscord\";\r\nimport Drive from \"./pages/Drive\";\r\nimport RequestNewPassword from \"./pages/requestNewPassword\";\r\nimport Blast from \"./pages/blast\";\r\nimport ReactGA from \"react-ga4\";\r\nimport LogRocket from 'logrocket';\r\nimport TandC from \"./pages/T&C\";\r\nLogRocket.init('b1hvjh/typechat');\r\n\r\nif (!(!process.env.NODE_ENV || process.env.NODE_ENV === 'development')) ReactGA.initialize(\"G-26D01FTK1T\");\r\n\r\n\r\nif (!JSON.parse(String(localStorage.getItem(\"tabCount\")))) {\r\n  localStorage.setItem(\"tabCount\", JSON.stringify(0));\r\n}\r\nlocalStorage.setItem(\r\n  \"tabCount\",\r\n  JSON.stringify(JSON.parse(String(localStorage.getItem(\"tabCount\"))) + 1)\r\n);\r\n\r\nif (window.navigator && navigator.serviceWorker) {\r\n  navigator.serviceWorker.getRegistrations().then(function (registrations) {\r\n    for (let registration of registrations) {\r\n      registration.unregister();\r\n    }\r\n  });\r\n}\r\nwindow.onunload = function () {\r\n  if (\r\n    \"serviceWorker\" in navigator &&\r\n    JSON.parse(String(localStorage.getItem(\"tabCount\"))) - 1 <= 0\r\n  ) {\r\n    navigator.serviceWorker\r\n      .register(\"/sw.js\", { scope: \"/\" })\r\n      .catch(console.error);\r\n  }\r\n  localStorage.setItem(\r\n    \"tabCount\",\r\n    JSON.stringify(JSON.parse(String(localStorage.getItem(\"tabCount\"))) - 1)\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  const { data, error, loading, reload } = useApi<any>(\"/api/userdata\");\r\n  const [navbarsize, setnavbarsize] = useState({ width: 0, height: 0 });\r\n  const [chattingto, setchattingto] = useLocalStorage(\"chattingto\", null);\r\n  const [getuserdataonupdate, setgetuserdataonupdate] = useState(false);\r\n  const [userdata, setuserdata] = useState(data);\r\n  const [catchedcontacts, setcachedcontacts] = useState<any>(null);\r\n  useEffect(() => {\r\n    setuserdata(data);\r\n  }, [data]);\r\n  useEffect(() => {\r\n    if (\"Notification\" in window && userdata?.loggedin) {\r\n      if (Notification.permission === \"default\") {\r\n        Notification.requestPermission();\r\n      }\r\n    }\r\n    (async () => {\r\n      try {\r\n        if (!getuserdataonupdate && userdata.loggedin) {\r\n          setgetuserdataonupdate(true);\r\n          const response = await (\r\n            await fetch(\"/api/getuserdataonupdate\")\r\n          ).json();\r\n          if (!response.reconnect) {\r\n            setuserdata(response);\r\n          }\r\n          setgetuserdataonupdate(false);\r\n        }\r\n      } catch {\r\n        await snooze(1000);\r\n        setgetuserdataonupdate(false);\r\n      }\r\n    })();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (userdata?.loggedin) {\r\n      console.log(userdata.user)\r\n      LogRocket.identify(userdata.user.id, {\r\n        name: `${userdata.user.username}#${userdata.user.tag}`\r\n      });\r\n    }\r\n  }, [userdata])\r\n  function NotificationAPI(\r\n    options: ReactNotificationOptions,\r\n    onclick: () => {}\r\n  ) {\r\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\r\n      const notify = new Notification(String(options.title), {\r\n        body: String(options.message),\r\n        icon: \"/logo.png\",\r\n      });\r\n      notify.addEventListener(\"click\", onclick);\r\n    } else {\r\n      store.addNotification(options);\r\n    }\r\n  }\r\n  return (\r\n    <GoogleReCaptchaProvider reCaptchaKey=\"6LcHJdYcAAAAAHmOyGZbVAVkLNdeG0Pe2Rl3RVDV\">\r\n      <Router>\r\n        <div style={ { overflowWrap: \"anywhere\" } }>\r\n          { error || loading ? (\r\n            error ? (\r\n              <LoadError error={ String(error) }></LoadError>\r\n            ) : (\r\n              <Loader></Loader>\r\n            )\r\n          ) : (\r\n            <datahook.Provider\r\n              value={ {\r\n                loggedin: userdata.loggedin,\r\n                user: userdata.user,\r\n                rechecklogged: reload,\r\n                setnavbarsize,\r\n                navbarsize,\r\n                chattingto,\r\n                setchattingto,\r\n                notifications: store,\r\n                catchedcontacts,\r\n                setcachedcontacts,\r\n                NotificationAPI,\r\n              } }\r\n            >\r\n              <PageNav />\r\n              <ReactNotification />\r\n              <NotificationComponent />\r\n              <div>\r\n                <Switch>\r\n                  <Route path=\"/\" exact>\r\n                    <Home />\r\n                  </Route>\r\n                  <Route path=\"/chat\" exact>\r\n                    <Redirect to={ chattingto ? `/chat/${chattingto}` : \"/\" } />\r\n                  </Route>\r\n                  <Route\r\n                    path=\"/chat/:id\"\r\n                    render={ ({ match }) => (\r\n                      <Chat key={ match.params.id } isGroupChat={ false } />\r\n                    ) }\r\n                    exact\r\n                  ></Route>\r\n                  <Route path=\"/contacts\" exact>\r\n                    <Contacts />\r\n                  </Route>\r\n                  <Route path=\"/blast\" exact>\r\n                    <Blast.Blast />\r\n                  </Route>\r\n                  <Route path=\"/T&C\" exact>\r\n                    <TandC />\r\n                  </Route>\r\n                  <Route path=\"/verify/:id\" exact>\r\n                    <Verify />\r\n                  </Route>\r\n                  <Route path=\"/settings\" exact>\r\n                    <Settings />\r\n                  </Route>\r\n                  <Route path=\"/login\" exact>\r\n                    <Login />\r\n                  </Route>\r\n                  <Route path=\"/link/:id\" exact>\r\n                    <LinkDiscord />\r\n                  </Route>\r\n                  <Route path=\"/signup\" exact>\r\n                    <Signup />\r\n                  </Route>\r\n                  <Route path=\"/user/drive\" exact>\r\n                    <Drive.Drive />\r\n                  </Route>\r\n                  <Route path=\"/drive/:id\" exact>\r\n                    <Drive.Image />\r\n                  </Route>\r\n                  <Route path=\"/requestNewPassword\" exact>\r\n                    <RequestNewPassword.RequestNewPassword />\r\n                  </Route>\r\n                  <Route path=\"/updatepassword/:id\" exact>\r\n                    <RequestNewPassword.ChangePassword />\r\n                  </Route>\r\n\r\n                  <Route path=\"/user/settings\" exact>\r\n                    <UserSettings />\r\n                  </Route>\r\n                  <Route path=\"/add\" exact>\r\n                    <AddPeople></AddPeople>\r\n                  </Route>\r\n                  <Route>\r\n                    <Error404></Error404>\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n            </datahook.Provider>\r\n          ) }\r\n        </div>\r\n      </Router>\r\n    </GoogleReCaptchaProvider>\r\n  );\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"app\")\r\n);\r\nreportWebVitals();\r\nexport default App;\r\n"],"sourceRoot":""}