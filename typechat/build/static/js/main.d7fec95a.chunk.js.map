{"version":3,"sources":["hooks/datahook.tsx","pages/images/app page.png","pages/Home.tsx","pages/loader.tsx","images/logos/TS.svg","pages/RouterForm.tsx","cookies.tsx","pages/Login.tsx","images/logos/TypeChat.svg","hooks/usescreensize.tsx","playsound.ts","pages/Navbar.tsx","reportWebVitals.ts","hooks/useapi.tsx","pages/Signup.tsx","hooks/useLocalStorage.tsx","emojis.ts","notifier.tsx","pages/Chat.tsx","pages/404.tsx","pages/profilePage.tsx","bytesToHumanReadable.ts","pages/usersettings.tsx","snooze.ts","pages/error.tsx","pages/contacts.tsx","pages/addpeople.tsx","notification.tsx","pages/switch.tsx","pages/settings.tsx","pages/images/Blast icon.svg","pages/images/fuel-pump.svg","pages/images/meteorites.svg","pages/images/planet.svg","pages/images/planet1.svg","pages/images/planet2.svg","pages/images/solar-system.svg","pages/images/satellite.svg","pages/images/satellite1.svg","pages/images/satellite2.svg","pages/blast.tsx","pages/Verify.tsx","pages/LinkDiscord.tsx","pages/Drive.tsx","pages/requestNewPassword.tsx","index.tsx"],"names":["data","createContext","undefined","useData","useContext","Home","loggedin","to","style","margin","fontSize","color","width","backgroundColor","height","textAlign","overflow","className","alt","src","appPage","maxWidth","Loader","display","marginTop","justifyContent","RouterForm","action","beforecallback","callback","children","appendtoformdata","fd","onerror","e","console","error","onSubmit","a","preventDefault","FormData","index","target","length","element","type","file","files","append","name","value","checked","newformdata","fetch","method","body","json","result","Cookies","Login","rechecklogged","useState","seterror","history","useHistory","location","useLocation","query","parse","search","slice","loading","setloading","redirect","Array","isArray","push","logo","borderRadius","fontFamily","icon","faSignInAlt","email","test","String","toLowerCase","resp","cookies","set","token","path","expires","Date","now","err","placeholder","background","borderTop","borderRight","borderBottom","borderLeft","borderImage","marginBottom","paddingBottom","padding","border","boxShadow","useWindowSize","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","hasshownmuted","url","localallowed","localStorage","getItem","JSON","localvol","vol","hasplayed","audio","Howl","volume","on","play","setTimeout","pause","store","addNotification","title","onRemoval","message","insert","animationIn","animationOut","container","dismiss","duration","pauseOnHover","onScreen","playSound","PageNav","Navbarref","useRef","navbarsize","useComponentSize","user","setnavbarsize","chattingto","Navbar","ref","bg","variant","fixed","top","isElectron","Brand","onPointerDown","onPointerUp","as","Link","bigLogo","smallLogo","Nav","pathname","faComment","faUserFriends","faPlus","onClick","open","faDiscord","faRocket","faCog","Dropdown","Toggle","profilePic","Menu","alignRight","Item","faUserCog","faPhotoVideo","remove","removeItem","faSignOutAlt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useApi","setData","setLoading","request","setrequest","setError","laststamp","time","getTime","current","reload","Signup","profile","setprofile","faAddressCard","imageWidth","onCrop","dataURL","fetched","blob","labelStyle","onClose","exportMimeType","exportSize","exportQuality","exportAsSquare","autoComplete","useLocalStorage","key","initialValue","readValue","item","warn","storedValue","setStoredValue","handleStorageChange","newValue","setItem","stringify","dispatchEvent","Event","emoji","onclick","URLSearchParams","text","notify","chatSettings","isGroupChat","usersContext","exists","users","random","seed","x","Math","sin","floor","numToSSColumn","num","t","s","fromCharCode","videoSites","MetaPage","decoratedText","decoratedHref","mine","urldata","URL","href","hostname","marginRight","aspectRatio","minHeight","size","domain","description","image","MessageFaviconOrVideoRenderer","links","map","Fragment","includes","controls","Message","messages","i","toscroll","scrolltobottom","sendJsonMessage","deleteFromID","editFromID","lastmessage","editing","setediting","mimetype","onlyemojis","from","str","ranges","join","replace","RegExp","removeEmoji","onlyContainsEmojis","donekeys","shiftkey","submitref","messageref","log","id","ID","tempid","opacity","tempmessage","onInput","trim","click","messagetoarray","onKeyDown","keyCode","shiftKey","autoFocus","resize","maxRows","defaultValue","split","componentDecorator","edited","float","maxHeight","onLoad","playsInline","cursor","faFile","toLocaleString","navigator","clipboard","writeText","protocol","host","faCopy","faTrash","faTimes","faPencilAlt","MessageMaker","typingdata","scrollref","canloadmore","loadingmore","loadmore","chatUpdateID","output","useMemo","alignSelf","username","marginLeft","timeEnd","useParams","faketext","specialchars","onscroll","document","documentElement","scrollHeight","scrollTop","clientHeight","typing","textShadow","ChatNotFound","position","left","transform","faSadCry","faCommentSlash","ChatPage","bypassChars","chats","setchats","isFocussed","useWindowFocus","notifications","NotificationAPI","usersdata","setusersdata","picture","groupchatdata","oldmetypingdata","setoldmetypingdata","metypingdata","setmetypingdata","socketUrl","settypingdata","isonline","setisonline","metypinglengthref","metypingref","typingTimer","inputref","scrollerref","bottomref","loadingchatmessages","setloadingchatmessages","setcanloadmore","setloadingmore","isLoadMore","setChatUpdateID","personaltyping","Recipienttyping","SendSound","ReceiveSound","localchats","setlocalchats","sendFile","formdata","removeNotification","concat","listenerfunction","event","items","clipboardData","originalEvent","kind","getAsFile","oldmessagsize","setoldmessagesize","messagesize","StartMessagesLength","ceil","doneTyping","splice","useWebSocket","shouldReconnect","reconnectInterval","lastJsonMessage","readyState","scrollingElement","scrollY","offsetHeight","scrollTo","fileref","formref","max","input","limit","substring","_","mobile","userAgent","online","lastheight","focus","onload","ReadyState","OPEN","UNINSTANTIATED","Provider","zIndex","faDesktop","faMobileAlt","faEyeSlash","handleKeys","onKeyEvent","start","bottom","clearTimeout","faPaperPlane","Chat","Error404","faFileCode","ProfilePage","r","g","b","backgroundcolour","setbackgroundcolour","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","ColorThief","getColor","WebkitTextStroke","fontWeight","tag","aboutme","humanFileSize","bytes","si","dp","thresh","abs","units","u","round","toFixed","ReactTimeago","date","days","hours","minutes","seconds","Changebutton","clickable","Modal","setAppElement","UserSettings","backgroundinputref","uploadlimitdata","uploadlimitloading","uploadlimiterror","uploading","setuploading","setbackgroundImage","UsernameModelIsOpen","setUsernameModelIsOpen","ProfileModelIsOpen","setProfileModelIsOpen","Number","limitused","filelimit","timeleft","faPen","isOpen","onRequestClose","onAfterOpen","overlay","content","right","contentLabel","onChange","createObjectURL","accept","trimStart","snooze","milliseconds","Promise","resolve","LoadError","errordataurl","faExclamationTriangle","colorThief","Contact","holdref","UserModelIsOpen","setUserModelIsOpen","onTouchMove","clearInterval","textOverflow","whiteSpace","Contacts","setsearch","localcontacts","setlocalcontacts","contacts","onKeyUp","contact","toUpperCase","UserListing","friends","faUserPlus","AddPeople","q","toString","friendrequests","delay","onError","onScan","scan","NotificationComponent","sound","ToggleSwitch","defaultChecked","Setting","Settings","soundEffects","setSoundEffects","setpersonaltyping","setRecipienttyping","setSendSound","setReceiveSound","setVolume","discord","setdiscord","setemail","paddingTop","min","range","startAt","keys","Star","y","animationDelay","Galaxy","Planet","Satellite","Blast","price","sale","xalien","yalien","plant","plant1","plant2","solarsystem","satellite","satellite1","satellite2","blastIcon","fuelIcon","meteorites","disabled","Verify","verified","LinkDiscord","linked","FilePreview","fname","ext","lastIndexOf","textDecoration","startsWith","verticalAlign","lineHeight","exports","Drive","filename","alignItems","flexDirection","flexWrap","alignContent","Image","response","link","createElement","download","catch","faDownload","RequestNewPassword","faKey","ChangePassword","App","setchattingto","getuserdataonupdate","setgetuserdataonupdate","userdata","setuserdata","catchedcontacts","setcachedcontacts","Notification","permission","requestPermission","reconnect","overflowWrap","options","exact","render","match","params","ReactDOM","StrictMode","getElementById"],"mappings":"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A,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4B,uDC/vDF,WAAsBzG,EAAeE,EAAiBwG,GAAtD,SAAA3M,EAAA,sEAEUe,MAAM,iBAAD,OAAkB,IAAI6L,gBAAgB,CAAE3G,QAAOE,cAF9D,8BAGI0G,OAHJ,OAIe,UAJf,QAKIF,IALJ,4C,sBASeG,O,kGCwCTC,GAAepP,wBAAc,CAAEqP,aAAa,EAAOxC,KAAM,IACzDyC,GAAetP,wBAGlB,CAAEuP,QAAQ,EAAOC,MAAO,KAc3B,SAASC,GAAOC,GACd,IAAIC,EAAqB,IAAjBC,KAAKC,IAAIH,GACjB,OAAOC,EAAIC,KAAKE,MAAMH,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","file":"static/js/main.d7fec95a.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\r\n\r\nconst data = createContext<any>(undefined);\r\nconst useData = () => useContext(data);\r\nexport { data, useData };\r\n","export default __webpack_public_path__ + \"static/media/app page.27ce18a4.png\";","import { Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport appPage from \"./images/app page.png\";\r\nimport \"./css/home.css\"\r\n\r\nfunction Home() {\r\n  const { loggedin } = useData();\r\n  if (!loggedin) {\r\n    return (\r\n      <>\r\n        <div style={{margin: \"1rem\"}}>\r\n        <h1 style={{fontSize:\"75px\", color: \"var(--primary-text-colour)\"}}>Hello.</h1>\r\n        <h1 style={{ color: \"var(--secondary-text-colour)\"}}>Welcome to TypeChat.</h1>\r\n        <p>\r\n          Type to your friends. Powered by TypeScript.\r\n        </p>\r\n        </div>\r\n        <div style={{width: \"100%\", backgroundColor: \"var(--main-bg-colour)\", height: \"1px\"}}></div>\r\n        <div style={{textAlign: \"center\", margin: \"1rem\", width: \"calc(100vw - 2rem)\", overflow: \"hidden\"}}><h3>Add to your homepage to get the best mobile experience!</h3><img className=\"slideinimage\" alt=\"phone app\" src={appPage} style={{width: \"100%\", maxWidth: \"350px\"}}></img></div>\r\n      </>\r\n    );\r\n  }\r\n  return <Redirect to=\"/contacts\"></Redirect>;\r\n}\r\n\r\nexport default Home;\r\n","import \"./css/loader.css\";\r\nimport \"./css/center.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        marginTop: \"5rem\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","export default __webpack_public_path__ + \"static/media/TS.6e2a4395.svg\";","import react from \"react\"\r\n\r\nexport function RouterForm({\r\n  action,\r\n  beforecallback,\r\n  callback,\r\n  children,\r\n  style,\r\n  appendtoformdata = (fd: FormData) => {\r\n    return fd;\r\n  },\r\n  onerror = (e: any) => {\r\n    console.error(e);\r\n  },\r\n}: {\r\n  action: string;\r\n  beforecallback: (e: any) => boolean | undefined;\r\n  callback(responce: any): void;\r\n  children: any; style?: react.CSSProperties;\r\n  appendtoformdata?(fd: FormData): FormData; onerror?(e: any): void\r\n}): JSX.Element {\r\n  return (\r\n    <form\r\n      style={style}\r\n      onSubmit={async (e: any) => {\r\n        e.preventDefault();\r\n        if (beforecallback(e)) {\r\n          const fd = new FormData();\r\n          for (let index = 0; index < e.target.length; index++) {\r\n            const element = e.target[index];\r\n            if (element.type !== \"submit\") {\r\n              if (element.type === \"file\") {\r\n                for (let file = 0; file < element.files.length; file++) {\r\n                  fd.append(element.name, element.files[file]);\r\n                }\r\n              } else if (\r\n                element.type !== \"radio\" &&\r\n                element.type !== \"checkbox\"\r\n              ) {\r\n                fd.append(element.name, element.value);\r\n              } else if (element.checked) {\r\n                fd.append(element.name, element.checked);\r\n              }\r\n            }\r\n          }\r\n          const newformdata = appendtoformdata(fd);\r\n          try {\r\n            const result = await (\r\n              await fetch(action, {\r\n                method: \"POST\",\r\n                body: newformdata,\r\n              })\r\n            ).json();\r\n            callback(result);\r\n          } catch (e) {\r\n            onerror(e);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {children}\r\n    </form>\r\n  );\r\n}\r\n","import Cookies from 'universal-cookie';\r\n\r\n\r\nexport default new Cookies();","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Login() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const location = useLocation()\r\n  const query: { [key: string]: string | string[] } = parse(location.search.slice(1))\r\n  const [loading, setloading] = useState(false);\r\n  const redirect = query.to ? Array.isArray(query.to) ? query.to[0] : query.to : \"/\"\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n          alt=\"logo\"\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faSignInAlt}></FontAwesomeIcon> Login\r\n        </h1>\r\n        <RouterForm\r\n          action={\"/login\"}\r\n          beforecallback={(e: any) => {\r\n            if (e.target[0].value !== \"\" && e.target[1].value !== \"\") {\r\n              if (validateEmail(e.target[0].value)) {\r\n                setloading(true);\r\n                return true;\r\n              } else {\r\n                seterror(\"input a valid email!\");\r\n              }\r\n            } else {\r\n              seterror(\"input an email and password!\");\r\n            }\r\n          }}\r\n          style={{\r\n            width: \"fit-content\",\r\n            margin: \"auto\",\r\n            maxWidth: \"300px\",\r\n          }}\r\n          callback={(resp: any) => {\r\n            if (resp.resp) {\r\n              cookies.set(\"token\", resp.token, {\r\n                path: \"/\",\r\n                expires: new Date(Date.now() + 3.154e12),\r\n              });\r\n              rechecklogged();\r\n            } else {\r\n              setloading(false);\r\n              seterror(resp.err);\r\n            }\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Email\r\n          </p>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Password\r\n          </p>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"pass\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Login\"\r\n            style={{\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            }}\r\n          />\r\n          <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n            dont already have an account?{\" \"}\r\n            <span>\r\n              <Link\r\n                to={\"/signup\" + location.search}\r\n                style={{ color: \"var(--secondary-text-colour)\" }}\r\n              >\r\n                Make one\r\n              </Link>\r\n            </span>\r\n          </p>\r\n          <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n            Forgot your password?{\" \"}\r\n            <span>\r\n              <Link\r\n                to={\"/requestNewPassword\"}\r\n                style={{ color: \"var(--secondary-text-colour)\" }}\r\n              >\r\n                Change it\r\n              </Link>\r\n            </span>\r\n          </p>\r\n        </RouterForm>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/TypeChat.b8ec676e.svg\";","import { useState, useEffect } from \"react\";\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\nexport default useWindowSize;\r\n","import { Howl } from \"howler\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nlet hasshownmuted = false;\r\nasync function playSound(url: string) {\r\n  const localallowed = localStorage.getItem(\"sound effects\");\r\n  const canPlay = localallowed ? JSON.parse(localallowed) : true;\r\n  if (canPlay) {\r\n    const localvol = localStorage.getItem(\"volume\");\r\n    const vol = (localvol !== null ? JSON.parse(localvol) : 15) / 20;\r\n    let hasplayed = false;\r\n    const audio = new Howl({\r\n      src: url,\r\n      volume: vol,\r\n    });\r\n    audio.on(\"play\", () => {\r\n      hasplayed = true;\r\n    });\r\n    audio.play();\r\n    setTimeout(() => {\r\n      if (!hasplayed) {\r\n        audio.pause();\r\n        if (!hasshownmuted) {\r\n          store.addNotification({\r\n            title: \"sound\",\r\n            type: \"danger\",\r\n            onRemoval: () => {\r\n              hasshownmuted = false;\r\n            },\r\n            message:\r\n              \"you need to interact with the site for sound effects to play!\",\r\n            insert: \"top\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            container: \"top-right\",\r\n            dismiss: { duration: 10000, pauseOnHover: true, onScreen: true },\r\n          });\r\n          hasshownmuted = true;\r\n        }\r\n      }\r\n    }, 5000);\r\n  }\r\n}\r\nexport default playSound;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { Nav, Navbar, Dropdown } from \"react-bootstrap\";\r\nimport bigLogo from \"../images/logos/TypeChat.svg\";\r\nimport smallLogo from \"../images/logos/TS.svg\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./css/nav.css\";\r\nimport cookies from \"../cookies\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faComment,\r\n  faUserFriends,\r\n  faPlus,\r\n  faSignOutAlt,\r\n  faCog,\r\n  faRocket,\r\n  faUserCog,\r\n  faPhotoVideo,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  faDiscord\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport useComponentSize from \"@rehooks/component-size\";\r\nimport playSound from \"../playsound\";\r\nimport isElectron from \"is-electron\";\r\nconst PageNav = () => {\r\n  const { width } = useWindowSize();\r\n  const Navbarref = useRef(null);\r\n  const navbarsize = useComponentSize(Navbarref);\r\n  const { loggedin, user, rechecklogged, setnavbarsize, chattingto } =\r\n    useData();\r\n  useEffect(() => {\r\n    setnavbarsize(navbarsize);\r\n  }, [navbarsize, setnavbarsize]);\r\n  const location = useLocation();\r\n  return (\r\n    <>\r\n      <Navbar\r\n        ref={Navbarref}\r\n        bg=\"darkpurple\"\r\n        variant=\"dark\"\r\n        fixed=\"top\"\r\n        style={{ top: isElectron() ? \"30px\" : undefined }}\r\n      >\r\n        <Navbar.Brand\r\n          onPointerDown={() => {\r\n            playSound(\"/sounds/click2.mp3\");\r\n          }}\r\n          onPointerUp={() => {\r\n            playSound(\"/sounds/click1.mp3\");\r\n          }}\r\n          as={Link}\r\n          to={loggedin ? \"/contacts\" : \"/\"}\r\n        >\r\n          <img\r\n            alt=\"TypeChat\"\r\n            src={width > 700 ? bigLogo : smallLogo}\r\n            style={{\r\n              height: \"40px\",\r\n            }}\r\n          />\r\n        </Navbar.Brand>\r\n\r\n        <Nav className=\"mc-auto\">\r\n          {loggedin ? (\r\n            <>\r\n              {chattingto ? (\r\n                <Nav.Link\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                  as={Link}\r\n                  to={`/chat/${chattingto}`}\r\n                  style={{\r\n                    color:\r\n                      location.pathname === `/chat/${chattingto}`\r\n                        ? \"white\"\r\n                        : \"\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faComment} />\r\n                </Nav.Link>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/contacts\"\r\n                style={{\r\n                  color: location.pathname === \"/contacts\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faUserFriends} />\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/add\"\r\n                style={{ color: location.pathname === \"/add\" ? \"white\" : \"\" }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </Nav.Link>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </Nav>\r\n        <Nav>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            onClick={()=> window.open(\"/invite\", \"blank_\")}\r\n          >\r\n            <FontAwesomeIcon icon={faDiscord} />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            as={Link}\r\n            to=\"/blast\"\r\n            style={{ color: location.pathname === \"/blast\" ? \"white\" : \"\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faRocket} />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            as={Link}\r\n            to=\"/settings\"\r\n            style={{ color: location.pathname === \"/settings\" ? \"white\" : \"\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faCog} />\r\n          </Nav.Link>\r\n          {loggedin ? (\r\n            <>\r\n              <Dropdown>\r\n                <Dropdown.Toggle\r\n                  style={{\r\n                    backgroundColor: \"transparent\",\r\n                    border: \"none\",\r\n                    margin: \"0\",\r\n                    padding: \"0\",\r\n                  }}\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"Profile\"\r\n                    src={\"/files/\" + user.profilePic}\r\n                    style={{ height: \"40px\", borderRadius: \"50%\" }}\r\n                  />\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu alignRight className={\"db-darkpurple\"}>\r\n                  <Dropdown.Item\r\n                    as={Link}\r\n                    to=\"/user/settings\"\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faUserCog} /> User Settings\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    as={Link}\r\n                    to=\"/user/drive\"\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faPhotoVideo} /> Drive\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    onClick={async () => {\r\n                      await fetch(\"/api/logout\");\r\n                      cookies.remove(\"token\");\r\n                      rechecklogged();\r\n                      localStorage.removeItem(\"chats\");\r\n                      localStorage.removeItem(\"contacts\");\r\n                      localStorage.removeItem(\"chattingto\");\r\n                    }}\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faSignOutAlt} /> Logout\r\n                  </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/login\"\r\n                style={{ color: location.pathname === \"/login\" ? \"white\" : \"\" }}\r\n              >\r\n                Login\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/signup\"\r\n                style={{\r\n                  color: location.pathname === \"/signup\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                Sign Up\r\n              </Nav.Link>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar>\r\n      <div\r\n        style={{ height: navbarsize.height + (isElectron() ? 30 : 0) }}\r\n      ></div>\r\n    </>\r\n  );\r\n};\r\nexport default PageNav;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface userApiInterface<T> {\r\n  loading: boolean;\r\n  data: T | undefined;\r\n  setData: Function;\r\n  error: string | undefined;\r\n  reload: Function;\r\n}\r\n\r\nfunction useApi<T>(url: string | null): userApiInterface<T> {\r\n  const [data, setData] = useState<T | undefined>(undefined);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [request, setrequest] = useState<number>(0);\r\n  const [error, setError] = useState<string | undefined>(undefined);\r\n  const laststamp = useRef<number | null>(null);\r\n  function reload() {\r\n    setrequest(request + 1);\r\n    setLoading(true);\r\n    setError(undefined);\r\n    setData(undefined);\r\n  }\r\n  useEffect(() => {\r\n    if (url) {\r\n      (async () => {\r\n        try {\r\n          const time = new Date().getTime();\r\n          const result = await (await fetch(url)).json();\r\n          if (!laststamp.current || time - laststamp.current > 0) {\r\n            laststamp.current = time;\r\n            setData(result);\r\n          }\r\n        } catch (e) {\r\n          setError(String(e));\r\n        }\r\n        setLoading(false);\r\n      })();\r\n    }\r\n  }, [url, request]);\r\n\r\n  return { loading, data, setData, error, reload };\r\n};\r\n\r\nexport default useApi;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAddressCard } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport { parse } from \"querystring\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Signup() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation()\r\n  const query: { [key: string]: string | string[] } = parse(location.search.slice(1))\r\n  const redirect = query.to ? Array.isArray(query.to) ? query.to[0] : query.to : \"/\"\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img src={logo} alt=\"logo\" style={{ width: \"150px\", borderRadius: \"10px\" }}></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faAddressCard}></FontAwesomeIcon> Sign Up\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/signup\"}\r\n            beforecallback={(e: any) => {\r\n              if (\r\n                e.target[0].value !== \"\" &&\r\n                e.target[1].value !== \"\" &&\r\n                e.target[2].value !== \"\" &&\r\n                profile\r\n              ) {\r\n                if (validateEmail(e.target[0].value)) {\r\n                  setloading(true);\r\n                  return true;\r\n                } else {\r\n                  seterror(\"input a valid email!\");\r\n                }\r\n              } else {\r\n                seterror(\"input a profile, username, email and password!\");\r\n              }\r\n            }}\r\n            appendtoformdata={(fd: FormData) => {\r\n              fd.append(\"profile\", profile ? profile : \"\");\r\n              return fd;\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={(resp: any) => {\r\n              if (resp.resp) {\r\n                cookies.set(\"token\", resp.token, {\r\n                  path: \"/\",\r\n                  expires: new Date(Date.now() + 3.154e12),\r\n                });\r\n                rechecklogged();\r\n              } else {\r\n                setloading(false);\r\n                seterror(resp.err);\r\n              }\r\n            }}\r\n          >\r\n            {\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              profile\r\n            </p>\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              labelStyle={{ color: \"white\" }}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Email\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Username\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              name=\"uname\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Sign up\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n              already have an account?{\" \"}\r\n              <span>\r\n                <Link\r\n                  to={\"/login\" + location.search}\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  Login\r\n                </Link>\r\n              </span>\r\n            </p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\nfunction useLocalStorage<T>(\r\n  key: string,\r\n  initialValue: T | (() => T)\r\n): [T, Dispatch<SetStateAction<T>>] {\r\n  // Get from local storage then\r\n  // parse stored json or return initialValue\r\n  const readValue = () => {\r\n    // Prevent build error \"window is undefined\" but keep keep working\r\n    if (typeof window === \"undefined\") {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key ${key}:`, error);\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(readValue);\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue: Dispatch<SetStateAction<T>> = (value) => {\r\n    // Prevent build error \"window is undefined\" but keeps working\r\n    if (typeof window == \"undefined\") {\r\n      console.warn(\r\n        `Tried setting localStorage key ${key} even though environment is not a client`\r\n      );\r\n    }\r\n\r\n    try {\r\n      // Allow value to be a function so we have the same API as useState\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n\r\n      // Save state\r\n      setStoredValue(newValue);\r\n\r\n      // We dispatch a custom event so every useLocalStorage hook are notified\r\n      window.dispatchEvent(new Event(\"local-storage\"));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key ${key}:`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    // this only works for other documents, not the current one\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n\r\n    // this is a custom event, triggered in writeValueToLocalStorage\r\n    window.addEventListener(\"local-storage\", handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"local-storage\", handleStorageChange);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","const emoji = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"#\",\r\n  \"*\",\r\n  \"0\",\r\n  \"1\",\r\n  \"2\",\r\n  \"3\",\r\n  \"4\",\r\n  \"5\",\r\n  \"6\",\r\n  \"7\",\r\n  \"8\",\r\n  \"9\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\nexport default emoji;\r\n","async function notify(title: string, message: string, onclick: () => void) {\r\n  const resp = await (\r\n    await fetch(`notify://app/?${new URLSearchParams({ title, message })}`)\r\n  ).text();\r\n  if (resp === \"click\") {\r\n    onclick();\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import {\r\n  faCommentSlash,\r\n  faCopy,\r\n  faDesktop,\r\n  faEyeSlash,\r\n  faFile,\r\n  faMobileAlt,\r\n  faPaperPlane,\r\n  faPencilAlt,\r\n  faPlus,\r\n  faSadCry,\r\n  faTimes,\r\n  faTrash,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, {\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  createContext,\r\n  useContext,\r\n} from \"react\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport \"./css/message.css\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport Loader from \"./loader\";\r\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport emoji from \"../emojis\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport isElectron from \"is-electron\";\r\nimport notify from \"../notifier\";\r\nimport Linkify from \"react-linkify\";\r\nimport ReactPlayer from \"react-player/lazy\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nconst chatSettings = createContext({ isGroupChat: false, time: 0 });\r\nconst usersContext = createContext<{\r\n  exists: boolean;\r\n  users: { [key: string]: any };\r\n}>({ exists: false, users: {} });\r\n\r\nfunction onlyContainsEmojis(str: string) {\r\n  const ranges = emoji.join(\"|\");\r\n\r\n  const removeEmoji = (str: string) =>\r\n    str.replace(new RegExp(\"[\" + ranges + \"]\", \"g\"), \"\");\r\n\r\n  return !removeEmoji(str).length;\r\n}\r\n\r\nconst truncate = (input: string, limit: number) =>\r\n  input.length > limit ? `${input.substring(0, limit)}...` : input;\r\n\r\nfunction random(seed: number) {\r\n  var x = Math.sin(seed) * 10000;\r\n  return x - Math.floor(x);\r\n}\r\nfunction numToSSColumn(num: number) {\r\n  let s = \"\",\r\n    t;\r\n\r\n  while (num > 0) {\r\n    t = (num - 1) % 26;\r\n    s = String.fromCharCode(66 + t) + s;\r\n    num = ((num - t) / 26) | 0;\r\n  }\r\n  return s || undefined;\r\n}\r\n\r\ninterface messageTypes {\r\n  ID?: string;\r\n  tempid?: number;\r\n  time: number;\r\n  from: string;\r\n  edited: boolean;\r\n}\r\n\r\ninterface messageWithText extends messageTypes {\r\n  message: string;\r\n  file: undefined;\r\n  mimetype: undefined;\r\n}\r\ninterface messageWithFile extends messageTypes {\r\n  file: string;\r\n  message: undefined;\r\n  mimetype: string;\r\n}\r\n\r\nconst videoSites = [\r\n  \"youtube.com\",\r\n  \"www.youtube.com\",\r\n  \"twitch.tv\",\r\n  \"www.twitch.tv\",\r\n  \"youtu.be\",\r\n  \"soundcloud.com\",\r\n  \"www.soundcloud.com\",\r\n  \"dailymotion.com\",\r\n  \"www.dailymotion.com\",\r\n  \"facebook.com\",\r\n  \"www.facebook.com\",\r\n  \"vimeo.com\",\r\n  \"www.vimeo.com\",\r\n];\r\n\r\nfunction MetaPage({url, decoratedText, decoratedHref, mine}: {url: string, decoratedText: string, decoratedHref: string, mine: boolean}) {\r\n  const urldata = new URL(decoratedHref);\r\n  const {data} = useApi<{\r\n    'url': string,\r\n    'canonical': string,\r\n    'title': string,\r\n    'image': string,\r\n    'author': string,\r\n    'description': string,\r\n    'keywords': string,\r\n    'source': string,\r\n    'price': string,\r\n    'priceCurrency': string,\r\n    'availability': string,\r\n    'robots': string,\r\n    'og:url': string,\r\n    'og:locale': string,\r\n    'og:locale:alternate': string,\r\n    'og:title': string,\r\n    'og:type': string,\r\n    'og:description': string,\r\n    'og:determiner': string,\r\n    'og:site_name': string,\r\n    'og:image': string,\r\n    'og:image:secure_url': string,\r\n    'og:image:type': string,\r\n    'og:image:width': string,\r\n    'og:image:height': string,\r\n    'twitter:title': string,\r\n    'twitter:image': string,\r\n    'twitter:image:alt': string,\r\n    'twitter:card': string,\r\n    'twitter:site': string,\r\n    'twitter:site:id': string,\r\n    'twitter:account_id': string,\r\n    'twitter:creator': string,\r\n    'twitter:creator:id': string,\r\n    'twitter:player': string,\r\n    'twitter:player:width': string,\r\n    'twitter:player:height': string,\r\n    'twitter:player:stream': string,\r\n    'jsonld': {}\r\n}>(\"/api/getmetadata?\"+new URLSearchParams({url}))\r\n  return data? <div\r\n  style={{\r\n    padding: \"1rem\",\r\n    border: `solid 1px ${\r\n      mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"\r\n    }`,\r\n    backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n    borderRadius: \"10px\",\r\n    maxWidth: \"350px\",\r\n    margin: \"auto\",\r\n  }}\r\n><a\r\n      href={decoratedHref}\r\n      target=\"blank\" style={{\r\n          fontSize: \"24px\"}}><img\r\n        alt={urldata.hostname}\r\n        style={{\r\n          marginRight: \"5px\",\r\n          aspectRatio: \"1/1\",\r\n          height: \"100%\",\r\n          minHeight: \"24px\",\r\n        }}\r\n        src={`https://www.google.com/s2/favicons?${new URLSearchParams(\r\n          { size: \"24\", domain: urldata.hostname }\r\n        )}`}\r\n      />{data.title?data.title:decoratedText}</a><p>{data.description}</p>{data.image.length>0?<img src={new URL(data.image, url).href} style={{width: \"100%\", borderRadius: \"10px\"}} alt={data.title?data.title:decoratedText}></img>:<></>}</div> :<div\r\n  style={{\r\n    padding: \"1rem\",\r\n    border: `solid 1px ${\r\n      mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"\r\n    }`,\r\n    backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n    borderRadius: \"10px\",\r\n    margin: \"5px\",\r\n  }}\r\n><a\r\n      href={decoratedHref}\r\n      target=\"blank\"\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        margin: 0,\r\n      }}\r\n    >\r\n      <img\r\n        alt={urldata.hostname}\r\n        style={{\r\n          marginRight: \"5px\",\r\n          aspectRatio: \"1/1\",\r\n          height: \"100%\",\r\n          minHeight: \"24px\",\r\n        }}\r\n        src={`https://www.google.com/s2/favicons?${new URLSearchParams(\r\n          { size: \"24\", domain: urldata.hostname }\r\n        )}`}\r\n      />\r\n      <p style={{ maxWidth: \"90%\" }}>{decoratedText}</p>\r\n    </a></div>\r\n}\r\n\r\nfunction MessageFaviconOrVideoRenderer({\r\n  links,\r\n  mine,\r\n}: {\r\n  links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[];\r\n  mine: boolean;\r\n}) {\r\n  return <>{links.map(\r\n        ({\r\n          decoratedHref,\r\n          decoratedText,\r\n          key,\r\n        }: {\r\n          decoratedHref: string;\r\n          decoratedText: string;\r\n          key: number;\r\n        }) => {\r\n          const url = new URL(decoratedHref);\r\n          return <React.Fragment key={key}>{(\r\n              videoSites.includes(url.hostname) ? (\r\n                <ReactPlayer\r\n                  url={decoratedHref}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  controls={true}\r\n                  style={{ aspectRatio: \"16/9\" }}\r\n                />\r\n              ) : (\r\n                <MetaPage url={decoratedHref} decoratedText={decoratedText} decoratedHref={decoratedHref} mine={mine}></MetaPage>\r\n              )\r\n          )}</React.Fragment>;\r\n        }\r\n      )}</>\r\n}\r\n\r\nfunction Message({messages, i, toscroll, scrolltobottom, user, sendJsonMessage, deleteFromID, editFromID, lastmessage}: {\r\n  messages: Array<messageWithText | messageWithFile>;\r\n  lastmessage: messageWithText | messageWithFile | null;\r\n  i: number;\r\n  toscroll: any;\r\n  user: any;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n  }) {\r\n  const message = messages[i].message;\r\n  const [editing, setediting] = useState(false)\r\n  const file = messages[i].file;\r\n  const mimetype = messages[i].mimetype;\r\n  const onlyemojis = message? Array.from(message).length > 3 || !onlyContainsEmojis(message): false\r\n  const links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[] = [];\r\n  const donekeys: number[] = [];\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n  const submitref = useRef<any>();\r\n  const messageref = useRef(message)\r\n  console.log(lastmessage && messages[i].time-lastmessage.time)\r\n  return <>\r\n  <ContextMenuTrigger id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}>\r\n    <div style={{ opacity: !messages[i].ID ? 0.5 : undefined }} className={onlyemojis || file?`message message-${messages[i].from === user.id ? \"mine\" : \"yours\"} ${!messages[i+1] || messages[i+1].from !== messages[i].from || (messages[i+1] && messages[i+1].time-messages[i].time>300000)?`last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`: \"\"}`: `emojimessage-${(messages[i].from === user.id) ? \"mine\" : \"yours\"}`}>\r\n    {message ? (editing?<><form onSubmit={(e: any)=>{\r\n     e.preventDefault()\r\n     setediting(false)\r\n     const tempmessage = messageref.current\r\n     if (tempmessage === \"\") {\r\n      sendJsonMessage({type: \"delete\", id: messages[i].ID})\r\n      deleteFromID(messages[i].ID)\r\n     } else if (message !== tempmessage) {\r\n      sendJsonMessage({type: \"edit\", id: messages[i].ID, message: tempmessage})\r\n      editFromID(messages[i].ID, tempmessage)\r\n    }\r\n   }}><TextareaAutosize\r\n                  onInput={(e: any) => {\r\n                    if (key.current === 13 && !shiftkey.current) {\r\n                      submitref.current.click();\r\n                    }else {\r\n                    const message = e.target.value.trim();\r\n                    messageref.current = message\r\n                      }\r\n                      const messagetoarray: string[] = Array.from(message);\r\n                        e.target.value = Array.from(e.target.value)\r\n                          .slice(0, 3000)\r\n                          .join(\"\");\r\n                     if (messagetoarray.length <= 3000) {\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, 3000)\r\n                        .join(\"\");\r\n                    }\r\n                  }}\r\n                  onKeyDown={(e: any) => {\r\n                    key.current = e.keyCode;\r\n                    shiftkey.current = e.shiftKey;\r\n                  }}\r\n                  autoFocus\r\n                  style={{\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    resize: \"none\",\r\n                    width: \"100%\"\r\n                  }}\r\n                  maxRows={10}\r\n                  placeholder=\"Type Something...\"\r\n                  defaultValue={message}\r\n                /><input type=\"submit\" ref={submitref} style={{display: \"none\"}}></input></form></>:\r\n     <>\r\n       {onlyemojis ? (\r\n         message.split(\"```\").map((value: string, index: number) =>\r\n           index % 2 === 0 ? (\r\n             <div key={index}>\r\n               <Linkify\r\n                 componentDecorator={(\r\n                   decoratedHref,\r\n                   decoratedText,\r\n                   key\r\n                 ) => {\r\n                   if (!donekeys.includes(key)) {\r\n                     links.push({ decoratedHref, decoratedText, key });\r\n                     donekeys.push(key);\r\n                   }\r\n                   return (\r\n                     <a target=\"blank\" href={decoratedHref} key={key}>\r\n                       {decoratedText}\r\n                     </a>\r\n                   );\r\n                 }}\r\n               >\r\n                 {value.trim()}\r\n               </Linkify>\r\n             </div>\r\n           ) : (\r\n             <SyntaxHighlighter key={index}>\r\n               {value.trim()}\r\n             </SyntaxHighlighter>\r\n           )\r\n         )\r\n       ) : (\r\n         <h1 className=\"emojimessage\">{message}</h1>\r\n       )}\r\n       <MessageFaviconOrVideoRenderer\r\n         links={links}\r\n         mine={messages[i].from === user.id}\r\n       ></MessageFaviconOrVideoRenderer>{messages[i].edited?<p style={{color: messages[i].from === user.id?\"lightgray\":\"gray\", fontSize: \"10px\", float: \"right\"}}>edited</p>:<></>}\r\n     </>\r\n   ) : file ? (\r\n     <div\r\n     >\r\n       {mimetype ? (\r\n         mimetype.split(\"/\")[0] === \"image\" ? (\r\n           <img\r\n             alt={file}\r\n             src={`/files/${file}`}\r\n             style={{ maxWidth: \"100%\", maxHeight: \"300px\", borderRadius: \"20px\" }}\r\n             loading=\"lazy\"\r\n             onLoad={() => {\r\n               if (toscroll.current) {\r\n                 scrolltobottom();\r\n               }\r\n             }}\r\n           ></img>\r\n         ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n           <video\r\n             src={`/files/${file}`}\r\n             style={{ width: \"100%\", maxHeight: \"300px\" }}\r\n             controls\r\n             playsInline\r\n             onLoad={() => {\r\n               if (toscroll.current) {\r\n                 scrolltobottom();\r\n               }\r\n             }}\r\n           ></video>\r\n         ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n           <audio\r\n             src={`/files/${file}`}\r\n             style={{ width: \"100%\", maxHeight: \"300px\" }}\r\n             controls\r\n             playsInline\r\n             onLoad={() => {\r\n               if (toscroll.current) {\r\n                 scrolltobottom();\r\n               }\r\n             }}\r\n           ></audio>\r\n         ) : (\r\n           <div\r\n             onClick={() => {\r\n               window.open(\r\n                 `/files/${file}`,\r\n                 file,\r\n                 \"width=600,height=400\"\r\n               );\r\n             }}\r\n             style={{\r\n               color: \"var(--secondary-text-colour)\",\r\n               cursor: \"pointer\",\r\n             }}\r\n           >\r\n             <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\r\n           </div>\r\n         )\r\n       ) : (\r\n         <div\r\n           onClick={() => {\r\n             window.open(`/files/${file}`, file, \"width=600,height=400\");\r\n           }}\r\n           style={{\r\n             color: \"var(--secondary-text-colour)\",\r\n             cursor: \"pointer\",\r\n           }}\r\n         >\r\n           <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\r\n         </div>\r\n       )}\r\n     </div>\r\n   ) : (\r\n     <></>\r\n   )}\r\n</div></ContextMenuTrigger>\r\n\r\n<ContextMenu id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}>\r\n   <p style={{textAlign: \"center\"}}>{new Date(messages[i].time).toLocaleString()}</p>\r\n <MenuItem onClick={()=>{navigator.clipboard.writeText(message?message:`${window.location.protocol}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n? window.location.hostname + \":5000\"\r\n: window.location.host\r\n}/files/${file}`);}}>\r\n   <span><FontAwesomeIcon icon={faCopy}/> Copy</span>\r\n </MenuItem>\r\n {messages[i].from === user.id && messages[i].ID?<>\r\n <MenuItem onClick={()=>{\r\n   sendJsonMessage({type: \"delete\", id: messages[i].ID})\r\n   deleteFromID(messages[i].ID)\r\n }}>\r\n   <span><FontAwesomeIcon icon={faTrash}/> Delete</span>\r\n </MenuItem>\r\n {message?\r\n <MenuItem onClick={()=>{\r\n   setediting(!editing)\r\n }}>\r\n   <span>{editing?<><FontAwesomeIcon icon={faTimes}/> Cancel Edit</>:<><FontAwesomeIcon icon={faPencilAlt}/> Edit</>}</span>\r\n </MenuItem>:<></>}</>\r\n :<></>}\r\n</ContextMenu></>\r\n}\r\n\r\nfunction MessageMaker({\r\n  messages,\r\n  typingdata,\r\n  scrollref,\r\n  toscroll,\r\n  canloadmore,\r\n  loadingmore,\r\n  loadmore,\r\n  chatUpdateID,\r\n  scrolltobottom,\r\n  deleteFromID,\r\n  editFromID,\r\n  sendJsonMessage\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile>;\r\n  typingdata: {\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  };\r\n  scrollref: React.RefObject<any>;\r\n  toscroll: any;\r\n  canloadmore: boolean;\r\n  loadingmore: boolean;\r\n  loadmore: Function;\r\n  chatUpdateID: number | null;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n}) {\r\n  const { user } = useData();\r\n  const { users } = useContext(usersContext);\r\n  const output = useMemo(() => {\r\n    console.time(\"chatrender\");\r\n    const output = [];\r\n    let lastmessage: messageWithText | messageWithFile |null = null\r\n    for (let i = 0; i < messages.length; i++) {\r\n      if ((!lastmessage && !canloadmore) || (lastmessage && messages[i].time-lastmessage.time>300000)) {\r\n        output.push(<p\r\n        key={messages[i].time}\r\n                style={{\r\n                  margin: \"0\",\r\n                  color: `lightgray`,\r\n                  fontSize: \"10px\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                {new Date(messages[i].time).toLocaleString()}\r\n              </p>)\r\n      }\r\n      if (!lastmessage || messages[i].from !== lastmessage.from) {\r\n        output.push(messages[i].from === user.id || users[messages[i].from] ? (\r\n          <div key={messages[i].ID+\"topname\"} style={{alignSelf: messages[i].from === user.id?\"flex-end\":\"flex-start\"}}>\r\n            {messages[i].from === user.id ? (\r\n              <span style={{ marginRight: \"5px\" }}>{user.username}</span>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <img\r\n              src={`/files/${messages[i].from === user.id\r\n                ? user.profilePic\r\n                : users[messages[i].from].profilePic\r\n                }`}\r\n              style={{\r\n                width: \"25px\",\r\n                height: \"25px\",\r\n                margin: \"3px\",\r\n                borderRadius: \"50%\",\r\n              }}\r\n              alt=\"\"\r\n            />\r\n            {users[messages[i].from] ? (\r\n              <span style={{ marginLeft: \"5px\" }}>\r\n                {users[messages[i].from].username}\r\n              </span>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        ))\r\n      }\r\n      output.push(\r\n        <Message key={messages[i].ID ? messages[i].ID : messages[i].tempid} messages={messages} lastmessage={lastmessage} deleteFromID={deleteFromID} i={i} user={user} toscroll={toscroll} scrolltobottom={scrolltobottom} sendJsonMessage={sendJsonMessage} editFromID={editFromID}></Message>)\r\n      lastmessage = messages[i]\r\n    }\r\n    console.timeEnd(\"chatrender\")\r\n    return output\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messages, canloadmore, loadingmore, chatUpdateID]);\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const location = useLocation();\r\n  const faketext = useMemo(() => {\r\n    let output = [];\r\n    for (let i = 0; i <= typingdata.length; i++) {\r\n      output.push(\r\n        typingdata.specialchars && i - 1 in typingdata.specialchars\r\n          ? typingdata.specialchars[i - 1]\r\n          : numToSSColumn(random(i) * 26)\r\n      );\r\n    }\r\n    return output.join(\"\").toLowerCase();\r\n  }, [typingdata]);\r\n  // const [isMessageMenuOpen, setIsMessageMenuOpen] = useState(false);\r\n  window.onscroll = () => {\r\n    if (location.pathname === `/chat/${chattingto}`) {\r\n      toscroll.current =\r\n        document.documentElement.scrollHeight -\r\n        document.documentElement.scrollTop -\r\n        document.documentElement.clientHeight <=\r\n        200;\r\n      if (canloadmore) {\r\n        if (document.documentElement.scrollTop < 10) {\r\n          loadmore(messages);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: `100%`,\r\n        overflow: \"overlay\",\r\n      }}\r\n      ref={scrollref}\r\n    >\r\n      <div\r\n        className=\"chat\"\r\n        style={{\r\n          margin: `90px auto 3rem auto`,\r\n          maxWidth: \"900px\",\r\n        }}\r\n      >\r\n        {messages.length > 0 ? (\r\n          <>\r\n         {(canloadmore && loadingmore)?<Loader key={\"loader\"}></Loader>: <></>}\r\n          {output}\r\n          </>\r\n        ) : (\r\n          <p style={{ color: \"gray\", textAlign: \"center\" }}>\r\n            this chat is empty... say hi!\r\n          </p>\r\n        )}\r\n        {typingdata.typing ? (\r\n            <div\r\n              className=\"message message-yours last-yours\"\r\n              style={{\r\n                opacity: 0.5,\r\n                textShadow: \"0 0 7px black\",\r\n                color: \"transparent\",\r\n              }}\r\n            >\r\n              {faketext}\r\n            </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatNotFound() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faSadCry} />\r\n        <FontAwesomeIcon icon={faCommentSlash} />\r\n      </div>\r\n      <h1>No Chat Found!</h1>\r\n      <p>\r\n        go to{\" \"}\r\n        <span>\r\n          <Link\r\n            to=\"/contacts\"\r\n            style={{ color: \"var(--secondary-text-colour)\" }}\r\n          >\r\n            contacts\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatPage() {\r\n  const bypassChars: string[] = [\r\n    ...emoji,\r\n    \" \",\r\n    \"?\",\r\n    \"!\",\r\n    \"#\",\r\n    \"$\",\r\n    \"\",\r\n    \"*\",\r\n    '\"',\r\n    \"'\",\r\n    \"(\",\r\n    \")\",\r\n    \":\",\r\n    \";\",\r\n    \"[\",\r\n    \"]\",\r\n    \"{\",\r\n    \"}\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n  ];\r\n  const [chats, setchats] = useState<Array<messageWithText | messageWithFile>>(\r\n    []\r\n  );\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const { notifications, user, NotificationAPI } = useData();\r\n\r\n  const { isGroupChat } = useContext(chatSettings);\r\n  const [usersdata, setusersdata] = useState<\r\n    undefined | { exists: boolean; users: { [key: string]: any } }\r\n  >();\r\n  const [groupchatdata /*setgroupchatdata*/] = useState({\r\n    picture: \"\",\r\n    name: \"\",\r\n  });\r\n  const [oldmetypingdata, setoldmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [metypingdata, setmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [socketUrl] = useState(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n      ? window.location.hostname + \":5000\"\r\n      : window.location.host\r\n    }/chat`\r\n  );\r\n  const size = useWindowSize();\r\n  const [typingdata, settypingdata] = useState<{\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  }>({ typing: false, length: 0, specialchars: {} });\r\n  const [isonline, setisonline] = useState(\"0\");\r\n  const metypinglengthref = useRef<number>(0);\r\n  const metypingref = useRef<any>(false);\r\n  const typingTimer = useRef<any>(null);\r\n  const inputref = useRef<any>(null);\r\n  const scrollerref = useRef<any>(null);\r\n  const bottomref = useRef<any>(null);\r\n  const toscroll = useRef(true);\r\n  const [loadingchatmessages, setloadingchatmessages] = useState(true);\r\n  const [canloadmore, setcanloadmore] = useState(true);\r\n  const [loadingmore, setloadingmore] = useState(false);\r\n  const isLoadMore = useRef<boolean>(false);\r\n  const [chatUpdateID, setChatUpdateID] = useState<number | null>(null);\r\n  const [personaltyping] = useLocalStorage(\"Keyboard Typing Sound\", true);\r\n  const [Recipienttyping] = useLocalStorage(\"Recipient Typing Sound\", true);\r\n  const [SendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound] = useLocalStorage(\"Receive Sound\", true);\r\n  const [localchats, setlocalchats] = useLocalStorage<{\r\n    [key: string]: Array<messageWithText | messageWithFile>;\r\n  }>(\"chats\", {});\r\n  async function sendFile(file: any) {\r\n    const id = Math.random();\r\n    notifications.addNotification({\r\n      title: \"File\",\r\n      message: \"Uploading...\",\r\n      type: \"warning\",\r\n      insert: \"top\",\r\n      id,\r\n      container: \"top-right\",\r\n      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n    });\r\n    try {\r\n      const formdata = new FormData();\r\n      formdata.append(\"file\", file);\r\n      const resp = await (\r\n        await fetch(\"/api/uploadfile\", {\r\n          method: \"POST\",\r\n          body: formdata,\r\n        })\r\n      ).json();\r\n      if (resp.resp) {\r\n        notifications.removeNotification(id);\r\n        const time = new Date().getTime();\r\n        const tempid = Math.random();\r\n        sendJsonMessage({\r\n          type: \"file\",\r\n          file: resp.id,\r\n          mimetype: file.type,\r\n          tempid,\r\n        });\r\n        setchats(chats =>\r\n          chats.concat({\r\n            from: user.id,\r\n            message: undefined,\r\n            mimetype: file.type,\r\n            file: resp.id,\r\n            time,\r\n            tempid,\r\n            edited: false\r\n          })\r\n        );\r\n        notifications.removeNotification(id);\r\n      } else {\r\n        notifications.removeNotification(id);\r\n        notifications.addNotification({\r\n          title: \"Upload Error\",\r\n          message: resp.err,\r\n          type: \"danger\",\r\n          insert: \"top\",\r\n          container: \"top-right\",\r\n          animationIn: [\r\n            \"animate__animated\",\r\n            \"animate__fadeIn\",\r\n          ],\r\n          animationOut: [\r\n            \"animate__animated\",\r\n            \"animate__fadeOut\",\r\n          ],\r\n        });\r\n      }\r\n    } catch (e) {\r\n      notifications.removeNotification(id);\r\n      notifications.addNotification({\r\n        title: \"Upload Error\",\r\n        message: String(e),\r\n        type: \"danger\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n        animationOut: [\r\n          \"animate__animated\",\r\n          \"animate__fadeOut\",\r\n        ],\r\n      });\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    localStorage.setItem(\"chattingto\", JSON.stringify(chattingto));\r\n    const listenerfunction = function (event: any) {\r\n      const items = (event.clipboardData || event.originalEvent.clipboardData).items;\r\n      for (const index in items) {\r\n        const item = items[index];\r\n        if (item.kind === 'file') {\r\n          const blob = item.getAsFile();\r\n          console.log(blob)\r\n          sendFile(blob)\r\n        }\r\n      }\r\n    }\r\n    window.addEventListener(\"paste\", listenerfunction);\r\n    return () => { window.removeEventListener(\"paste\", listenerfunction); }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const [oldmessagsize, setoldmessagesize] = useState(chats.length > 0);\r\n  const messagesize = chats.length > 0;\r\n  useEffect(() => {\r\n    if (messagesize !== oldmessagsize) {\r\n      scrolltobottom();\r\n      setoldmessagesize(messagesize);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messagesize]);\r\n  const doneTypingInterval = 5000;\r\n  const StartMessagesLength = Math.ceil(size.height / 40 + 5);\r\n  function doneTyping() {\r\n    if (metypingref.current) {\r\n      metypingref.current = false;\r\n      setmetypingdata({\r\n        type: \"typing\",\r\n        typing: false,\r\n        length: 0,\r\n        specialchars: {},\r\n      });\r\n    }\r\n  }\r\n  function deleteFromID(id: string) {\r\n    for (let i=0; i<=chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats.splice(i, 1)\r\n        setchats(chats)\r\n        setChatUpdateID(Math.random())\r\n        break\r\n      }\r\n    }\r\n  }\r\n  function editFromID(id: string, message: string) {\r\n    for (let i=0; i<=chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats[i].message = message\r\n        chats[i].edited = true\r\n        setchats(chats)\r\n        setChatUpdateID(Math.random())\r\n        break\r\n      }\r\n    }\r\n  }\r\n  const { sendJsonMessage, lastJsonMessage, readyState } = useWebSocket(\r\n    socketUrl,\r\n    {\r\n      shouldReconnect: () => true,\r\n      reconnectInterval: 1,\r\n    }\r\n  );\r\n  const scrolltobottom = () => {\r\n    const scrollingElement = document.scrollingElement || document.body;\r\n    if (window.innerHeight + window.scrollY < document.body.offsetHeight) {\r\n      scrollingElement.scrollTo(0, scrollingElement.scrollHeight);\r\n    }\r\n  };\r\n  const fileref = useRef<HTMLInputElement>(null);\r\n  const submitref = useRef<any>(null);\r\n  const formref = useRef<any>(null);\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"message\") {\r\n        if (lastJsonMessage.message.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/newmessage.mp3\");\r\n        }\r\n        setchats(\r\n          chats=>chats.concat(lastJsonMessage.message));\r\n\r\n        settypingdata({\r\n          typing: false,\r\n          length: 0,\r\n          specialchars: {},\r\n        });\r\n        if (usersdata) {\r\n          if (toscroll.current) {\r\n            setcanloadmore(true);\r\n            isLoadMore.current = false;\r\n            setloadingchatmessages(false);\r\n            setchats(\r\n              chats=>\r\n              chats.slice(Math.max(chats.length - StartMessagesLength, 0))\r\n            );\r\n            setTimeout(scrolltobottom, 0);\r\n            if (\r\n              lastJsonMessage.message.from !== user.id &&\r\n              !isFocussed &&\r\n              isElectron()\r\n            ) {\r\n              notify(\r\n                `${usersdata.users[lastJsonMessage.message.from].username}`,\r\n                lastJsonMessage.message.message,\r\n                () => {\r\n                  history.push(`/chat/${chattingto}`);\r\n                  scrolltobottom();\r\n                }\r\n              );\r\n            }\r\n          } else if (lastJsonMessage.message.from !== user.id) {\r\n              NotificationAPI({\r\n                title: `${usersdata.users[lastJsonMessage.message.from].username\r\n                  }`,\r\n                message: lastJsonMessage.message.message\r\n                  ? truncate(lastJsonMessage.message.message, 25)\r\n                  : \"file\",\r\n                type: \"default\",\r\n                onRemoval: (_: number, type: string) => {\r\n                  if (type === \"click\") {\r\n                    history.push(`/chat/${chattingto}`);\r\n                    scrolltobottom();\r\n                  }\r\n                },\r\n                insert: \"top\",\r\n                container: \"top-right\",\r\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                dismiss: {\r\n                  pauseOnHover: true,\r\n                  duration: 5000,\r\n                  onScreen: true,\r\n                },\r\n              }, ()=>{\r\n                history.push(`/chat/${chattingto}`);\r\n                scrolltobottom();\r\n              });\r\n          }\r\n        }\r\n      } else if (lastJsonMessage.type === \"delete\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/delete.mp3\")\r\n        }\r\n        deleteFromID(lastJsonMessage.id)\r\n      } else if (lastJsonMessage.type === \"edit\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/edit.mp3\")\r\n        }\r\n        editFromID(lastJsonMessage.id, lastJsonMessage.message)\r\n      } else if (lastJsonMessage.type === \"start\") {\r\n        setcanloadmore(false);\r\n        isLoadMore.current = true;\r\n        setloadingchatmessages(true);\r\n        sendJsonMessage({\r\n          type: \"start\",\r\n          to: chattingto,\r\n          limit: StartMessagesLength,\r\n          mobile:\r\n            /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n              navigator.userAgent\r\n            ),\r\n        });\r\n      } else if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else if (lastJsonMessage.type === \"sent\") {\r\n        for (const message of chats) {\r\n          if (message.tempid === lastJsonMessage.tempid) {\r\n            delete message.tempid;\r\n            message.ID = lastJsonMessage.id;\r\n          }\r\n        }\r\n        setChatUpdateID(Math.random());\r\n        setchats(chats);\r\n      } else if (lastJsonMessage.type === \"online\") {\r\n        if (!lastJsonMessage.online && (isonline === \"M\" || isonline === \"1\")) {\r\n          playSound(\"/sounds/leave.mp3\");\r\n        } else if (lastJsonMessage.online && isonline === \"0\") {\r\n          playSound(\"/sounds/join.mp3\");\r\n        }\r\n        setisonline(\r\n          lastJsonMessage.online ? (lastJsonMessage.mobile ? \"M\" : \"1\") : \"0\"\r\n        );\r\n      } else if (lastJsonMessage.type === \"typing\") {\r\n        if (Recipienttyping) {\r\n          if (lastJsonMessage.length > typingdata.length) {\r\n            playSound(`/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`);\r\n          } else if (lastJsonMessage.length < typingdata.length) {\r\n            playSound(`/sounds/click3.mp3`);\r\n          }\r\n        }\r\n        if (toscroll.current) {\r\n          setTimeout(scrolltobottom, 0);\r\n        }\r\n        settypingdata({\r\n          typing: lastJsonMessage.typing,\r\n          length: lastJsonMessage.length,\r\n          specialchars: lastJsonMessage.specialchars,\r\n        });\r\n      } else if (lastJsonMessage.type === \"setmessages\") {\r\n        setchats(lastJsonMessage.messages);\r\n        setusersdata({ exists: true, users: lastJsonMessage.users });\r\n        setcanloadmore(true);\r\n        isLoadMore.current = false;\r\n        setloadingchatmessages(false);\r\n      } else if (lastJsonMessage.type === \"prependmessages\") {\r\n        setchats([...lastJsonMessage.messages, ...chats]);\r\n        if (lastJsonMessage.messages.length > 0) {\r\n          const lastheight = document.documentElement.offsetHeight;\r\n          setTimeout(() => {\r\n              document.documentElement.scrollTop =\r\n              document.documentElement.scrollHeight - lastheight;\r\n              isLoadMore.current = false;\r\n\r\n            setloadingmore(false);\r\n          }, 0);\r\n        }\r\n        setcanloadmore(lastJsonMessage.messages.length > 0);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  useEffect(() => {\r\n    if (\r\n      /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n    ) {\r\n      sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (JSON.stringify(oldmetypingdata) !== JSON.stringify(metypingdata)) {\r\n      sendJsonMessage(metypingdata);\r\n      setoldmetypingdata(metypingdata);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [metypingdata]);\r\n  window.onload = () => setTimeout(scrolltobottom, 0);\r\n  useEffect(() => {\r\n    setTimeout(scrolltobottom, 0);\r\n  }, [usersdata, readyState]);\r\n  useEffect(() => {\r\n    if (toscroll.current) {\r\n      setTimeout(scrolltobottom, 0);\r\n    }\r\n    if (!loadingchatmessages) {\r\n      localchats[chattingto] = chats.slice(\r\n        Math.max(chats.length - StartMessagesLength, 0)\r\n      );\r\n      setlocalchats(localchats);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chats, chatUpdateID]);\r\n  useEffect(() => {\r\n    if (usersdata && !usersdata.exists) {\r\n      setloadingchatmessages(false);\r\n    }\r\n  }, [usersdata]);\r\n  const loadmore = () => {\r\n    if (!isLoadMore.current) {\r\n      isLoadMore.current = true;\r\n      setloadingmore(true);\r\n      sendJsonMessage({\r\n        type: \"getmessages\",\r\n        start: chats.length,\r\n        max: 50,\r\n      });\r\n    }\r\n  };\r\n  if (\r\n    (!usersdata ||\r\n      (readyState !== ReadyState.OPEN &&\r\n        readyState !== ReadyState.UNINSTANTIATED) ||\r\n      loadingchatmessages) &&\r\n    !localchats[chattingto]\r\n  ) {\r\n    return <Loader />;\r\n  } else if (!localchats[chattingto] || (usersdata && !usersdata.exists)) {\r\n    return <ChatNotFound></ChatNotFound>;\r\n  }\r\n  return (\r\n    <usersContext.Provider\r\n      value={usersdata ? usersdata : { exists: false, users: {} }}\r\n    >\r\n      <div>\r\n        <div>\r\n          <div\r\n            style={{\r\n              position: \"fixed\",\r\n              width: \"100%\",\r\n              height: \"90px\",\r\n              padding: \"10px\",\r\n              zIndex: 10,\r\n              background:\r\n                \"linear-gradient(0deg, transparent, var(--dark-mode))\",\r\n            }}\r\n          >\r\n            {usersdata && readyState === ReadyState.OPEN ? (\r\n              <>\r\n                {\" \"}\r\n                <img\r\n                  src={\r\n                    \"/files/\" +\r\n                    String(\r\n                      isGroupChat\r\n                        ? groupchatdata.picture\r\n                        : usersdata.users[chattingto].profilePic\r\n                    )\r\n                  }\r\n                  style={{\r\n                    display: \"block\",\r\n                    height: \"65%\",\r\n                    margin: \"auto\",\r\n                    borderRadius: \"100%\",\r\n                  }}\r\n                  alt={usersdata.users[chattingto].username}\r\n                />\r\n                <p style={{ textAlign: \"center\" }}>\r\n                  {usersdata.users[chattingto].username}{\" \"}\r\n                  <FontAwesomeIcon\r\n                    style={{\r\n                      color: isonline === \"0\" ? \"var(--offline)\" : \"var(--online)\",\r\n                    }}\r\n                    icon={\r\n                      isonline === \"1\"\r\n                        ? faDesktop\r\n                        : isonline === \"M\"\r\n                          ? faMobileAlt\r\n                          : faEyeSlash\r\n                    }\r\n                  ></FontAwesomeIcon>\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <p style={{ margin: \"1rem\", textAlign: \"center\" }}>\r\n                {ReadyState[readyState]}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <KeyboardEventHandler\r\n            handleKeys={[\"alphanumeric\", \"space\", \"shift\", \"cap\"]}\r\n            onKeyEvent={() => {\r\n              inputref.current.focus();\r\n            }}\r\n          />\r\n          <MessageMaker\r\n            deleteFromID={deleteFromID}\r\n            editFromID={editFromID}\r\n            scrolltobottom={scrolltobottom}\r\n            scrollref={scrollerref}\r\n            messages={loadingchatmessages ? localchats[chattingto] : chats}\r\n            typingdata={typingdata}\r\n            toscroll={toscroll}\r\n            canloadmore={canloadmore && readyState === ReadyState.OPEN}\r\n            loadingmore={loadingmore}\r\n            loadmore={loadmore}\r\n            chatUpdateID={chatUpdateID}\r\n            sendJsonMessage={sendJsonMessage}\r\n          />\r\n          <div ref={bottomref}></div>\r\n          <div\r\n            style={{\r\n              position: \"fixed\",\r\n              padding: \"1rem\",\r\n              width: \"100%\",\r\n              bottom: \"0px\",\r\n              background:\r\n                \"linear-gradient(180deg, transparent, var(--dark-mode))\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                margin: \"auto\",\r\n                width: \"100%\",\r\n                maxWidth: \"800px\",\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                style={{ display: \"none\" }}\r\n                ref={fileref}\r\n                onInput={async (e: any) => {\r\n                  if (e.target.files.length > 0) {\r\n                    const file = e.target.files[0];\r\n                    e.target.value = \"\"\r\n                    sendFile(file)\r\n                  }\r\n                }}\r\n              />\r\n\r\n              <button\r\n                style={{\r\n                  width: \"37px\",\r\n                  marginRight: \"5px\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onClick={() => {\r\n                  if (fileref.current) fileref.current.click();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </button>\r\n              <form\r\n                onSubmit={(e: any) => {\r\n                  e.preventDefault();\r\n                  const message = e.target[0].value.trim();\r\n                  if (message !== \"\") {\r\n                    e.target[0].value = \"\";\r\n                    const time = new Date().getTime();\r\n                    if (SendSound) {\r\n                      playSound(\"/sounds/send.mp3\");\r\n                    }\r\n                    const tempid = Math.random();\r\n                    sendJsonMessage({\r\n                      type: \"message\",\r\n                      message,\r\n                      tempid,\r\n                    });\r\n                    setcanloadmore(true);\r\n                    isLoadMore.current = false;\r\n                    setloadingchatmessages(false);\r\n                    setchats(\r\n                      chats\r\n                        .slice(Math.max(chats.length - StartMessagesLength, 0))\r\n                        .concat({\r\n                          from: user.id,\r\n                          file: undefined,\r\n                          mimetype: undefined,\r\n                          message,\r\n                          time,\r\n                          tempid,\r\n                          edited: false\r\n                        })\r\n                    );\r\n                    setTimeout(scrolltobottom, 0);\r\n                    metypingref.current = false;\r\n                    setmetypingdata({\r\n                      type: \"typing\",\r\n                      typing: metypingref.current,\r\n                      length: 0,\r\n                      specialchars: {},\r\n                    });\r\n                  }\r\n                }}\r\n                ref={formref}\r\n                style={{\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                }}\r\n              >\r\n                <TextareaAutosize\r\n                  ref={inputref}\r\n                  onInput={(e: any) => {\r\n                    if (key.current === 13 && !shiftkey.current) {\r\n                      submitref.current.click();\r\n                      inputref.current.value = \"\";\r\n                    }\r\n                    const message = e.target.value.trim();\r\n                    const messagetoarray: string[] = Array.from(message);\r\n                    if (\r\n                      messagetoarray.length <= 3000 &&\r\n                      !(key.current === 13 && !shiftkey.current)\r\n                    ) {\r\n                      if (personaltyping) {\r\n                        playSound(\r\n                          `/sounds/click${Math.floor(\r\n                            Math.random() * 3 + 1\r\n                          )}.mp3`\r\n                        );\r\n                      }\r\n                      metypinglengthref.current = messagetoarray.length;\r\n                      if (metypinglengthref.current > 0) {\r\n                        metypingref.current = true;\r\n                        const specialchars: { [key: string]: any } = {};\r\n                        for (let i = 0; i < messagetoarray.length; i++) {\r\n                          if (bypassChars.includes(messagetoarray[i])) {\r\n                            specialchars[i] = messagetoarray[i];\r\n                          }\r\n                        }\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: metypingref.current,\r\n                          length: metypinglengthref.current,\r\n                          specialchars,\r\n                        });\r\n                        clearTimeout(typingTimer.current);\r\n                        typingTimer.current = setTimeout(\r\n                          doneTyping,\r\n                          doneTypingInterval\r\n                        );\r\n                      } else {\r\n                        metypingref.current = false;\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: false,\r\n                          length: 0,\r\n                          specialchars: {},\r\n                        });\r\n                      }\r\n                    } else {\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, 3000)\r\n                        .join(\"\");\r\n                    }\r\n                  }}\r\n                  onKeyDown={(e: any) => {\r\n                    key.current = e.keyCode;\r\n                    shiftkey.current = e.shiftKey;\r\n                    clearTimeout(typingTimer.current);\r\n                  }}\r\n                  autoFocus\r\n                  style={{\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    width: \"calc(100% - 65px)\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    resize: \"none\",\r\n                  }}\r\n                  maxRows={10}\r\n                  placeholder=\"Type Something...\"\r\n                />\r\n                <button\r\n                  ref={submitref}\r\n                  style={{\r\n                    width: \"60px\",\r\n                    marginLeft: \"5px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                  type=\"submit\"\r\n                  onClick={() => {\r\n                    inputref.current.focus();\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faPaperPlane} />\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </usersContext.Provider>\r\n  );\r\n}\r\n\r\nfunction Chat({ isGroupChat }: { isGroupChat: boolean }) {\r\n  const { loggedin, user } = useData();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const time = useMemo(() => new Date().getTime(), []);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  } else if (chattingto && chattingto !== user.id) {\r\n    return (\r\n      <chatSettings.Provider value={{ isGroupChat, time }}>\r\n        <ChatPage />\r\n      </chatSettings.Provider>\r\n    );\r\n  }\r\n  return <ChatNotFound></ChatNotFound>;\r\n}\r\n\r\nexport default Chat;\r\n","import { faFileCode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Error404() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faFileCode} />\r\n      </div>\r\n      <h1>Page Not Found!</h1>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error404;\r\n","import { SecureLink } from \"react-secure-link\";\r\nimport Linkify from \"react-linkify\";\r\nimport { useState } from \"react\";\r\nimport ColorThief from \"colorthief\";\r\n\r\nfunction ProfilePage({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"75px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={(e: any) => {\r\n            const colorThief = new ColorThief();\r\n            const resp = colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <h4>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {user.username}\r\n            <span\r\n              style={{\r\n                color: \"lightgray\",\r\n                fontWeight: \"normal\",\r\n              }}\r\n            >\r\n              #{user.tag}\r\n            </span>\r\n          </span>\r\n        </h4>\r\n      </div>\r\n      {user.aboutme ? (\r\n        <div\r\n          style={{\r\n            padding: \"1rem\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n          }}\r\n        >\r\n          <b>About Me</b>\r\n          <div>\r\n            <Linkify\r\n              componentDecorator={(\r\n                decoratedHref: string,\r\n                decoratedText: string,\r\n                key: any\r\n              ) => (\r\n                <SecureLink\r\n                  href={decoratedHref}\r\n                  key={key}\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  {decoratedText}\r\n                </SecureLink>\r\n              )}\r\n            >\r\n              {user.aboutme}\r\n            </Linkify>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","function humanFileSize(bytes: number, si: boolean = false, dp: number = 1) {\r\n    const thresh = si ? 1000 : 1024;\r\n\r\n    if (Math.abs(bytes) < thresh) {\r\n        return bytes + ' B';\r\n    }\r\n\r\n    const units = si\r\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n    let u = -1;\r\n    const r = 10 ** dp;\r\n\r\n    do {\r\n        bytes /= thresh;\r\n        ++u;\r\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\r\n\r\n\r\n    return bytes.toFixed(dp) + ' ' + units[u];\r\n}\r\nexport default humanFileSize  ","import { Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./css/usersettings.css\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport { useState, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport humanFileSize from \"../bytesToHumanReadable\";\r\n\r\nfunction ReactTimeago({date}: {date:number}) {\r\n  const days = Math.floor(date / (1000 * 60 * 60 * 24));\r\n  const hours = Math.floor((date % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  const minutes = Math.floor((date % (1000 * 60 * 60)) / (1000 * 60));\r\n  const seconds = Math.floor((date % (1000 * 60)) / 1000);\r\n\r\n  return <p>{days + \"d \" + hours + \"h \"\r\n  + minutes + \"m \" + seconds + \"s\"} left</p>\r\n}\r\n\r\nfunction Changebutton({\r\n  name,\r\n  children,\r\n  onClick = () => { },\r\n  clickable,\r\n}: {\r\n  name: string;\r\n  children: any;\r\n  onClick?: (e: any) => void;\r\n  clickable: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"1rem\",\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <p style={{ margin: \"0\", color: \"lightgray\" }}>{name}</p>\r\n      {clickable ? (\r\n        <div\r\n          onClick={onClick}\r\n          className={\"changebutton\"}\r\n          style={{ color: \"white\" }}\r\n        >\r\n          {children}\r\n        </div>\r\n      ) : (\r\n        <div>{children}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nModal.setAppElement(\"#app\");\r\nfunction UserSettings() {\r\n  const { loggedin, user, rechecklogged } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const backgroundinputref = useRef<any>(null);\r\n  const { data: uploadlimitdata, loading: uploadlimitloading, error: uploadlimiterror } = useApi<{ filelimit: number, limitused: number, timeleft: number }>(\"/api/uploadlimit\")\r\n  const [uploading, setuploading] = useState(false);\r\n  const [backgroundImage, setbackgroundImage] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const [UsernameModelIsOpen, setUsernameModelIsOpen] = useState(false);\r\n  const [ProfileModelIsOpen, setProfileModelIsOpen] = useState(false);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>User Settings</h1>\r\n        <ProfilePage user={user} />\r\n        <Changebutton\r\n          name=\"Upload Limit\" clickable={false}>\r\n          {uploadlimitloading || uploadlimiterror ? \"loading\" : <><p>{humanFileSize(Number(uploadlimitdata?.limitused), true)} / {humanFileSize(Number(uploadlimitdata?.filelimit), true, 0)} ({humanFileSize(Number(uploadlimitdata?.filelimit) - Number(uploadlimitdata?.limitused), true)} left)</p><ReactTimeago date={Number(uploadlimitdata?.timeleft)} /></>}\r\n        </Changebutton>\r\n        <div style={{ textAlign: \"center\" }}>EDIT</div>\r\n        <button\r\n          style={{\r\n            color: \"white\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            border: \"solid 2px var(--light-bg-colour)\",\r\n            borderRadius: \"5px\",\r\n            margin: \"0 1rem\",\r\n          }}\r\n          onClick={() => {\r\n            rechecklogged();\r\n          }}\r\n        >\r\n          update\r\n        </button>\r\n        <Changebutton\r\n          name=\"Profile Picture\"\r\n          onClick={() => {\r\n            setProfileModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <img\r\n            alt=\"profile\"\r\n            src={\"/files/\" + user.profilePic}\r\n            style={{\r\n              height: \"75px\",\r\n              margin: \"0 1rem 0 0\",\r\n              borderRadius: \"50%\",\r\n            }}\r\n          />\r\n          <FontAwesomeIcon icon={faPen} />\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={ProfileModelIsOpen}\r\n          onRequestClose={() => {\r\n            setProfileModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (profile) {\r\n                const fd = new FormData();\r\n                fd.append(\"profilepic\", profile);\r\n                const resp = await (\r\n                  await fetch(\"/api/setprofilepic\", {\r\n                    method: \"POST\",\r\n                    body: fd,\r\n                  })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setProfileModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a profile picture!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            PROFILE PICTURE\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              labelStyle={{ color: \"white\" }}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n        <Changebutton name=\"Background Image\" clickable={false}>\r\n          <RouterForm\r\n            action=\"/api/setbackgroundimage\"\r\n            beforecallback={(e: any) => {\r\n              setuploading(true);\r\n              return true;\r\n            }}\r\n            callback={() => {\r\n              if (backgroundinputref.current) {\r\n                backgroundinputref.current.value = \"\";\r\n                setbackgroundImage(undefined);\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            {backgroundImage ? (\r\n              <img\r\n                src={backgroundImage}\r\n                alt=\"background\"\r\n                style={{\r\n                  maxHeight: \"100px\",\r\n                  maxWidth: \"100px\",\r\n                }}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <input\r\n              type=\"file\"\r\n              name=\"backgroundImage\"\r\n              style={{ maxWidth: \"100%\" }}\r\n              onChange={(e: any) => {\r\n                setbackgroundImage(\r\n                  e.target.files[0]\r\n                    ? URL.createObjectURL(e.target.files[0])\r\n                    : undefined\r\n                );\r\n              }}\r\n              accept=\"image/*\"\r\n              ref={backgroundinputref}\r\n            />{\" \"}\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </RouterForm>\r\n        </Changebutton>\r\n        <Changebutton\r\n          name=\"Username\"\r\n          onClick={() => {\r\n            setUsernameModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <span style={{ color: \"white\" }}>\r\n            {user.username}\r\n            <span style={{ color: \"lightgray\" }}>#{user.tag}</span>\r\n            <FontAwesomeIcon icon={faPen} />\r\n          </span>\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={UsernameModelIsOpen}\r\n          onRequestClose={() => {\r\n            setUsernameModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (\r\n                e.target[0].value.trim() !== \"\" &&\r\n                e.target[1].value.trim() !== \"\"\r\n              ) {\r\n                const fd = new FormData();\r\n                fd.append(\"username\", e.target[0].value);\r\n                fd.append(\"pass\", e.target[1].value);\r\n                const resp = await (\r\n                  await fetch(\"/api/setusername\", { method: \"POST\", body: fd })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setUsernameModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a username and password!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            Username\r\n            <div\r\n              style={{\r\n                border: \"solid 1px gray\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                borderRadius: \"5px\",\r\n                width: \"100%\",\r\n              }}\r\n            >\r\n              <input\r\n                onInput={(e: any) => {\r\n                  e.target.value = e.target.value.trimStart();\r\n                  if (e.target.value.length > 30) {\r\n                    e.target.value = e.target.value.substring(0, 30);\r\n                  }\r\n                }}\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"transparent\",\r\n                  border: \"none\",\r\n                  borderRight: \"solid 1px white\",\r\n                  borderRadius: \"0px\",\r\n                }}\r\n                placeholder=\"Username\"\r\n                autoComplete=\"new-password\"\r\n                type=\"text\"\r\n                defaultValue={user.username}\r\n              ></input>\r\n              <span\r\n                style={{\r\n                  color: \"lightgray\",\r\n                  padding: \"0 1rem\",\r\n                  float: \"right\",\r\n                }}\r\n              >\r\n                #{user.tag}\r\n              </span>\r\n            </div>\r\n            <input\r\n              style={{\r\n                width: \"100%\",\r\n                color: \"white\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                border: \"solid 1px gray\",\r\n                borderRadius: \"5px\",\r\n              }}\r\n              placeholder=\"Current Password\"\r\n              autoComplete=\"new-password\"\r\n              type=\"password\"\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserSettings;\r\n","const snooze = (milliseconds: number) =>\r\n  new Promise((resolve) => setTimeout(resolve, milliseconds));\r\nexport default snooze;\r\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport playSound from \"../playsound\";\r\nimport errordataurl from \"../errordataurl.json\";\r\n\r\nfunction LoadError({ error }: { error: String }) {\r\n  useEffect(() => {\r\n    playSound(errordataurl);\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"red\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faExclamationTriangle} />\r\n      </div>\r\n      <h1>ERROR</h1>\r\n      <p>{error}</p>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadError;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport ColorThief from \"colorthief\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\nimport LoadError from \"./error\";\r\nimport { useRef } from \"react\";\r\nimport \"./css/contacts.css\";\r\nimport Modal from \"react-modal\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nconst colorThief = new ColorThief();\r\n\r\nfunction Contact({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  const holdref = useRef<any>();\r\n  const [UserModelIsOpen, setUserModelIsOpen] = useState(false);\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div\r\n        onPointerDown={(e: any) => {\r\n          holdref.current = setTimeout(() => {\r\n            holdref.current = undefined;\r\n            playSound(\"/sounds/click1.mp3\");\r\n            setUserModelIsOpen(true);\r\n          }, 500);\r\n          playSound(\"/sounds/click3.mp3\");\r\n        }}\r\n        onTouchMove={() => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            holdref.current = undefined;\r\n          }\r\n        }}\r\n        onClick={() => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            playSound(\"/sounds/click1.mp3\");\r\n            history.push(`/chat/${user.id}`);\r\n          }\r\n        }}\r\n        style={{\r\n          backgroundImage: user.backgroundImage\r\n            ? `url(/files/${user.backgroundImage})`\r\n            : \"\",\r\n          backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n          padding: \"1rem\",\r\n          marginBottom: \"1rem\",\r\n          backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n          backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n          borderRadius: \"10px\",\r\n          backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n          whiteSpace: \"nowrap\",\r\n          cursor: \"pointer\",\r\n\r\n          minHeight: \"82px\",\r\n        }}\r\n        className={\"contactbutton noselect\"}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          loading=\"lazy\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"50px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={(e: any) => {\r\n            const resp = colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <span>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"20px\",\r\n              marginLeft: \"5px\",\r\n            }}\r\n          >\r\n            {user.username}\r\n          </span>\r\n        </span>\r\n        <div\r\n          style={{\r\n            float: \"right\",\r\n            marginLeft: \"3px\",\r\n            background: \"var(--main-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Hold for Profile\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        isOpen={UserModelIsOpen}\r\n        onRequestClose={() => {\r\n          setUserModelIsOpen(false);\r\n        }}\r\n        style={{\r\n          overlay: {\r\n            backgroundColor: \"rgb(18 18 18 / 50%)\",\r\n            zIndex: 10,\r\n          },\r\n          content: {\r\n            backgroundColor: \"transparent\",\r\n            zIndex: 11,\r\n            border: \"none\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            marginRight: \"-50%\",\r\n            padding: undefined,\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: \"75%\",\r\n            height: \"50%\",\r\n            maxWidth: \"750px\",\r\n\r\n            maxHeight: \"500px\",\r\n          },\r\n        }}\r\n        contentLabel=\"Username Change\"\r\n      >\r\n        <ProfilePage user={user}></ProfilePage>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Contacts() {\r\n  const { loggedin } = useData();\r\n  const { data, loading, error } = useApi<any>(\"/api/getallcontacts\");\r\n  const [search, setsearch] = useState(\"\")\r\n  const [localcontacts, setlocalcontacts] = useLocalStorage<undefined | any>(\r\n    \"contacts\",\r\n    undefined\r\n  );\r\n  useEffect(() => {\r\n    if (data && data.contacts) {\r\n      setlocalcontacts(data.contacts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data]);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (loading || error) && !localcontacts ? (\r\n    error ? (\r\n      <LoadError error={String(error)}></LoadError>\r\n    ) : (\r\n      <Loader></Loader>\r\n    )\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem 0\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          borderRadius: \"10px\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Contacts</h1>\r\n        <div>\r\n          {localcontacts || data.resp ? (\r\n            (data && data.contacts.length > 0) ||\r\n              (localcontacts && localcontacts.length > 0) ? (\r\n              <>\r\n                <input\r\n                  type=\"text\"\r\n                  style={{\r\n                    width: \"100%\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    marginBottom: \"1rem\"\r\n                  }}\r\n                  placeholder={\"search contacts\"}\r\n                  onKeyUp={(e: any) => {\r\n                    setsearch(e.target.value.trim());\r\n                  }}\r\n                ></input>{(data ? data.contacts : localcontacts).map((contact: any) => (\r\n                  (contact.username + \"#\" + contact.tag).toUpperCase().includes(search.toUpperCase()) ? <Contact key={contact.id} user={contact}></Contact> : <></>\r\n                ))}</>\r\n            ) : (\r\n              <p style={{ textAlign: \"center\" }}>\r\n                You have no contacts,{\" \"}\r\n                <span>\r\n                  <Link\r\n                    style={{ color: \"var(--secondary-text-colour)\" }}\r\n                    to=\"/add\"\r\n                  >\r\n                    add people\r\n                  </Link>\r\n                </span>{\" \"}\r\n                or wait for them to add you back!\r\n              </p>\r\n            )\r\n          ) : (\r\n            <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport ColorThief from \"colorthief\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport QRCode from \"qrcode.react\";\r\nimport QrReader from \"react-qr-reader\";\r\n\r\nconst colorThief = new ColorThief();\r\n\r\nfunction UserListing({\r\n  user,\r\n  setloading,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    [key: string]: any;\r\n  };\r\n  setloading: Function;\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        margin: \"1rem\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n      }}\r\n    >\r\n      <img\r\n        alt=\"profile\"\r\n        loading=\"lazy\"\r\n        src={\"/files/\" + user.profilePic}\r\n        style={{\r\n          maxHeight: \"75px\",\r\n          maxWidth: \"100%\",\r\n          height: \"auto\",\r\n          width: \"auto\",\r\n          borderRadius: \"50%\",\r\n        }}\r\n        onLoad={async (e: any) => {\r\n          const resp = colorThief.getColor(e.target);\r\n          setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n        }}\r\n      />\r\n      <span>\r\n        <span\r\n          style={{\r\n            color: \"white\",\r\n            WebkitTextStroke: \"1px black\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"20px\",\r\n            marginLeft: \"5px\",\r\n          }}\r\n        >\r\n          {user.username}\r\n          <span\r\n            style={{\r\n              color: \"lightgray\",\r\n              fontWeight: \"normal\",\r\n            }}\r\n          >\r\n            #{user.tag}\r\n          </span>\r\n        </span>\r\n      </span>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          background: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          borderRadius: \"10px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={async () => {\r\n          setloading(true);\r\n          const formdata = new FormData();\r\n          formdata.append(\"user\", user.id);\r\n          const resp = await (\r\n            await fetch(\"/api/frienduserfromid\", {\r\n              method: \"POST\",\r\n              body: formdata,\r\n            })\r\n          ).json();\r\n          if (resp.friends) {\r\n            history.push(`/chat/${user.id}`);\r\n          } else {\r\n            history.push(`/contacts`);\r\n          }\r\n          setloading(false);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faUserPlus}></FontAwesomeIcon>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddPeople() {\r\n  const [search, setsearch] = useState(\"\");\r\n  const { loggedin, user } = useData();\r\n  const { data, setData } = useApi<any>(\r\n    search\r\n      ? \"/api/searchusers?\" + new URLSearchParams({ q: search }).toString()\r\n      : null\r\n  );\r\n  const { data: friendrequests } = useApi<any>(\"/api/getallfriendrequests\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  useEffect(() => {\r\n    if (!search) setData(undefined);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n  if (!loggedin) {\r\n    history.push(\"/\");\r\n  }\r\n  return loading ? (\r\n    <Loader></Loader>\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Add</h1>\r\n        <div\r\n          style={{\r\n            maxWidth: \"250px\",\r\n            textAlign: \"center\",\r\n            margin: \"1rem auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            padding: \"1rem\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n        >\r\n          {user ? (\r\n            <QRCode\r\n              value={user.id}\r\n              style={{ width: \"100%\", height: undefined }}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <p>add people with your QR Code</p>\r\n          <QrReader\r\n            delay={300}\r\n            onError={console.error}\r\n            onScan={async (scan) => {\r\n              if (scan) {\r\n                setloading(true);\r\n                const formdata = new FormData();\r\n                formdata.append(\"user\", scan);\r\n                const resp = await (\r\n                  await fetch(\"/api/frienduserfromid\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  })\r\n                ).json();\r\n                if (resp.friends) {\r\n                  history.push(`/chat/${scan}`);\r\n                } else {\r\n                  history.push(`/contacts`);\r\n                }\r\n                setloading(false);\r\n              }\r\n            }}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </div>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <h2>Friend Requests</h2>\r\n          <div>\r\n            {friendrequests ? (\r\n              friendrequests.resp ? (\r\n                friendrequests.friendrequests.length > 0 ? (\r\n                  <div>\r\n                    <p style={{ textAlign: \"end\" }}>\r\n                      {friendrequests.friendrequests.length} friend request\r\n                      {friendrequests.friendrequests.length === 1 ? \"\" : \"s\"}\r\n                    </p>\r\n                    {friendrequests.friendrequests.map(\r\n                      (\r\n                        value: {\r\n                          profilePic: string;\r\n                          username: string;\r\n                          id: string;\r\n                          tag: string;\r\n                          backgroundImage: string | null;\r\n                          [key: string]: any;\r\n                        },\r\n                        index: number\r\n                      ) => (\r\n                        <UserListing\r\n                          user={value}\r\n                          setloading={setloading}\r\n                          key={value.id}\r\n                        />\r\n                      )\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <p>You have no friend requests!</p>\r\n                )\r\n              ) : (\r\n                <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n              )\r\n            ) : (\r\n              <p style={{ textAlign: \"center\" }}>loading...</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          style={{\r\n            width: \"100%\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"20px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            color: \"white\",\r\n          }}\r\n          placeholder={\"search users\"}\r\n          onKeyUp={(e: any) => {\r\n            setsearch(e.target.value.trim());\r\n          }}\r\n        ></input>\r\n        <div>\r\n          {data && search ? (\r\n            data.resp ? (\r\n              data.data.length > 0 ? (\r\n                <div>\r\n                  <p style={{ textAlign: \"end\" }}>\r\n                    {data.data.length} result{data.data.length === 1 ? \"\" : \"s\"}{\" \"}\r\n                    found!\r\n                  </p>\r\n                  {data.data.map(\r\n                    (\r\n                      value: {\r\n                        profilePic: string;\r\n                        username: string;\r\n                        id: string;\r\n                        tag: string;\r\n                        backgroundImage: string | null;\r\n                        [key: string]: any;\r\n                      },\r\n                      index: number\r\n                    ) => (\r\n                      <UserListing\r\n                        user={value}\r\n                        setloading={setloading}\r\n                        key={value.id}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <p>No Results Found!</p>\r\n              )\r\n            ) : (\r\n              <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n            )\r\n          ) : (\r\n            <p style={{ textAlign: \"center\" }}>\r\n              type someones username and tag\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPeople;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport { useData } from \"./hooks/datahook\";\r\nimport playSound from \"./playsound\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nfunction NotificationComponent() {\r\n  const { loggedin, NotificationAPI } = useData();\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { lastJsonMessage, sendJsonMessage } = useWebSocket(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n      ? window.location.hostname + \":5000\"\r\n      : window.location.host\r\n    }/notifications`,\r\n    {\r\n      shouldReconnect: () => true,\r\n    },\r\n    loggedin\r\n  );\r\n\r\n  useEffect(() => {\r\n    sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    if (isFocussed) {\r\n      console.log(\"cool\")\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else {\r\n        if (lastJsonMessage.sound !== false) {\r\n          playSound(\r\n            lastJsonMessage.sound\r\n              ? lastJsonMessage.sound\r\n              : \"/sounds/notification.mp3\"\r\n          );\r\n        }\r\n        if (!isFocussed) {\r\n        }\r\n        NotificationAPI({\r\n            title: lastJsonMessage.title,\r\n            message: lastJsonMessage.message,\r\n            type: \"default\",\r\n            onRemoval: (_: string, type: any) => {\r\n              if (type === \"click\") {\r\n                history.push(lastJsonMessage.to);\r\n              }\r\n            },\r\n            insert: \"top\",\r\n            container: \"top-right\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            dismiss: {\r\n              pauseOnHover: true,\r\n              duration: 5000,\r\n              onScreen: true,\r\n            },\r\n          }, ()=>{\r\n            history.push(lastJsonMessage.to);\r\n          });\r\n        }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  return <></>;\r\n}\r\nexport default NotificationComponent;\r\n","import playSound from \"../playsound\";\r\n\r\nconst ToggleSwitch = ({\r\n  children,\r\n  onChange,\r\n  defaultChecked,\r\n  checked,\r\n}: {\r\n  children?: string;\r\n  onChange?: Function;\r\n  checked?: boolean;\r\n  defaultChecked?: boolean;\r\n}) => (\r\n  <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n    <div>{children}</div>\r\n    <label style={{ margin: 0 }} className=\"form-switch noselect\">\r\n      <input\r\n        type=\"checkbox\"\r\n        onChange={(e: any) => {\r\n          if (onChange instanceof Function) {\r\n            onChange(e);\r\n            playSound(`/sounds/click${checked ? 1 : 3}.mp3`);\r\n          }\r\n        }}\r\n        checked={checked}\r\n        defaultChecked={defaultChecked}\r\n      />\r\n      <i></i>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default ToggleSwitch;\r\n","import { useEffect } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport ToggleSwitch from \"./switch\";\r\n\r\nfunction Setting({ children }: { children: any }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        marginBottom: \"1rem\",\r\n        width: \"100%\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"5px\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Settings() {\r\n  const [soundEffects, setSoundEffects] = useLocalStorage(\r\n    \"sound effects\",\r\n    true\r\n  );\r\n  const [personaltyping, setpersonaltyping] = useLocalStorage(\r\n    \"Keyboard Typing Sound\",\r\n    true\r\n  );\r\n  const [Recipienttyping, setRecipienttyping] = useLocalStorage(\r\n    \"Recipient Typing Sound\",\r\n    true\r\n  );\r\n  const [SendSound, setSendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound, setReceiveSound] = useLocalStorage(\r\n    \"Receive Sound\",\r\n    true\r\n  );\r\n  const {data: notifications} = useApi<{discord: boolean, email: boolean}>(\"/api/getNotificationsOn\")\r\n  const [volume, setVolume] = useLocalStorage(\"volume\", 15);\r\n  const [discord, setdiscord] = useLocalStorage(\"discord\", true);\r\n  const [email, setemail] = useLocalStorage(\"email\", true);\r\n  useEffect(()=>{\r\n    if (notifications) {\r\n      setdiscord(notifications.discord)\r\n      setemail(notifications.email)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [notifications])\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Settings</h1>\r\n\r\n        <div>\r\n          <Setting>\r\n            <ToggleSwitch\r\n              onChange={() => {\r\n                setSoundEffects(!soundEffects);\r\n              }}\r\n              checked={soundEffects}\r\n            >\r\n              Sound Effects\r\n            </ToggleSwitch>\r\n          </Setting>\r\n          {soundEffects ? (\r\n            <div\r\n              style={{\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n                paddingTop: \"calc(1rem + 5px)\",\r\n              }}\r\n            >\r\n              <Setting>\r\n                <label\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    margin: 0,\r\n                  }}\r\n                >\r\n                  <div>Volume {volume * 5}%</div>\r\n                  <input\r\n                    type=\"range\"\r\n                    max=\"20\"\r\n                    min=\"0\"\r\n                    value={volume}\r\n                    onInput={(e: any) => {\r\n                      setVolume(e.target.value);\r\n                    }}\r\n                  ></input>\r\n                </label>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setpersonaltyping(!personaltyping);\r\n                  }}\r\n                  checked={personaltyping}\r\n                >\r\n                  Keyboard Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setRecipienttyping(!Recipienttyping);\r\n                  }}\r\n                  checked={Recipienttyping}\r\n                >\r\n                  Recipient Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setSendSound(!SendSound);\r\n                  }}\r\n                  checked={SendSound}\r\n                >\r\n                  Send Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setReceiveSound(!ReceiveSound);\r\n                  }}\r\n                  checked={ReceiveSound}\r\n                >\r\n                  Receive Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div\r\n          style={{\r\n            marginBottom: \"1rem\",\r\n            width: \"100%\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            padding: \"5px\",\r\n            paddingTop: \"calc(1rem + 5px)\",\r\n          }}\r\n        >\r\n          <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setdiscord(!discord)\r\n                    const formdata = new FormData()\r\n                    formdata.append(\"toggle\", JSON.stringify(!discord))\r\n                    fetch(\"/api/togglediscord\", {\r\n                        method: \"POST\",\r\n                        body: formdata,\r\n                      })\r\n                  }}\r\n                  checked={discord}\r\n                >\r\n                  Discord Notifications\r\n                </ToggleSwitch>\r\n          </Setting>\r\n          <Setting>\r\n            \r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setemail(!email)\r\n                    const formdata = new FormData()\r\n                    formdata.append(\"toggle\", JSON.stringify(!email))\r\n                    fetch(\"/api/toggleemail\", {\r\n                        method: \"POST\",\r\n                        body: formdata,\r\n                      })\r\n                  }}\r\n                  checked={email}\r\n                >\r\n                  Email Notifications\r\n                </ToggleSwitch>\r\n          </Setting>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","export default __webpack_public_path__ + \"static/media/Blast icon.d1ad1976.svg\";","export default __webpack_public_path__ + \"static/media/fuel-pump.844df2a4.svg\";","export default __webpack_public_path__ + \"static/media/meteorites.a8554758.svg\";","export default __webpack_public_path__ + \"static/media/planet.82922217.svg\";","export default __webpack_public_path__ + \"static/media/planet1.99da5122.svg\";","export default __webpack_public_path__ + \"static/media/planet2.dc999098.svg\";","export default __webpack_public_path__ + \"static/media/solar-system.9f8bcff9.svg\";","export default __webpack_public_path__ + \"static/media/satellite.4b28ac52.svg\";","export default __webpack_public_path__ + \"static/media/satellite1.43c3ff83.svg\";","export default __webpack_public_path__ + \"static/media/satellite2.8c3fb1a4.svg\";","import blastIcon from \"./images/Blast icon.svg\";\r\nimport fuelIcon from \"./images/fuel-pump.svg\";\r\nimport meteorites from \"./images/meteorites.svg\";\r\nimport \"./css/blast.css\"\r\nimport { useState } from \"react\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\n\r\nimport plant from \"./images/planet.svg\"\r\nimport plant1 from \"./images/planet1.svg\"\r\nimport plant2 from \"./images/planet2.svg\"\r\nimport solarsystem from \"./images/solar-system.svg\"\r\n\r\nimport satellite from \"./images/satellite.svg\"\r\nimport satellite1 from \"./images/satellite1.svg\"\r\nimport satellite2 from \"./images/satellite2.svg\"\r\n\r\n\r\nfunction range(size: number, startAt = 0) {\r\n    return [...Array(size).keys()].map(i => i + startAt);\r\n}\r\n\r\nfunction Star() {\r\n    const [{ x, y, delay }] = useState({ x: Math.random() * 100, y: Math.random() * 100, delay: Math.random() })\r\n    return <div className=\"star\" style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}></div>\r\n}\r\n\r\nfunction Galaxy() {\r\n    const [{ x, y, delay }] = useState({ x: Math.random() * 100, y: Math.random() * 100, delay: Math.random() * 10 })\r\n    return <div className=\"Galaxy\" style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}></div>\r\n}\r\n\r\nfunction Planet({ file }: { file: string }) {\r\n    const [{ x, y, delay }] = useState({ x: Math.random() * 100, y: Math.random() * 100, delay: Math.random() * 10 })\r\n    return <div className=\"Planet\" style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s`, backgroundImage: `url(${file})` }}></div>\r\n}\r\n\r\nfunction Satellite({ file }: { file: string }) {\r\n    const [{ x, y, delay }] = useState({ x: Math.random() * 100, y: Math.random() * 100, delay: Math.random() * 10 })\r\n    return <div className=\"Satellite\" style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s`, backgroundImage: `url(${file})` }}></div>\r\n}\r\n\r\nfunction Blast() {\r\n    const { price, sale } = { price: 100, sale: 0.05 }\r\n    const { width, height } = useWindowSize()\r\n    const [{ xalien, yalien }] = useState({ xalien: 15 + (Math.random() * 30) + \"vw\", yalien: 15 + (Math.random() * 30) + \"vh\" })\r\n    return <div>\r\n        <div><div className=\"stars\">\r\n            {range(Math.round((width * height) / 10000)).map((value) => <Star key={value}></Star>)}\r\n        </div>\r\n            <Galaxy></Galaxy>\r\n\r\n            <Planet file={plant} />\r\n            <Planet file={plant1} />\r\n            <Planet file={plant2} />\r\n            <Planet file={solarsystem} />\r\n\r\n            <Satellite file={satellite} />\r\n            <Satellite file={satellite1} />\r\n            <Satellite file={satellite2} />\r\n\r\n            <div className=\"Alien\" style={{ top: yalien, left: xalien }}></div>\r\n        </div>\r\n        <div className=\"BlastRocket\"></div>\r\n        <div className=\"meteorites\"></div>\r\n        <div className=\"BlastMenu\">\r\n            <div\r\n                style={{\r\n                    margin: \"auto\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    maxWidth: \"700px\",\r\n                }}\r\n            >\r\n                <h1 style={{ textAlign: \"center\" }}>Blast <img src={blastIcon} height=\"35px\" alt=\"\" /></h1>\r\n                <h3>GBP {((price * (1 - sale)) / 100).toFixed(2)} / Rocket Fuel <img src={fuelIcon} height=\"35px\" alt=\"\" /></h3>\r\n                {sale ? <h4>{sale * 100}% off <img src={meteorites} height=\"35px\" alt=\"\" /></h4> : <></>}\r\n\r\n                <div style={{\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\"\r\n                }}><h5>Features</h5>\r\n                    <div style={{ width: \"100%\", height: \"1px\", backgroundColor: \"var(--light-bg-colour)\" }}></div>\r\n                    <ul style={{\r\n                        margin: \"1rem\"\r\n                    }}>\r\n                        <li>unlimied sized messages</li>\r\n                        <li>Bigger monthly upload limit (1 GB / Rocket Fuel <img src={fuelIcon} height=\"15px\" alt=\"\" /> set that month)</li>\r\n                        <li>Blast Profile Badge (stays forever!)</li>\r\n                        <li>Custom backgrounds</li>\r\n                        <li>and much more!</li>\r\n                    </ul>\r\n                </div>\r\n                <div style={{\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    margin: \"1rem\"\r\n                }}><h5>Ready to go to space? <img src={blastIcon} height=\"20px\" alt=\"\" /></h5>\r\n                    <button className=\"subbutton\" disabled style={{opacity: 0.25, cursor: \"not-allowed\"}}>Buy Rocket Fuel <img src={fuelIcon} height=\"25px\" alt=\"\" /></button>\r\n                    <p style={{textAlign: \"center\"}}>Sorry, Rocket Fuel is unable to be bought at the moment. When TypeChat leaves beta, all beta testing account will get 1 free Rocket Fuel!</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div >\r\n}\r\nexport default Blast","import { useParams } from \"react-router\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\n\r\nfunction Verify() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { data, loading, error } = useApi<{ verified: boolean, user: any }>(`/api/verify/${id}`)\r\n    return loading || error ? <Loader></Loader> : data?.verified ? <div style={{ textAlign: \"center\" }}><h1>Verified!</h1><p>the account {data?.user.username}#{data?.user.tag} has been verified!</p></div> : <h1 style={{ textAlign: \"center\" }}>Verification URL invalid!</h1>\r\n}\r\n\r\nexport default Verify","import { Redirect, useParams } from \"react-router\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\"\r\nimport Loader from \"./loader\";\r\n\r\nfunction LinkDiscord() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { loggedin } = useData();\r\n    const { data, error, loading } = useApi<{ linked: boolean, error?: string }>(loggedin?`/api/link/${id}`: null)\r\n    if (!loggedin) {\r\n        return <Redirect to={\"/login?\"+new URLSearchParams({to: `/link/${id}`})}></Redirect>;\r\n    }\r\n    return error || loading ? <Loader></Loader> : <div style={{ textAlign: \"center\" }}>{data?.linked ? <><h1>Account Linked!</h1><p>you can now close this page</p></> : <><h1>Failed to Link</h1><p>{data?.error}</p></>}</div>\r\n}\r\nexport default LinkDiscord","import { faDownload, faPhotoVideo, faPlus } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { useRef } from \"react\"\r\nimport { Link, Redirect, useParams } from \"react-router-dom\"\r\nimport { useData } from \"../hooks/datahook\"\r\nimport useApi from \"../hooks/useapi\"\r\nimport Loader from \"./loader\"\r\n\r\nfunction downloadURI(url: string, filename: string) {\r\n  fetch(url)\r\n    .then(response => response.blob())\r\n    .then(blob => {\r\n      const link = document.createElement(\"a\");\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = filename;\r\n      link.click();\r\n  })\r\n  .catch(console.error);\r\n}\r\n\r\nfunction FilePreview({id, name, mimetype}: {id: string; name: string; mimetype:string}) {\r\n    const fname = name.replace(/\\.[^/.]+$/, \"\")\r\n    const ext = name.substring(name.lastIndexOf('.'))\r\n    return <Link\r\n    style={{color: \"white\", textDecoration: \"none\",\r\n    width: \"100%\",\r\n    maxWidth: \"150px\",}}\r\n    to={\"/drive/\"+id}><div\r\n    style={{\r\n        margin: \"5px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"5px\",\r\n        cursor: \"pointer\"\r\n    }}\r\n    >\r\n        {!(mimetype && mimetype.startsWith(\"image\"))?<div style={{width: \"100%\", height: \"75px\", textAlign: \"center\",\r\n                    borderBottom: \"solid 1px var(--light-bg-colour)\",\r\n                    verticalAlign: \"middle\",\r\n                    lineHeight: \"75px\"}}\r\n                    ><FontAwesomeIcon icon={faPhotoVideo} /></div>:<img src={\"/files/\"+id} alt={name} loading=\"lazy\" style={{width: \"100%\", borderRadius: \"10px\"}}></img>}\r\n        <div style={{padding: \"1rem\"}}>\r\n            <p style={{whiteSpace: \"nowrap\",\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\"\r\n                        }}>\r\n                {fname}</p><span>{ext}</span></div>\r\n        </div>\r\n    </Link>\r\n}\r\n\r\nfunction Drive() {\r\n    const fileref = useRef<any>()\r\n    const { notifications, loggedin } = useData();\r\n    const {data, setData} = useApi<{id: string; filename: string; mimetype: string}[]>(\"/api/mydrive\")\r\n    if (!loggedin) {\r\n        return <Redirect to={\"/login?\"+new URLSearchParams({to: \"/user/drive\"})}></Redirect>;\r\n    }\r\n    return <div style={{textAlign: \"center\", padding: \"1rem\"}}>\r\n                <h1>My Drive</h1>\r\n                {data?<div \r\n                    style={{\r\n                    margin: \"auto\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    borderRadius: \"10px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"1rem\",\r\n                    maxWidth: \"700px\",\r\n                    }}>\r\n                        <input\r\n                        type=\"file\"\r\n                        style={{ display: \"none\" }}\r\n                        ref={fileref}\r\n                        onInput={async (e: any) => {\r\n                        if (e.target.files.length > 0) {\r\n                            const file = e.target.files[0];\r\n                            e.target.value = \"\"\r\n                            const formdata = new FormData()\r\n                            formdata.append(\"file\", file)\r\n                            const id = Math.random();\r\n                            notifications.addNotification({\r\n                                title: \"File\",\r\n                                message: \"Uploading...\",\r\n                                type: \"warning\",\r\n                                insert: \"top\",\r\n                                id,\r\n                                container: \"top-right\",\r\n                                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                              });\r\n                              try {\r\n                            const resp = await (\r\n                                await fetch(\"/api/uploadfile\", {\r\n                                  method: \"POST\",\r\n                                  body: formdata,\r\n                                })\r\n                              ).json();\r\n                            if (resp.resp) {\r\n                                notifications.removeNotification(id);\r\n                                setData((data:{id: string; filename: string; mimetype: string}[])=>[{id: resp.id, filename: file.name, mimetype: file.type}].concat(data))\r\n                            } else {\r\n                                notifications.removeNotification(id);\r\n                                notifications.addNotification({\r\n                                title: \"Upload Error\",\r\n                                message: resp.err,\r\n                                type: \"danger\",\r\n                                insert: \"top\",\r\n                                container: \"top-right\",\r\n                                animationIn: [\r\n                                    \"animate__animated\",\r\n                                    \"animate__fadeIn\",\r\n                                ],\r\n                                animationOut: [\r\n                                    \"animate__animated\",\r\n                                    \"animate__fadeOut\",\r\n                                ],\r\n                                });\r\n                            }\r\n                            console.log(resp)\r\n                            }\r\n                            catch (e) {\r\n                                notifications.removeNotification(id);\r\n                                notifications.addNotification({\r\n                                  title: \"Upload Error\",\r\n                                  message: String(e),\r\n                                  type: \"danger\",\r\n                                  insert: \"top\",\r\n                                  container: \"top-right\",\r\n                                  animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                                  animationOut: [\r\n                                    \"animate__animated\",\r\n                                    \"animate__fadeOut\",\r\n                                  ],\r\n                                });\r\n                              }\r\n                        }\r\n                        }}\r\n                    />\r\n\r\n                <button\r\n                        style={{\r\n                        marginRight: \"5px\",\r\n                        backgroundColor: \"var(--dark-bg-colour)\",\r\n                        padding: \"5px\",\r\n                        borderRadius: \"20px\",\r\n                        border: \"solid 1px var(--light-bg-colour)\",\r\n                        color: \"white\",\r\n                        textAlign: \"center\",\r\n                        }}\r\n                        onClick={() => {\r\n                        if (fileref.current) fileref.current.click();\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faPlus} /> add file\r\n                    </button>\r\n                        <div style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n                    alignItems: \"center\",\r\n                    flexDirection: \"row\",\r\n                    flexWrap: \"wrap\",\r\n                    alignContent: \"center\",}}>{data.map((value)=><FilePreview key={value.id} mimetype={value.mimetype} id={value.id} name={value.filename}></FilePreview>)}</div>\r\n                </div>:<Loader></Loader>}\r\n           </div>\r\n}\r\n\r\nfunction Image() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const {data} = useApi<{id: string; filename: string; mimetype: string}>(\"/api/getimagedata?\"+new URLSearchParams({id}))\r\n    const mimetype = data?.mimetype\r\n    const file = data?.id\r\n\r\n    return data?<div style={{margin: \"1rem\"}}><div \r\n        style={{\r\n        margin: \"1rem auto\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--dark-bg-colour)\",\r\n        padding: \"1rem\",\r\n        maxWidth: \"700px\",\r\n        }}><h1>{data.filename}</h1><div\r\n        onClick={() => {\r\n          downloadURI(\"/files/\"+file, data.filename)\r\n        }}\r\n        style={{\r\n          color: \"var(--secondary-text-colour)\",\r\n          cursor: \"pointer\",\r\n          fontSize: \"25px\"\r\n        }}\r\n      >\r\n      <FontAwesomeIcon icon={faDownload}></FontAwesomeIcon> Download\r\n      </div><div style={{height: \"1px\", backgroundColor: \"var(--light-bg-colour)\", width: \"100%\", margin: \"1rem 0\"}}></div>{mimetype ? (\r\n            mimetype.split(\"/\")[0] === \"image\" ? (\r\n              <img\r\n                alt={file}\r\n                src={`/files/${file}`}\r\n                style={{ width: \"100%\", borderRadius: \"20px\" }}\r\n                loading=\"lazy\"\r\n              ></img>\r\n            ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n              <video\r\n                src={`/files/${file}`}\r\n                style={{ width: \"100%\" }}\r\n                controls\r\n                playsInline\r\n              ></video>\r\n            ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n              <audio\r\n                src={`/files/${file}`}\r\n                style={{ width: \"100%\" }}\r\n                controls\r\n                playsInline\r\n              ></audio>\r\n            ) : (\r\n              <p>No Preview!</p>\r\n            )\r\n          ) : (<p>No Preview!</p>\r\n          )}</div></div>:<Loader></Loader>\r\n}\r\n\r\n\r\nconst exports = {Drive, Image}\r\nexport default exports","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faKey } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction ChangePassword() {\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const { id } = useParams<{ id: string }>();\r\n  const [loading, setloading] = useState(false);\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img src={logo} alt=\"logo\" style={{ width: \"150px\", borderRadius: \"10px\" }}></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faKey}></FontAwesomeIcon> Set Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/api/changepassword\"}\r\n            beforecallback={() => {setloading(true); return true}}\r\n            appendtoformdata={(fd: FormData)=>{fd.append(\"updateID\", id); return fd}}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={(resp: boolean) => {\r\n              setloading(false)\r\n              if (resp) {\r\n              history.push(\"/login\")\r\n              } else {\r\n                seterror(\"failed to change password, maybe the update password key has reset.\")\r\n              }\r\n            }}\r\n          >\r\n            <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Password\r\n          </p>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"pass\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Change Password\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RequestNewPassword() {\r\n  const { loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation()\r\n  const query: { [key: string]: string | string[] } = parse(location.search.slice(1))\r\n  const redirect = query.to ? Array.isArray(query.to) ? query.to[0] : query.to : \"/\"\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img src={logo} alt=\"logo\" style={{ width: \"150px\", borderRadius: \"10px\" }}></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faKey}></FontAwesomeIcon> Change Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/api/requestnewpassword\"}\r\n            beforecallback={(e: any) => {\r\n              if (\r\n                e.target[0].value !== \"\"\r\n              ) { \r\n                if (validateEmail(e.target[0].value)) {\r\n                  setloading(true);\r\n                  return true;\r\n                } else {\r\n                  seterror(\"input a valid email!\");\r\n                }\r\n              } else {\r\n                seterror(\"input a profile, username, email and password!\");\r\n              }\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={() => {\r\n              history.push(\"/login\")\r\n            }}\r\n          >\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Email\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Request New Password\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst exports = {RequestNewPassword, ChangePassword}\r\n\r\nexport default exports;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"./pages/css/toggleswitch.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./pages/css/scrollbar.css\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport { data as datahook } from \"./hooks/datahook\";\r\nimport PageNav from \"./pages/Navbar\";\r\nimport \"./colourPallete.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport useApi from \"./hooks/useapi\";\r\nimport Loader from \"./pages/loader\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Chat from \"./pages/Chat\";\r\nimport \"./pages/css/highlight.css\";\r\nimport Error404 from \"./pages/404\";\r\nimport useLocalStorage from \"./hooks/useLocalStorage\";\r\nimport UserSettings from \"./pages/usersettings\";\r\nimport snooze from \"./snooze\";\r\nimport Contacts from \"./pages/contacts\";\r\nimport ReactNotification, { ReactNotificationOptions, store } from \"react-notifications-component\";\r\n\r\nimport \"react-notifications-component/dist/theme.css\";\r\nimport AddPeople from \"./pages/addpeople\";\r\nimport NotificationComponent from \"./notification\";\r\nimport LoadError from \"./pages/error\";\r\nimport Settings from \"./pages/settings\";\r\nimport Blast from \"./pages/blast\";\r\nimport Verify from \"./pages/Verify\";\r\nimport LinkDiscord from \"./pages/LinkDiscord\";\r\nimport Drive from \"./pages/Drive\";\r\nimport RequestNewPassword from \"./pages/requestNewPassword\";\r\n\r\nfunction App() {\r\n  const { data, error, loading, reload } = useApi<any>(\"/api/userdata\");\r\n  const [navbarsize, setnavbarsize] = useState({ width: 0, height: 0 });\r\n  const [chattingto, setchattingto] = useLocalStorage(\"chattingto\", null);\r\n  const [getuserdataonupdate, setgetuserdataonupdate] = useState(false);\r\n  const [userdata, setuserdata] = useState(data);\r\n  const [catchedcontacts, setcachedcontacts] = useState<any>(null);\r\n  useEffect(() => {\r\n    setuserdata(data);\r\n  }, [data]);\r\n  useEffect(() => {\r\n    if ((\"Notification\" in window) && Notification.permission === \"default\") {\r\n      Notification.requestPermission()\r\n    }\r\n    (async () => {\r\n      try {\r\n        if (!getuserdataonupdate && userdata.loggedin) {\r\n          setgetuserdataonupdate(true);\r\n          const response = await (\r\n            await fetch(\"/api/getuserdataonupdate\")\r\n          ).json();\r\n          if (!response.reconnect) {\r\n            setuserdata(response);\r\n          }\r\n          setgetuserdataonupdate(false);\r\n        }\r\n      } catch {\r\n        await snooze(1000);\r\n        setgetuserdataonupdate(false);\r\n      }\r\n    })();\r\n  });\r\n  function NotificationAPI(options: ReactNotificationOptions, onclick: ()=>{}) {\r\n    if ((\"Notification\" in window) && Notification.permission === \"granted\") {\r\n      const notify = new Notification(String(options.title), {body: String(options.message), icon: \"/logo.png\"})\r\n      notify.addEventListener(\"click\", onclick)\r\n    } else {\r\n      store.addNotification(options)\r\n    }\r\n  }\r\n  return (\r\n    <Router>\r\n      <div style={{ overflowWrap: \"anywhere\" }}>\r\n        {error || loading ? (\r\n          error ? (\r\n            <LoadError error={String(error)}></LoadError>\r\n          ) : (\r\n            <Loader></Loader>\r\n          )\r\n        ) : (\r\n          <datahook.Provider\r\n            value={{\r\n              loggedin: userdata.loggedin,\r\n              user: userdata.user,\r\n              rechecklogged: reload,\r\n              setnavbarsize,\r\n              navbarsize,\r\n              chattingto,\r\n              setchattingto,\r\n              notifications: store,\r\n              catchedcontacts,\r\n              setcachedcontacts,\r\n              NotificationAPI\r\n            }}\r\n          >\r\n            <PageNav />\r\n            <ReactNotification />\r\n            <NotificationComponent />\r\n            <div>\r\n              <Switch>\r\n                <Route path=\"/\" exact>\r\n                  <Home />\r\n                </Route>\r\n                <Route path=\"/chat\" exact>\r\n                  <Redirect to={chattingto ? `/chat/${chattingto}` : \"/\"} />\r\n                </Route>\r\n                <Route\r\n                  path=\"/chat/:id\"\r\n                  render={({ match }) => (\r\n                    <Chat key={match.params.id} isGroupChat={false} />\r\n                  )}\r\n                  exact\r\n                ></Route>\r\n                <Route path=\"/contacts\" exact>\r\n                  <Contacts />\r\n                </Route>\r\n                <Route path=\"/blast\" exact>\r\n                  <Blast />\r\n                </Route>\r\n                <Route path=\"/verify/:id\" exact>\r\n                  <Verify />\r\n                </Route>\r\n                <Route path=\"/settings\" exact>\r\n                  <Settings />\r\n                </Route>\r\n                <Route path=\"/login\" exact>\r\n                  <Login />\r\n                </Route>\r\n                <Route path=\"/link/:id\" exact>\r\n                  <LinkDiscord />\r\n                </Route>\r\n                <Route path=\"/signup\" exact>\r\n                  <Signup />\r\n                </Route>\r\n                <Route path=\"/user/drive\" exact>\r\n                  <Drive.Drive />\r\n                </Route>\r\n                <Route path=\"/drive/:id\" exact>\r\n                  <Drive.Image />\r\n                </Route>\r\n                <Route path=\"/requestNewPassword\" exact>\r\n                  <RequestNewPassword.RequestNewPassword />\r\n                </Route>\r\n                <Route path=\"/updatepassword/:id\" exact>\r\n                  <RequestNewPassword.ChangePassword />\r\n                </Route>\r\n\r\n                <Route path=\"/user/settings\" exact>\r\n                  <UserSettings />\r\n                </Route>\r\n                <Route path=\"/add\" exact>\r\n                  <AddPeople></AddPeople>\r\n                </Route>\r\n                <Route>\r\n                  <Error404></Error404>\r\n                </Route>\r\n              </Switch>\r\n            </div>\r\n          </datahook.Provider>\r\n        )}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"app\")\r\n);\r\nreportWebVitals();\r\nexport default App;\r\n"],"sourceRoot":""}